<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-curriculum-resource/cs61b/cs61b_ch/labs/lab07/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Lab 07 LLRBs | CS自学社区</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.learncs.site/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://www.learncs.site/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://www.learncs.site/docs/curriculum-resource/cs61b/cs61b_ch/labs/lab07"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="baidu-site-verification" content="codeva-hJyfN2UKgo"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Lab 07 LLRBs | CS自学社区"><meta data-rh="true" name="description" content="常见问题解答"><meta data-rh="true" property="og:description" content="常见问题解答"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://www.learncs.site/docs/curriculum-resource/cs61b/cs61b_ch/labs/lab07"><link data-rh="true" rel="alternate" href="https://www.learncs.site/docs/curriculum-resource/cs61b/cs61b_ch/labs/lab07" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.learncs.site/docs/curriculum-resource/cs61b/cs61b_ch/labs/lab07" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="CS自学社区 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="CS自学社区 Atom Feed">




<link rel="stylesheet" href="/katex/katex.min.css"><link rel="stylesheet" href="/assets/css/styles.c4382977.css">
<link rel="preload" href="/assets/js/runtime~main.c3bdb803.js" as="script">
<link rel="preload" href="/assets/js/main.9cfb4d5b.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#fafbfc;color:#091E42" role="banner"><div class="content_knG7 announcementBarContent_xLdY">🎉️🎉️🎉️课程文档汉化工作正在进行中 🎉️🎉️ 学习交流群请到 <a href="/community">社区页面</a> 查看入群方式 🎉️🎉️🎉️</div></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="TeachYourselfCS" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="TeachYourselfCS" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">TeachYourselfCS</b></a><a class="navbar__item navbar__link" href="/docs/roadmap">路线图</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">课程资源</a><a class="navbar__item navbar__link" href="/blog">博客</a><a class="navbar__item navbar__link" href="/community">社区</a><a class="navbar__item navbar__link" href="/donate">捐赠我们</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">前言</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/roadmap">路线图</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/课程资源">课程资源</a><button aria-label="Toggle the collapsible sidebar category &#x27;课程资源&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs50x">cs50x</a><button aria-label="Toggle the collapsible sidebar category &#x27;cs50x&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61a">cs61a</a><button aria-label="Toggle the collapsible sidebar category &#x27;cs61a&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/curriculum-resource/cs61b">cs61b</a><button aria-label="Toggle the collapsible sidebar category &#x27;cs61b&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61b/cs61b_en">cs61b</a><button aria-label="Toggle the collapsible sidebar category &#x27;cs61b&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/curriculum-resource/cs61b/cs61b_ch">cs61 中文版</a><button aria-label="Toggle the collapsible sidebar category &#x27;cs61 中文版&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/cs61b/cs61b_ch/syllabus">syllabus-课程大纲</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61b/cs61b_ch/guides">Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61b/cs61b_ch/homeworks/hw0/hw0a">homeworks</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/curriculum-resource/cs61b/cs61b_ch/labs">Labs</a><button aria-label="Toggle the collapsible sidebar category &#x27;Labs&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61b/cs61b_ch/labs/lab01">Lab 01 Setup</a><button aria-label="Toggle the collapsible sidebar category &#x27;Lab 01 Setup&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61b/cs61b_ch/labs/lab02">Lab 02 Debugging (Part 1)</a><button aria-label="Toggle the collapsible sidebar category &#x27;Lab 02 Debugging (Part 1)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61b/cs61b_ch/labs/lab03">Lab 03 Debugging (Part 2)</a><button aria-label="Toggle the collapsible sidebar category &#x27;Lab 03 Debugging (Part 2)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61b/cs61b_ch/labs/lab04">Lab 04 Git</a><button aria-label="Toggle the collapsible sidebar category &#x27;Lab 04 Git&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61b/cs61b_ch/labs/lab05">Lab 05 Disjoint Sets</a><button aria-label="Toggle the collapsible sidebar category &#x27;Lab 05 Disjoint Sets&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61b/cs61b_ch/labs/lab06">Lab 06 BSTMap</a><button aria-label="Toggle the collapsible sidebar category &#x27;Lab 06 BSTMap&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" aria-expanded="true" tabindex="0" href="/docs/curriculum-resource/cs61b/cs61b_ch/labs/lab07">Lab 07 LLRBs</a><button aria-label="Toggle the collapsible sidebar category &#x27;Lab 07 LLRBs&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/cs61b/cs61b_ch/labs/lab07/faq">FAQ</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61b/cs61b_ch/labs/lab08">Lab 08 Hashmaps</a><button aria-label="Toggle the collapsible sidebar category &#x27;Lab 08 Hashmaps&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61b/cs61b_ch/labs/lab09">Lab 09 Conway&#x27;s Game of Life</a><button aria-label="Toggle the collapsible sidebar category &#x27;Lab 09 Conway&#x27;s Game of Life&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61b/cs61b_ch/labs/lab10">Lab 10 Tetris</a><button aria-label="Toggle the collapsible sidebar category &#x27;Lab 10 Tetris&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61b/cs61b_ch/projects/proj0">projects</a></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/cs61b/notes">学习笔记分享</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61c">cs61c</a><button aria-label="Toggle the collapsible sidebar category &#x27;cs61c&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/18-01">MIT 18.01</a><button aria-label="Toggle the collapsible sidebar category &#x27;MIT 18.01&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/18-02">MIT 18.02</a><button aria-label="Toggle the collapsible sidebar category &#x27;MIT 18.02&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/18-06">MIT 18.06</a><button aria-label="Toggle the collapsible sidebar category &#x27;MIT 18.06&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/6-04j">MIT 6.042J</a><button aria-label="Toggle the collapsible sidebar category &#x27;MIT 6.042J&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs162">cs162</a><button aria-label="Toggle the collapsible sidebar category &#x27;cs162&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs144">cs144</a><button aria-label="Toggle the collapsible sidebar category &#x27;cs144&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/15-445">CMU 15-445</a><button aria-label="Toggle the collapsible sidebar category &#x27;CMU 15-445&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/课程资源"><span itemprop="name">课程资源</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/curriculum-resource/cs61b"><span itemprop="name">cs61b</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/curriculum-resource/cs61b/cs61b_ch"><span itemprop="name">cs61 中文版</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/curriculum-resource/cs61b/cs61b_ch/labs"><span itemprop="name">Labs</span></a><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Lab 07 LLRBs</span><meta itemprop="position" content="5"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Lab 07 LLRBs</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="常见问题解答">常见问题解答<a href="#常见问题解答" class="hash-link" aria-label="Direct link to 常见问题解答" title="Direct link to 常见问题解答">​</a></h2><p>本实验的常见问题解答可以在<a href="/docs/curriculum-resource/cs61b/cs61b_ch/labs/lab07/faq">这里</a>找到。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="准备工作">准备工作<a href="#准备工作" class="hash-link" aria-label="Direct link to 准备工作" title="Direct link to 准备工作">​</a></h2><p>像往常一样，从 <code>skeleton</code> 拉取 Lab 07 的文件，然后在 IntelliJ 中打开。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="学习目标">学习目标<a href="#学习目标" class="hash-link" aria-label="Direct link to 学习目标" title="Direct link to 学习目标">​</a></h2><p>在本实验中，我们将实现左倾红黑树。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="介绍">介绍<a href="#介绍" class="hash-link" aria-label="Direct link to 介绍" title="Direct link to 介绍">​</a></h2><p>在之前的实验中，我们分析了用于访问和插入二叉搜索树的算法的性能。 然而，在某些情况下，我们总是假设树是<em>平衡的</em> - 正如我们所见，可能会产生一棵<em>倾斜</em>的树，从而影响我们数据结构的性能。</p><p>非正式地，树“平衡”意味着从根到每个叶子的路径长度大致相同。 任何需要遍历树的每一层的算法，例如二叉搜索树的查找，其时间复杂度都取决于层数。 关于二叉搜索树，我们可以拥有的最小层数是关于节点数的对数（即 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>log</mi><mo>⁡</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">\log N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mop">lo<span style="margin-right:0.01389em">g</span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.10903em">N</span></span></span></span></span>）。</p><p>为了保持“平衡”的这种特性，我们希望防止获得“倾斜”树的最坏情况，这会导致更差的性能时间。 因此，平衡搜索树/B 树应运而生。它们能够自平衡，从而保持我们期望的“平衡”特性。</p><p>但是，在本实验中，我们将不专注于实现平衡搜索树 - 为什么？ 虽然它们能保证从根节点到任意叶节点的路径长度为 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:0.01389em">g</span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.10903em">N</span><span class="mclose">)</span></span></span></span></span>，但其代码实现难度较高，较为繁琐，并且在常见操作中存在很多边界情况。 它们仍然被普遍使用并提供了很多好处，但它们确实有缺点。 <strong>请注意，在本实验中，我们提到的平衡搜索树均指 2-3 树。</strong></p><p>接下来，我们将学习一种相关的数据结构：<strong>左倾红黑树</strong>。 我们建议您在开始本实验之前查看相关的讲座幻灯片。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="链接-vs-节点">链接 vs 节点<a href="#链接-vs-节点" class="hash-link" aria-label="Direct link to 链接 vs 节点" title="Direct link to 链接 vs 节点">​</a></h3><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p><strong>请不要跳过本节。 在继续本实验之前，请务必阅读本节。</strong> 如果你不阅读本节，你将会感到更加困难。</p></div></div><p>在讲座中，我们介绍了使用<strong>链接</strong>的 LLRB 的概念。 但是，对于本实验，我们将不使用链接来表示我们的 LLRB。 相反，我们将使用<strong>节点</strong>。 主要原因是基于链接的实现<strong>远比基于节点的实现要复杂</strong>。 为了更好地理解，请参考以下示例，它展示了我们在讲座中是如何对该概念进行可视化的。</p><p><img loading="lazy" src="/assets/images/original_links-20de0e3ef8c0150c7115fd179b32a2b7.png" width="737" height="535" class="img_ev3q"></p><p>对于本实验，由于我们将处理着色节点 - 红色链接与其连接的节点之间的关系可以定义如下：</p><p><img loading="lazy" src="/assets/images/link_to_node-cc1ccebb2d99803c0af5ced34a1f10b8.png" width="1560" height="323" class="img_ev3q"></p><p>最初，<code>A</code> 通过红色链接连接到 <code>B</code>。 但是，如果我们在表示中使用着色节点而不是链接，则 <code>A</code> 本身将被着色为红色。 上面的可视化是为了说明红色链接与着色节点之间的对应关系，请在后续实验中牢记这一点！</p><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p><strong>请务必理解着色链接和着色节点之间的关系。在后续的示例和描述中，我们将使用着色节点，以便简化实验的实现。</strong></p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="左倾红黑树">左倾红黑树<a href="#左倾红黑树" class="hash-link" aria-label="Direct link to 左倾红黑树" title="Direct link to 左倾红黑树">​</a></h2><p>本质上，LLRB树就是一种二叉搜索树，但它增加了一些约束条件，即每个节点需要被“着色”为红色或黑色。这种“着色”在2-3树和LLRB树之间建立了一种一一对应的关系！<strong>也就是说，每一棵2-3树都唯一对应于一棵LLRB树，反之亦然。</strong></p><p>这种对应关系非常有用：LLRB树不仅继承了二叉搜索树的所有基本操作，还通过额外的维护工作，实现了与2-3树相同的平衡性。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="llrb树的特性">LLRB树的特性<a href="#llrb树的特性" class="hash-link" aria-label="Direct link to LLRB树的特性" title="Direct link to LLRB树的特性">​</a></h3><p>现在我们来详细说明 LLRB 树的一些特性。 特别是，我们使用有效的 LLRB 树和 2-3 树之间的一一对应关系来推导出这些特性。</p><p>使用彩色节点作为我们的表示，根节点必须涂成黑色。
: 我们将红色节点视为与其父节点位于同一个2-3节点中。 由于根节点没有父节点，所以它不能是红色的。</p><p>如果一个节点有一个红色子节点，它必须在左边。
: 这保证了树的左倾性。</p><p>任何节点都不能同时拥有两个红色的子节点。
: 如果一个节点有两个红色子节点，则意味着这三个节点（父节点和两个子节点）位于同一个2-3节点中。 这意味着对应的2-3节点包含了3个键，这是不允许的。</p><p>红色节点不能有红色的父节点（即红色节点的父节点必须是黑色的）。
: 如果一个红色节点有一个红色父节点，那么红色子节点和红色父节点都与红色父节点的父节点位于同一个 2-3 节点中。 这意味着对应的2-3节点包含了3个键，这是不允许的。</p><p>在平衡的LLRB树中，从根节点到任何空引用的路径上，黑色节点的数量都是相同的。
: 在平衡的 2-3 树中，每个空节点与根节点的距离相同。 我们知道，LLRB树中的每个黑色节点都对应于等价的2-3树中的一个节点。 因此，从LLRB树的根节点到任何空节点的路径上，黑色节点的数量都是相同的。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="插入-llrb-树">插入 LLRB 树<a href="#插入-llrb-树" class="hash-link" aria-label="Direct link to 插入 LLRB 树" title="Direct link to 插入 LLRB 树">​</a></h2><p><strong>向LLRB树中插入节点的过程，首先与标准的二叉搜索树插入算法相同</strong>，即通过搜索找到合适的叶子节点位置。</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p><strong>无论何时向LLRB树中插入新节点，该节点都会被着色为红色。</strong></p></div></div><p>然而，插入新节点后，可能会破坏LLRB树的约束条件，因此我们需要额外的操作来“恢复”这些特性。 我们知道有效的 LLRB 树与 2-3 树之间存在一一对应关系。 让我们使用这种对应关系来尝试推导出这些操作。</p><p>接下来，我们将讨论哪些情况会导致约束条件被破坏，以及如何通过相应的操作来修复它们。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="约束条件如果一个节点有一个红色子节点它必须在左边">约束条件：如果一个节点有一个红色子节点，它必须在左边<a href="#约束条件如果一个节点有一个红色子节点它必须在左边" class="hash-link" aria-label="Direct link to 约束条件：如果一个节点有一个红色子节点，它必须在左边" title="Direct link to 约束条件：如果一个节点有一个红色子节点，它必须在左边">​</a></h3><p>正如前面提到的，新插入的节点总是红色的。 假设我们将新节点插入到LLRB树中，并且该节点最终成为了节点“a”的<strong>右子节点</strong>（这意味着新节点的值大于“a”）。 <strong>假设节点“a”的左子节点是黑色的，或者根本不存在。</strong> 这违反了“如果一个节点存在红色的子节点，那么该子节点必须是左子节点”这一约束条件。 为了避免出现向右倾斜的红色连接，我们需要在父节点上执行<strong>左旋</strong>操作。 如下图所示：</p><p><img loading="lazy" src="/assets/images/rotate_left-be9c1e8dcfe9aa972c75323d17fd677d.png" width="1451" height="728" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="约束条件任何节点都不能同时拥有两个红色的子节点">约束条件：任何节点都不能同时拥有两个红色的子节点<a href="#约束条件任何节点都不能同时拥有两个红色的子节点" class="hash-link" aria-label="Direct link to 约束条件：任何节点都不能同时拥有两个红色的子节点" title="Direct link to 约束条件：任何节点都不能同时拥有两个红色的子节点">​</a></h3><p>让我们考虑另一种情况。与前面类似，我们将一个新节点作为红色节点插入LLRB树中，并且假设它最终成为了节点<code>b</code>的<strong>右子节点</strong>（在本例中）。那么，如果节点<code>b</code>的左子节点也是红色节点，会发生什么呢？ 这就违反了“任何节点都不能有两个红色子节点”的规则。 接下来，我们需要对其父节点执行“颜色翻转”操作。具体来说，我们对节点<code>b</code>进行颜色翻转，即同时翻转节点<code>b</code>及其子节点的颜色。</p><p><img loading="lazy" src="/assets/images/color_flip-fff5fe0f085f1a6a121ace272a70dc2b.png" width="2279" height="886" class="img_ev3q"></p><p>我们稍后会回到这个配置。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="规则红色节点不能有红色的父节点即红色节点的父节点必须是黑色">规则：红色节点不能有红色的父节点（即，红色节点的父节点必须是黑色）<a href="#规则红色节点不能有红色的父节点即红色节点的父节点必须是黑色" class="hash-link" aria-label="Direct link to 规则：红色节点不能有红色的父节点（即，红色节点的父节点必须是黑色）" title="Direct link to 规则：红色节点不能有红色的父节点（即，红色节点的父节点必须是黑色）">​</a></h3><p>这可以分解为以下定义的两种情况。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="两个连续左倾的红色节点">两个连续左倾的红色节点。<a href="#两个连续左倾的红色节点" class="hash-link" aria-label="Direct link to 两个连续左倾的红色节点。" title="Direct link to 两个连续左倾的红色节点。">​</a></h4><p>如果我们插入的新节点成为了一个红色节点的左子节点，会发生什么呢？ 此时，我们需要调整操作，进行“右旋”（<strong>也就是说，不能存在两个连续左倾的红色节点</strong>）。</p><p>右旋是左旋的逆操作！ 如果将右旋应用于新的根节点，它会将我们带回到最初的子树结构。</p><p>在这种情况下，我们对 <code>b</code> 进行右旋：</p><p><img loading="lazy" src="/assets/images/rotate_right-718f1e3ea08863cebe2c2608e37ee283.png" width="1757" height="845" class="img_ev3q"></p><p>此时，我们注意到它与前一种情况相同，因此我们对 <code>a</code> 应用颜色翻转。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="具有右倾红色子节点节点的红色节点">具有右倾红色子节点/节点的红色节点。<a href="#具有右倾红色子节点节点的红色节点" class="hash-link" aria-label="Direct link to 具有右倾红色子节点/节点的红色节点。" title="Direct link to 具有右倾红色子节点/节点的红色节点。">​</a></h4><p>另一种情况是，我们插入的新节点可能最终成为一个已是红色节点的节点的右子节点。 此时，我们需要执行左旋操作。</p><p>如下图所示，我们在此示例中对 <code>a</code> 进行左旋，得到：</p><p><img loading="lazy" src="/assets/images/rotate_left2-173cd2d003e67880a264f8ab3f4f571a.png" width="1444" height="850" class="img_ev3q"></p><p><strong>请注意，这与前面提到的规则相符，即不能存在红色右倾的节点。</strong> 此时，情况又回到了之前讨论过的状态，因此我们可以对节点<code>b</code>进行右旋，并对根节点<code>x</code>执行颜色翻转。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="向上冒泡">向上冒泡<a href="#向上冒泡" class="hash-link" aria-label="Direct link to 向上冒泡" title="Direct link to 向上冒泡">​</a></h4><p>等等——请注意，我们刚刚介绍的某些情况最终导致了颜色翻转。 如果我们修改的子树是一个<em>右子树</em>，并且树的其余部分看起来像这样，该怎么办：</p><p><img loading="lazy" src="/assets/images/upward_propagation-f93ede141d5fd5f5ce1a5d0ce728005d.png" width="893" height="846" class="img_ev3q"></p><p>正如在2-3树中向上移动键可能导致父节点溢出一样，<strong>执行这些变换<em>也可能</em>会违反LLRB树的规则</strong>，从而导致我们再次遇到上述三种情况之一。 我们解决这些情况，直到：</p><ul><li>没有任何违反的规则</li><li>翻转根的颜色</li></ul><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>这意味着，执行颜色翻转、右旋或左旋等操作后，可能会破坏其他的规则，进而需要进行更多的调整。 在尝试解决这些问题时，这些变换会有效地在LLRB树中向上进行，直到所有规则都满足为止。<br><br> 另外，在某些情况下，我们必须记得将根节点恢复为黑色。</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="llrb-插入摘要">LLRB 插入摘要<a href="#llrb-插入摘要" class="hash-link" aria-label="Direct link to LLRB 插入摘要" title="Direct link to LLRB 插入摘要">​</a></h3><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>本节内容对于完成实验非常有帮助，您可以参考下面的图示来理解如何执行这三种操作。 请思考如何将旋转和颜色翻转操作转化为节点和指针重新赋值的问题。</p></div></div><p>我们讨论了三种操作，可以在插入节点后用来“修复”LLRB树的不变性。因为如上所述，可能存在向上渗透的情况，因此，让我们尝试更直观地概括这些操作，特别是旋转操作。</p><p>这两种旋转操作可以将右子节点或左子节点提升到父节点的位置。</p><p><img loading="lazy" src="/assets/images/rotations_summary-8489e3ff14ad54eba929429c86c747a1.png" width="1695" height="700" class="img_ev3q"></p><p>以下是简要描述当我们 <code>rotateRight(b)</code> 时会发生什么：</p><ul><li>子树的根已从 <code>b</code> 更改为 <code>a</code>了。</li><li><code>a</code> 和 <code>b</code> 向右移动了。</li><li>两个节点交换颜色，以便新根与旧根的颜色相同了。</li><li>重组后的子树仍然满足二叉搜索树的属性了。</li></ul><p>以下是简要描述当我们 <code>rotateLeft(a)</code> 时会发生什么：</p><ul><li>子树的根已从 <code>a</code> 更改为 <code>b</code>了。</li><li><code>a</code> 和 <code>b</code> 向左移动了。</li><li>两个节点交换颜色，以便新根与旧根的颜色相同了。</li><li>重组后的子树仍然满足二叉搜索树的属性了。</li></ul><p>我们还有颜色翻转操作：</p><p><img loading="lazy" src="/assets/images/color_flip-fff5fe0f085f1a6a121ace272a70dc2b.png" width="2279" height="886" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="llrb-树的实现">LLRB 树的实现<a href="#llrb-树的实现" class="hash-link" aria-label="Direct link to LLRB 树的实现" title="Direct link to LLRB 树的实现">​</a></h2><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p><strong>您是否已经阅读了<a href="#links-vs-nodes">链接与节点</a>这一节？ 如果还没有，请务必在开始实验前阅读。</strong></p></div></div><p>在开始之前，请务必通读整个类 <code>RedBlackTree.java</code>，尤其是提供的嵌套节点类。 确保也阅读每种方法的注释！</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="练习颜色翻转">练习：颜色翻转<a href="#练习颜色翻转" class="hash-link" aria-label="Direct link to 练习：颜色翻转" title="Direct link to 练习：颜色翻转">​</a></h3><p>让我们首先考虑颜色翻转操作，这对于 LLRB 树的实现至关重要。 给定一个节点，此操作只需翻转其颜色和子节点的颜色。</p><p>在 <code>RedBlackTree.java</code> 中实现 <code>flipColors</code> 方法。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="练习旋转">练习：旋转<a href="#练习旋转" class="hash-link" aria-label="Direct link to 练习：旋转" title="Direct link to 练习：旋转">​</a></h3><p>我们已经看到，我们可以旋转树来平衡它，而不会违反二叉搜索树的不变量。 现在，我们将自己实现它！</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p><strong>对于您的实现，请确保交换旧根和新根的颜色！</strong> <br><br> 提示：这两个操作是对称的。
代码差异会很大吗？ 如果您发现自己陷入困境，请查看上面显示的示例！</p></div></div><p>在 <code>RedBlackTree.java</code> 中，实现 <code>rotateRight</code> 和 <code>rotateLeft</code>。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="练习insert">练习：<code>insert</code><a href="#练习insert" class="hash-link" aria-label="Direct link to 练习insert" title="Direct link to 练习insert">​</a></h3><p>我们现在将在 <code>RedBlackTree.java</code> 中实现 <code>insert</code>。 我们为您提供了一些带有注释的逻辑结构。 <code>insert</code> 方法的第一部分应该实现标准的二叉搜索树插入。 接下来，您需要处理可能触发 <code>rotateLeft</code>、<code>rotateRight</code> 和 <code>colorFlip</code> 操作的各种情况。 请务必仔细遵循每种情况下的步骤！</p><p>请务必使用您已经实现的方法（<code>rotateRight</code>、<code>rotateLeft</code>、<code>flipColors</code>）来简化代码编写。</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p><strong>辅助方法 <code>isRed</code> 已经在骨架代码中提供给您，因此请确保使用它！</strong></p></div></div><p>在 <code>RedBlackTree.java</code> 中实现 <code>insert</code> 方法。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="测试">测试<a href="#测试" class="hash-link" aria-label="Direct link to 测试" title="Direct link to 测试">​</a></h2><p>所有测试都已在本地提供给您。 如果您通过 <code>TestRedBlackTree.java</code> 中的所有测试，您将在 Gradescope 上获得全部学分。 测试代码中包含注释，以帮助您进行调试。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="需要完成的内容">需要完成的内容<a href="#需要完成的内容" class="hash-link" aria-label="Direct link to 需要完成的内容" title="Direct link to 需要完成的内容">​</a></h2><p>完成 <code>RedBlackTree.java</code> 中的以下方法：</p><ul><li><code>flipColors</code></li><li><code>rotateRight</code> 和 <code>rotateLeft</code></li><li><code>insert</code>
这个实验值 5 分。</li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/curriculum-resource/cs61b/cs61b_ch/labs/lab06/faq"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">FAQ</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/curriculum-resource/cs61b/cs61b_ch/labs/lab07/faq"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">FAQ</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#常见问题解答" class="table-of-contents__link toc-highlight">常见问题解答</a></li><li><a href="#准备工作" class="table-of-contents__link toc-highlight">准备工作</a></li><li><a href="#学习目标" class="table-of-contents__link toc-highlight">学习目标</a></li><li><a href="#介绍" class="table-of-contents__link toc-highlight">介绍</a><ul><li><a href="#链接-vs-节点" class="table-of-contents__link toc-highlight">链接 vs 节点</a></li></ul></li><li><a href="#左倾红黑树" class="table-of-contents__link toc-highlight">左倾红黑树</a><ul><li><a href="#llrb树的特性" class="table-of-contents__link toc-highlight">LLRB树的特性</a></li></ul></li><li><a href="#插入-llrb-树" class="table-of-contents__link toc-highlight">插入 LLRB 树</a><ul><li><a href="#约束条件如果一个节点有一个红色子节点它必须在左边" class="table-of-contents__link toc-highlight">约束条件：如果一个节点有一个红色子节点，它必须在左边</a></li><li><a href="#约束条件任何节点都不能同时拥有两个红色的子节点" class="table-of-contents__link toc-highlight">约束条件：任何节点都不能同时拥有两个红色的子节点</a></li><li><a href="#规则红色节点不能有红色的父节点即红色节点的父节点必须是黑色" class="table-of-contents__link toc-highlight">规则：红色节点不能有红色的父节点（即，红色节点的父节点必须是黑色）</a></li><li><a href="#llrb-插入摘要" class="table-of-contents__link toc-highlight">LLRB 插入摘要</a></li></ul></li><li><a href="#llrb-树的实现" class="table-of-contents__link toc-highlight">LLRB 树的实现</a><ul><li><a href="#练习颜色翻转" class="table-of-contents__link toc-highlight">练习：颜色翻转</a></li><li><a href="#练习旋转" class="table-of-contents__link toc-highlight">练习：旋转</a></li><li><a href="#练习insert" class="table-of-contents__link toc-highlight">练习：<code>insert</code></a></li></ul></li><li><a href="#测试" class="table-of-contents__link toc-highlight">测试</a></li><li><a href="#需要完成的内容" class="table-of-contents__link toc-highlight">需要完成的内容</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">CS学习社区</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">路线图</a></li></ul></div><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">捐赠</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/donate">捐赠我们</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyleft © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.c3bdb803.js"></script>
<script src="/assets/js/main.9cfb4d5b.js"></script>
</body>
</html>