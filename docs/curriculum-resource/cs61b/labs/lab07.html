<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-curriculum-resource/cs61b/labs/lab07/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Lab 07 LLRBs | CS自学社区</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.learncs.site/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://www.learncs.site/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://www.learncs.site/docs/curriculum-resource/cs61b/labs/lab07"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Lab 07 LLRBs | CS自学社区"><meta data-rh="true" name="description" content="FAQ"><meta data-rh="true" property="og:description" content="FAQ"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://www.learncs.site/docs/curriculum-resource/cs61b/labs/lab07"><link data-rh="true" rel="alternate" href="https://www.learncs.site/docs/curriculum-resource/cs61b/labs/lab07" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.learncs.site/docs/curriculum-resource/cs61b/labs/lab07" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="CS自学社区 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="CS自学社区 Atom Feed"><link rel="stylesheet" href="/assets/css/styles.0cbaf963.css">
<link rel="preload" href="/assets/js/runtime~main.dbbdb5cf.js" as="script">
<link rel="preload" href="/assets/js/main.1a4b7c01.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="TeachYourselfCS" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="TeachYourselfCS" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">TeachYourselfCS</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">自学路线</a><a class="navbar__item navbar__link" href="/blog">博客</a><a class="navbar__item navbar__link" href="/community">社区</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">前言</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/roadmap">路线图</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/课程资源">课程资源</a><button aria-label="Toggle the collapsible sidebar category &#x27;课程资源&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs50x">cs50x</a><button aria-label="Toggle the collapsible sidebar category &#x27;cs50x&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61a">cs61a</a><button aria-label="Toggle the collapsible sidebar category &#x27;cs61a&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/curriculum-resource/cs61b">cs61b</a><button aria-label="Toggle the collapsible sidebar category &#x27;cs61b&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/cs61b/syllabus">syllabus-课程大纲</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61b/guides">Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61b/homeworks/hw0/hw0a">homeworks</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/curriculum-resource/cs61b/labs">Labs</a><button aria-label="Toggle the collapsible sidebar category &#x27;Labs&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61b/labs/lab01">Lab 01 Setup</a><button aria-label="Toggle the collapsible sidebar category &#x27;Lab 01 Setup&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61b/labs/lab02">Lab 02 Debugging (Part 1)</a><button aria-label="Toggle the collapsible sidebar category &#x27;Lab 02 Debugging (Part 1)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61b/labs/lab03">Lab 03 Debugging (Part 2)</a><button aria-label="Toggle the collapsible sidebar category &#x27;Lab 03 Debugging (Part 2)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61b/labs/lab04">Lab 04 Git</a><button aria-label="Toggle the collapsible sidebar category &#x27;Lab 04 Git&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61b/labs/lab05">Lab 05 Disjoint Sets</a><button aria-label="Toggle the collapsible sidebar category &#x27;Lab 05 Disjoint Sets&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61b/labs/lab06">Lab 06 BSTMap</a><button aria-label="Toggle the collapsible sidebar category &#x27;Lab 06 BSTMap&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" aria-expanded="true" tabindex="0" href="/docs/curriculum-resource/cs61b/labs/lab07">Lab 07 LLRBs</a><button aria-label="Toggle the collapsible sidebar category &#x27;Lab 07 LLRBs&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/cs61b/labs/lab07/faq">FAQ</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61b/labs/lab08">Lab 08 Hashmaps</a><button aria-label="Toggle the collapsible sidebar category &#x27;Lab 08 Hashmaps&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61b/labs/lab09">Lab 09 Conway&#x27;s Game of Life</a><button aria-label="Toggle the collapsible sidebar category &#x27;Lab 09 Conway&#x27;s Game of Life&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61b/labs/lab10">Lab 10 Tetris</a><button aria-label="Toggle the collapsible sidebar category &#x27;Lab 10 Tetris&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61b/projects/proj0">projects</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61c">cs61c</a><button aria-label="Toggle the collapsible sidebar category &#x27;cs61c&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/18-01">MIT 18.01</a><button aria-label="Toggle the collapsible sidebar category &#x27;MIT 18.01&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/18-02">MIT 18.02</a><button aria-label="Toggle the collapsible sidebar category &#x27;MIT 18.02&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/课程资源"><span itemprop="name">课程资源</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/curriculum-resource/cs61b"><span itemprop="name">cs61b</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/curriculum-resource/cs61b/labs"><span itemprop="name">Labs</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Lab 07 LLRBs</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Lab 07 LLRBs</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="faq">FAQ<a href="#faq" class="hash-link" aria-label="Direct link to FAQ" title="Direct link to FAQ">​</a></h2><p>The FAQ for this lab can be found <a href="/docs/curriculum-resource/cs61b/labs/lab07/faq">here</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="before-you-begin">Before You Begin<a href="#before-you-begin" class="hash-link" aria-label="Direct link to Before You Begin" title="Direct link to Before You Begin">​</a></h2><p>As usual, pull the Lab 07 files from the <code>skeleton</code> and open them in IntelliJ.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="learning-goals">Learning Goals<a href="#learning-goals" class="hash-link" aria-label="Direct link to Learning Goals" title="Direct link to Learning Goals">​</a></h2><p>In this lab, we will be implementing left-leaning red-black trees. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2><p>In the previous labs, we&#x27;ve analyzed the performance of algorithms for
access and insertion into the binary search tree. However, in some cases,
we&#x27;ve always assumed that the trees were <em>balanced</em> - as we&#x27;ve seen,
it&#x27;s possible to produce a <em>spindly</em> tree that affects the performance
of our data structure. </p><p>Informally, a tree being &quot;balanced&quot; means that the paths from the root to
each leaf are all roughly the same length. Any algorithm that looks once at
each level of the tree -- such as searching for a value in the binary search
tree -- only looks at the number of layers. In regard to the binary search
tree, the smallest number of layers we can have is logarithmic with respect
to number of nodes (i.e. $$\log N$$). </p><p>To maintain this property of &quot;balanced&quot;, we want to prevent the worst case scenario
of obtaining a &quot;spindly&quot; tree, which leads to worse performance times. This is where
balanced search trees/b-trees come in - they are effectively self-balancing and will
maintain the &quot;balanced&quot; property that we want.</p><p>However, in this lab, we won&#x27;t be focusing on implementing balanced search trees - why? While
they do guarantee that a path from the root to any leaf is $$O(\log N)$$, they&#x27;re
also notoriously difficult and cumbersome to code, with numerous corner cases for
common operations. They are still commonly used and provide plenty of benefits, but
they do have drawbacks. <strong>Keep in mind that we&#x27;ll still reference balanced search trees
throughout this lab (any reference to a balanced search tree from here on out is a reference
to a 2-3 tree).</strong></p><p>We then turn our attention to a related data structure: <strong>left-leaning red-black trees</strong>.
We recommend that you review the relevant lecture slides before getting started on this lab. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="links-vs-nodes">Links vs Nodes<a href="#links-vs-nodes" class="hash-link" aria-label="Direct link to Links vs Nodes" title="Direct link to Links vs Nodes">​</a></h3><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p><strong>Please do not skip this section. This is important for you to
read before you continue on with the rest of the lab.</strong> It will be much harder for you
if you do not read this section.</p></div></div><p>In lecture, we&#x27;ve introduced the concept of LLRBs with <strong>links</strong>. However, for this lab,
we will not be representing our LLRBs with links. Instead, we&#x27;ll be using <strong>nodes</strong>. The main
reason for this is that the implementation with links <strong>is much harder</strong> than with nodes.
To cover our ground here, consider the example below of how we&#x27;ve introduced the visualization
of it in lecture.</p><p><img loading="lazy" src="/assets/images/original_links-20de0e3ef8c0150c7115fd179b32a2b7.png" width="737" height="535" class="img_ev3q"></p><p>For this lab, since we&#x27;ll be handling colored nodes - the relationship between the red link
and its connected node can be defined like below:</p><p><img loading="lazy" src="/assets/images/link_to_node-cc1ccebb2d99803c0af5ced34a1f10b8.png" width="1560" height="323" class="img_ev3q"></p><p>Originally, <code>A</code> was connected to <code>B</code> by a red link. But if we use colored nodes in our representation
instead of links, <code>A</code> itself would be colored red. The visualization above is meant to show
how a red link would map to a colored node, so please keep this mind for the rest of the lab!</p><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p><strong>Be aware of the relationship between the colored link and
the corresponding colored node, as for the rest of the lab, we&#x27;ll be using colored nodes
in our examples and descriptions to make the lab implementation easier.</strong></p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="left-leaning-red-black-trees">Left-Leaning Red-Black Trees<a href="#left-leaning-red-black-trees" class="hash-link" aria-label="Direct link to Left-Leaning Red-Black Trees" title="Direct link to Left-Leaning Red-Black Trees">​</a></h2><p>At its core, LLRBs are just a binary search tree, but there are a few additional
invariants related to &quot;coloring&quot; each node red or black. This &quot;coloring&quot; creates
a one-to-one mapping between 2-3 trees and LLRBs! <strong>In particular, every 2-3 tree
corresponds to exactly one LLRB, and vice-versa.</strong></p><p>The consequence is quite astounding: LLRBs maintain the balance of
2-3 trees while inheriting all normal binary search tree operations
with additional housekeeping.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="llrb-tree-properties">LLRB Tree Properties<a href="#llrb-tree-properties" class="hash-link" aria-label="Direct link to LLRB Tree Properties" title="Direct link to LLRB Tree Properties">​</a></h3><p>We now specify some properties of LLRB trees. In particular, we
use the one-to-one mapping between valid LLRB trees and 2-3
trees to derive some of these properties.</p><p>Using colored nodes as our representation, the root node must be colored black.
: Our interpretation of red nodes is that they are in the same 2-3 node as
their parent. The root node has no parent, so it cannot be red.</p><p>If a node has one red child, it must be on the left.
: This makes the tree left-leaning.</p><p>No node can have two red children.
: If a node has two red children, then both children are in the same 2-3 node
as the parent. This means that the corresponding 2-3 node contains 3 keys,
which is not allowed.</p><p>No red node can have a red parent (every red node&#x27;s parent is black).
: If a red node has a red parent, then both the red child and red parent are in
the same 2-3 node as the red parent&#x27;s parent. This means that the
corresponding 2-3 node contains 3 keys, which is not allowed.</p><p>In a balanced LLRB tree, every path to a null reference goes through the same number of black nodes.
: In a balanced 2-3 tree, every null node is the same distance from the root.
We also know that every black node in an LLRB tree corresponds to exactly one
node in the equivalent 2-3 tree. Therefore, every null node in an LLRB tree
is the same number of black nodes from the root.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="inserting-into-llrb-trees">Inserting Into LLRB Trees<a href="#inserting-into-llrb-trees" class="hash-link" aria-label="Direct link to Inserting Into LLRB Trees" title="Direct link to Inserting Into LLRB Trees">​</a></h2><p><strong>Insertion into LLRB trees starts off with the regular binary search tree
insertion algorithm</strong>, where we search to find the appropriate leaf location.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p><strong>Whenever we insert a node into a LLRB, we insert it as a red node.</strong></p></div></div><p>However, once we&#x27;ve placed the node, this can can break the LLRB
invariants, so we need additional operations that can &quot;restore&quot; LLRB properties.
We know that there is a one-to-one correspondence of valid
LLRB to 2-3 trees. Let&#x27;s use this correspondence to try to derive
these operations.</p><p>We&#x27;ll cover different cases when our invariants are broken and the appropriate
operations to fix them. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="invariant-if-a-node-has-one-red-child-it-must-be-on-the-left">Invariant: If a node has one red child, it must be on the left<a href="#invariant-if-a-node-has-one-red-child-it-must-be-on-the-left" class="hash-link" aria-label="Direct link to Invariant: If a node has one red child, it must be on the left" title="Direct link to Invariant: If a node has one red child, it must be on the left">​</a></h3><p>As mentioned, our inserted node will be red. Let&#x27;s say we insert our node into our
LLRB and it ends up as a <strong>right child</strong> of node <code>a</code> (this implies that the value in our
node is greater than <code>a</code>). <strong>Let&#x27;s assume that the left child of node <code>a</code> is black or
doesn&#x27;t exist.</strong> This breaks our invariant, where &quot;If a node has one red
child, it must be on the left&quot;. Since we can&#x27;t have any red-leaning nodes, we
would want to <strong>rotate left</strong> on the parent node. An example is shown below:</p><p><img loading="lazy" src="/assets/images/rotate_left-be9c1e8dcfe9aa972c75323d17fd677d.png" width="1451" height="728" class="img_ev3q">{: style=&quot;max-height: 250px;&quot; }</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="invariant-no-node-can-have-two-red-children">Invariant: No node can have two red children<a href="#invariant-no-node-can-have-two-red-children" class="hash-link" aria-label="Direct link to Invariant: No node can have two red children" title="Direct link to Invariant: No node can have two red children">​</a></h3><p>Let&#x27;s consider another case. Similar to above, we insert our node into the LLRB
as a red node, and it ends up as the <strong>right child</strong> of node <code>b</code> (in this example).
What happens when node <code>b</code>&#x27;s left child is a red node? This then breaks the invariant
of &quot;No node can have two red children&quot;. We then perform the operation
&quot;color flip&quot; on the parent. Here, we apply the color flip operation on <code>b</code>,
flipping its color and its childrens&#x27; colors.</p><p><img loading="lazy" src="/assets/images/color_flip-fff5fe0f085f1a6a121ace272a70dc2b.png" width="2279" height="886" class="img_ev3q">{: style=&quot;max-height: 250px;&quot; }</p><p>We will return to this configuration later.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="invariant-no-red-node-can-have-a-red-parent-every-red-nodes-parent-is-black">Invariant: No red node can have a red parent (every red node’s parent is black)<a href="#invariant-no-red-node-can-have-a-red-parent-every-red-nodes-parent-is-black" class="hash-link" aria-label="Direct link to Invariant: No red node can have a red parent (every red node’s parent is black)" title="Direct link to Invariant: No red node can have a red parent (every red node’s parent is black)">​</a></h3><p>This can be broken down into two cases defined below.  </p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="two-consecutive-left-leaning-red-nodes">Two consecutive left-leaning red nodes.<a href="#two-consecutive-left-leaning-red-nodes" class="hash-link" aria-label="Direct link to Two consecutive left-leaning red nodes." title="Direct link to Two consecutive left-leaning red nodes.">​</a></h4><p>What happens if we insert our node and it ends up as a left child of a red node?
In this case, we then want to adjust our operation and &quot;rotate right&quot; (<strong>in other
words, it is not possible to have two left-leaning red nodes</strong>).</p><p>Rotating right is the opposite of rotating left! It will give us back the
original subtree if applied to the new root.</p><p>In this case, we rotate right on <code>b</code>:</p><p><img loading="lazy" src="/assets/images/rotate_right-718f1e3ea08863cebe2c2608e37ee283.png" width="1757" height="845" class="img_ev3q">{: style=&quot;max-height: 250px;&quot; }</p><p>At this point, we notice that it&#x27;s the same pattern as the previous case, so
we apply a color flip to <code>a</code>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="red-node-with-a-right-leaning-red-childnode">Red node with a right-leaning red child/node.<a href="#red-node-with-a-right-leaning-red-childnode" class="hash-link" aria-label="Direct link to Red node with a right-leaning red child/node." title="Direct link to Red node with a right-leaning red child/node.">​</a></h4><p>In the other case, we might end up with our node becoming the right child of an
already red node. In this case, we then apply our rotate left operation. </p><p>As shown below, we rotate left on <code>a</code> in this example and we get:</p><p><img loading="lazy" src="/assets/images/rotate_left2-173cd2d003e67880a264f8ab3f4f571a.png" width="1444" height="850" class="img_ev3q">{: style=&quot;max-height: 250px;&quot; }</p><p><strong>Note that this ties into the invariant mentioned above, where we can&#x27;t have a
red-leaning right node.</strong> Here, we have the previous case again, so we know that we can rotate right on
<code>b</code> and apply a color flip to the root, <code>x</code>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="upward-propagation">Upward Propagation<a href="#upward-propagation" class="hash-link" aria-label="Direct link to Upward Propagation" title="Direct link to Upward Propagation">​</a></h4><p>Hold on -- notice that some of these cases we just covered have ended up in a color flip.
What if the subtree we modified was a <em>right subtree</em>, and the rest of the tree looked
like this:</p><p><img loading="lazy" src="/assets/images/upward_propagation-f93ede141d5fd5f5ce1a5d0ce728005d.png" width="893" height="846" class="img_ev3q">{: style=&quot;max-height: 250px;&quot; }</p><p>Just like how pushing up a key in a 2-3 tree may result in overstuffing
the parent node, <strong>performing these transformations may <em>also</em> violate an LLRB
invariant</strong>, giving us one of these three cases again. We resolve
these cases until we either:</p><ul><li>Do not have any broken invariants</li><li>Flip the root&#x27;s color</li></ul><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>What this means is that performing some of these operations (color flip,
rotate right, or rotate left) may end up breaking another invariant, resulting
in more operations. As we try to resolve these cases, these transformations
effectively work up the LLRB tree until we&#x27;ve resolved them according to the
conditions above. <br><br> In some cases, we must remember to flip the
root back to black in our representation.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="llrb-insertion-summary">LLRB Insertion Summary<a href="#llrb-insertion-summary" class="hash-link" aria-label="Direct link to LLRB Insertion Summary" title="Direct link to LLRB Insertion Summary">​</a></h3><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>This section will the most helpful for lab, as you can refer to the diagrams below
on how you would perform the three operations. Consider how you can translate the
rotation operations and color flip operations to a problem involving nodes
and pointer reassignments.</p></div></div><p>We discussed three operations that we can use to &quot;fix&quot; the LLRB invariants
after inserting a node. Because it&#x27;s possible to have upward propagation as mentioned above,
let&#x27;s try to generalize our operations a little more visually (specifically for our rotations). </p><p>We have two rotations, that can be used to move a right child or left child
up into their parent&#x27;s position:</p><p><img loading="lazy" src="/assets/images/rotations_summary-8489e3ff14ad54eba929429c86c747a1.png" width="1695" height="700" class="img_ev3q">{: style=&quot;max-height: 250px;&quot; }</p><p>Here&#x27;s a brief description of what happens when we <code>rotateRight(b)</code>:</p><ul><li>The root of the subtree has changed from <code>b</code> to <code>a</code>.</li><li><code>a</code> and <code>b</code> have moved to the &quot;right&quot;.</li><li>The two nodes swap colors so that the new root is the same color as the old root.</li><li>The reorganized subtree still satisfies the binary search property.</li></ul><p>Here&#x27;s a brief description of what happens when we <code>rotateLeft(a)</code>: </p><ul><li>The root of the subtree has changed from <code>a</code> to <code>b</code>.</li><li><code>a</code> and <code>b</code> have moved to the &quot;left&quot;.</li><li>The two nodes swap colors so that the new root is the same color as the old root.</li><li>The reorganized subtree still satisfies the binary search property.</li></ul><p>We also have the color flip operation:</p><p><img loading="lazy" src="/assets/images/color_flip-fff5fe0f085f1a6a121ace272a70dc2b.png" width="2279" height="886" class="img_ev3q">{: style=&quot;max-height: 250px;&quot; }</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="llrb-tree-implementation">LLRB Tree Implementation<a href="#llrb-tree-implementation" class="hash-link" aria-label="Direct link to LLRB Tree Implementation" title="Direct link to LLRB Tree Implementation">​</a></h2><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p><strong>Have you read this <a href="#links-vs-nodes">section</a> yet? If you haven&#x27;t
done so, please do before you start implementing this lab.</strong></p></div></div><p>Before starting, make sure to read through the entire class, <code>RedBlackTree.java</code>, especially
the provided nested node class. Make sure to also read the comments for each method! </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="exercise-color-flip">Exercise: Color Flip<a href="#exercise-color-flip" class="hash-link" aria-label="Direct link to Exercise: Color Flip" title="Direct link to Exercise: Color Flip">​</a></h3><p>Let&#x27;s first consider the color flip operation that is essential to LLRB tree
implementation. Given a node, this operation simply flips its color and
the children&#x27;s colors.</p><p>:::task
Implement the <code>flipColors</code> method in <code>RedBlackTree.java</code>.
:::</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="exercise-rotations">Exercise: Rotations<a href="#exercise-rotations" class="hash-link" aria-label="Direct link to Exercise: Rotations" title="Direct link to Exercise: Rotations">​</a></h3><p>We have seen that we can rotate the tree to balance it without violating the
binary search tree invariants. Now, will implement it ourselves!</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p><strong>For your implementation, make sure to swap the colors of the old root
and the new root!</strong> <br><br> Hint: The two operations are symmetric.
Should the code significantly differ? If you find yourself stuck, take
a look at the examples that are shown above!</p></div></div><p>:::task
In <code>RedBlackTree.java</code>, implement <code>rotateRight</code> and <code>rotateLeft</code>.
:::</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="exercise-insert">Exercise: <code>insert</code><a href="#exercise-insert" class="hash-link" aria-label="Direct link to exercise-insert" title="Direct link to exercise-insert">​</a></h3><p>We will now implement <code>insert</code> in <code>RedBlackTree.java</code>. We have provided you
with some of the logic structure with comments. The first part of <code>insert</code>
should hand normal binary search tree insertion. You&#x27;ll then want to handle
the different cases that causes one of the operations
(<code>rotateLeft</code>, <code>rotateRight</code>, <code>colorFlip</code>) to occur. <strong>Make sure you follow
the steps from all the cases very carefully!</strong></p><p>Make sure to use the methods you&#x27;ve already implemented (<code>rotateRight</code>, <code>rotateLeft</code>,
<code>flipColors</code>) to simplify the code writing. </p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p><strong>The helper method <code>isRed</code> has already been provided to you in
the skeleton code so make sure to use it!</strong></p></div></div><p>:::task
Implement the <code>insert</code> method in <code>RedBlackTree.java</code>.
:::</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="testing">Testing<a href="#testing" class="hash-link" aria-label="Direct link to Testing" title="Direct link to Testing">​</a></h2><p>All tests have been provided to you locally. If you pass all tests in
<code>TestRedBlackTree.java</code>, you will receive full credit on Gradescope.
Comments have been provided for you throughout the tests
to help you further debug. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="deliverables">Deliverables<a href="#deliverables" class="hash-link" aria-label="Direct link to Deliverables" title="Direct link to Deliverables">​</a></h2><p>Complete the following methods in <code>RedBlackTree.java</code>:</p><ul><li><code>flipColors</code></li><li><code>rotateRight</code> and <code>rotateLeft</code></li><li><code>insert</code></li></ul><p>This lab is worth 5 points.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/curriculum-resource/cs61b/labs/lab06/faq"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">FAQ</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/curriculum-resource/cs61b/labs/lab07/faq"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">FAQ</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#faq" class="table-of-contents__link toc-highlight">FAQ</a></li><li><a href="#before-you-begin" class="table-of-contents__link toc-highlight">Before You Begin</a></li><li><a href="#learning-goals" class="table-of-contents__link toc-highlight">Learning Goals</a></li><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a><ul><li><a href="#links-vs-nodes" class="table-of-contents__link toc-highlight">Links vs Nodes</a></li></ul></li><li><a href="#left-leaning-red-black-trees" class="table-of-contents__link toc-highlight">Left-Leaning Red-Black Trees</a><ul><li><a href="#llrb-tree-properties" class="table-of-contents__link toc-highlight">LLRB Tree Properties</a></li></ul></li><li><a href="#inserting-into-llrb-trees" class="table-of-contents__link toc-highlight">Inserting Into LLRB Trees</a><ul><li><a href="#invariant-if-a-node-has-one-red-child-it-must-be-on-the-left" class="table-of-contents__link toc-highlight">Invariant: If a node has one red child, it must be on the left</a></li><li><a href="#invariant-no-node-can-have-two-red-children" class="table-of-contents__link toc-highlight">Invariant: No node can have two red children</a></li><li><a href="#invariant-no-red-node-can-have-a-red-parent-every-red-nodes-parent-is-black" class="table-of-contents__link toc-highlight">Invariant: No red node can have a red parent (every red node’s parent is black)</a></li><li><a href="#llrb-insertion-summary" class="table-of-contents__link toc-highlight">LLRB Insertion Summary</a></li></ul></li><li><a href="#llrb-tree-implementation" class="table-of-contents__link toc-highlight">LLRB Tree Implementation</a><ul><li><a href="#exercise-color-flip" class="table-of-contents__link toc-highlight">Exercise: Color Flip</a></li><li><a href="#exercise-rotations" class="table-of-contents__link toc-highlight">Exercise: Rotations</a></li><li><a href="#exercise-insert" class="table-of-contents__link toc-highlight">Exercise: <code>insert</code></a></li></ul></li><li><a href="#testing" class="table-of-contents__link toc-highlight">Testing</a></li><li><a href="#deliverables" class="table-of-contents__link toc-highlight">Deliverables</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">CS学习社区</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">路线图</a></li></ul></div><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.dbbdb5cf.js"></script>
<script src="/assets/js/main.1a4b7c01.js"></script>
</body>
</html>