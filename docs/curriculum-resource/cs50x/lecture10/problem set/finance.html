<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-curriculum-resource/cs50x/lecture10/problem set/finance" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">finance | CS自学社区</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.learncs.site/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://www.learncs.site/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://www.learncs.site/docs/curriculum-resource/cs50x/lecture10/problem set/finance"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="finance | CS自学社区"><meta data-rh="true" name="description" content="cs50x problem set finance"><meta data-rh="true" property="og:description" content="cs50x problem set finance"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://www.learncs.site/docs/curriculum-resource/cs50x/lecture10/problem set/finance"><link data-rh="true" rel="alternate" href="https://www.learncs.site/docs/curriculum-resource/cs50x/lecture10/problem set/finance" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.learncs.site/docs/curriculum-resource/cs50x/lecture10/problem set/finance" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="CS自学社区 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="CS自学社区 Atom Feed">



<link rel="preconnect" href="https://hm.baidu.com">
<script async src="https://hm.baidu.com/hm.js?c106b2729592653e5e0c26db5e5d3142"></script>
<script src="https://sf-cdn.coze.com/obj/unpkg-va/flow-platform/chat-app-sdk/0.1.0-beta.4/libs/oversea/index.js"></script>
<script>document.addEventListener("DOMContentLoaded",(function(){console.log("DOMContentLoaded coze"),new CozeWebSDK.WebChatClient({config:{bot_id:"7380921096788590598"},componentProps:{title:"AI 助教"}})}))</script><link rel="stylesheet" href="/assets/css/styles.0cbaf963.css">
<link rel="preload" href="/assets/js/runtime~main.761676e0.js" as="script">
<link rel="preload" href="/assets/js/main.cf349332.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="TeachYourselfCS" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="TeachYourselfCS" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">TeachYourselfCS</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">自学路线</a><a class="navbar__item navbar__link" href="/blog">博客</a><a class="navbar__item navbar__link" href="/community">社区</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">前言</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/roadmap">路线图</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/课程资源">课程资源</a><button aria-label="Toggle the collapsible sidebar category &#x27;课程资源&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/curriculum-resource/cs50x">cs50x</a><button aria-label="Toggle the collapsible sidebar category &#x27;cs50x&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs50x/lecture1">Lecture0 Scratch</a><button aria-label="Toggle the collapsible sidebar category &#x27;Lecture0 Scratch&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs50x/lecture2">lecture1 C</a><button aria-label="Toggle the collapsible sidebar category &#x27;lecture1 C&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs50x/lecture3">lecture2 Arrays</a><button aria-label="Toggle the collapsible sidebar category &#x27;lecture2 Arrays&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs50x/lecture4">lecture3 Algorithms</a><button aria-label="Toggle the collapsible sidebar category &#x27;lecture3 Algorithms&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs50x/lecture5">lecture4 Memory</a><button aria-label="Toggle the collapsible sidebar category &#x27;lecture4 Memory&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs50x/lecture6">lecture5 Data Structures</a><button aria-label="Toggle the collapsible sidebar category &#x27;lecture5 Data Structures&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs50x/lecture7">lecture6 python</a><button aria-label="Toggle the collapsible sidebar category &#x27;lecture6 python&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs50x/lecture8">lecture7 SQL</a><button aria-label="Toggle the collapsible sidebar category &#x27;lecture7 SQL&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs50x/lecture9">lecture8 HTML,CSS,JavaScript</a><button aria-label="Toggle the collapsible sidebar category &#x27;lecture8 HTML,CSS,JavaScript&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/curriculum-resource/cs50x/lecture10">lecture9 Flask</a><button aria-label="Toggle the collapsible sidebar category &#x27;lecture9 Flask&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/cs50x/lecture10/notes">Notes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/curriculum-resource/cs50x/lecture10/problem set">Problem Set</a><button aria-label="Toggle the collapsible sidebar category &#x27;Problem Set&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/curriculum-resource/cs50x/lecture10/problem set/finance">finance</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs50x/lecture10/practice problems">Practice Problem</a><button aria-label="Toggle the collapsible sidebar category &#x27;Practice Problem&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/cs50x/lecture10/lab">Lab</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs50x/lecture11">lecture10 Emoji</a><button aria-label="Toggle the collapsible sidebar category &#x27;lecture10 Emoji&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs50x/lecture12">lecture11 Cybersecurity</a><button aria-label="Toggle the collapsible sidebar category &#x27;lecture11 Cybersecurity&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61a">cs61a</a><button aria-label="Toggle the collapsible sidebar category &#x27;cs61a&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61b">cs61b</a><button aria-label="Toggle the collapsible sidebar category &#x27;cs61b&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61c">cs61c</a><button aria-label="Toggle the collapsible sidebar category &#x27;cs61c&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/课程资源"><span itemprop="name">课程资源</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/curriculum-resource/cs50x"><span itemprop="name">cs50x</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/curriculum-resource/cs50x/lecture10"><span itemprop="name">lecture9 Flask</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/curriculum-resource/cs50x/lecture10/problem set"><span itemprop="name">Problem Set</span></a><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">finance</span><meta itemprop="position" content="5"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>C$50 Finance - CS50x 2023</h1><p>Implement a website via which users can “buy” and “sell” stocks, a la the below.</p><p><img loading="lazy" alt="C$50 Finance" src="/assets/images/finance-d7ae5291e26bcbdcb9762cdb8d29428c.png" width="887" height="639" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="background"><a href="#background">Background</a><a href="#background" class="hash-link" aria-label="Direct link to background" title="Direct link to background">​</a></h2><p>If you’re not quite sure what it means to buy and sell stocks (i.e., shares of a company), head <a href="https://www.investopedia.com/articles/basics/06/invest1000.asp" target="_blank" rel="noopener noreferrer">here</a> for a tutorial.</p><p>You’re about to implement C$50 Finance, a web app via which you can manage portfolios of stocks. Not only will this tool allow you to check real stocks’ actual prices and portfolios’ values, it will also let you buy (okay, “buy”) and sell (okay, “sell”) stocks by querying for stocks’ prices.</p><p>Indeed, there are tools (one is known as IEX) that let you download stock quotes via their API (application programming interface) using URLs like <code>https://api.iex.cloud/v1/data/core/quote/nflx?token=API_KEY</code>. Notice how Netflix’s symbol (NFLX) is embedded in this URL; that’s how IEX knows whose data to return. That link won’t actually return any data because IEX requires you to use an API key, but if it did, you’d see a response in JSON (JavaScript Object Notation) format like this:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;avgTotalVolume&quot;: 15918066,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;calculationPrice&quot;: &quot;close&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;change&quot;: -8.27,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;changePercent&quot;: -0.03074,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;close&quot;: 260.79,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;closeSource&quot;: &quot;official&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;closeTime&quot;: 1667592000924,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;companyName&quot;: &quot;Netflix Inc.&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;currency&quot;: &quot;USD&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;delayedPrice&quot;: 260.81,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;delayedPriceTime&quot;: 1667591988947,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;extendedChange&quot;: 0.21,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;extendedChangePercent&quot;: 0.00081,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;extendedPrice&quot;: 261,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;extendedPriceTime&quot;: 1667606392772,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;high&quot;: 274.97,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;highSource&quot;: &quot;15 minute delayed price&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;highTime&quot;: 1667592000831,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;iexAskPrice&quot;: None,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;iexAskSize&quot;: None,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;iexBidPrice&quot;: None,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;iexBidSize&quot;: None,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;iexClose&quot;: 260.85,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;iexCloseTime&quot;: 1667591999754,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;iexLastUpdated&quot;: None,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;iexMarketPercent&quot;: None,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;iexOpen&quot;: 271.67,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;iexOpenTime&quot;: 1667568602197,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;iexRealtimePrice&quot;: None,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;iexRealtimeSize&quot;: None,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;iexVolume&quot;: None,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;lastTradeTime&quot;: 1667591999820,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;latestPrice&quot;: 260.79,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;latestSource&quot;: &quot;Close&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;latestTime&quot;: &quot;November 4, 2022&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;latestUpdate&quot;: 1667592000924,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;latestVolume&quot;: 11124694,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;low&quot;: 255.32,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;lowSource&quot;: &quot;15 minute delayed price&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;lowTime&quot;: 1667584872696,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;marketCap&quot;: 115215720136,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;oddLotDelayedPrice&quot;: 260.81,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;oddLotDelayedPriceTime&quot;: 1667591988947,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;open&quot;: 271.9,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;openTime&quot;: 1667568601785,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;openSource&quot;: &quot;official&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;peRatio&quot;: 23.39,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;previousClose&quot;: 269.06,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;previousVolume&quot;: 7057350,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;primaryExchange&quot;: &quot;NASDAQ&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;symbol&quot;: &quot;NFLX&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;volume&quot;: 11124694,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;week52High&quot;: 700.99,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;week52Low&quot;: 162.71,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;ytdChange&quot;: -0.5978504176349512,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;isUSMarketOpen&quot;: False</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Notice how, between the curly braces, there’s a comma-separated list of key-value pairs, with a colon separating each key from its value. We’re going to be doing something very similar, with Yahoo Finance.</p><p>Let’s turn our attention now to getting this problem’s distribution code!</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="getting-started"><a href="#getting-started">Getting Started</a><a href="#getting-started" class="hash-link" aria-label="Direct link to getting-started" title="Direct link to getting-started">​</a></h2><p>Log into <a href="https://cs50.dev/" target="_blank" rel="noopener noreferrer">cs50.dev</a>, click on your terminal window, and execute <code>cd</code> by itself. You should find that your terminal window’s prompt resembles the below:</p><p>Next execute</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">wget https://cdn.cs50.net/2022/fall/psets/9/finance.zip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>in order to download a ZIP called <code>finance.zip</code> into your codespace.</p><p>Then execute</p><p>to create a folder called <code>finance</code>. You no longer need the ZIP file, so you can execute</p><p>and respond with “y” followed by Enter at the prompt to remove the ZIP file you downloaded.</p><p>Now type</p><p>followed by Enter to move yourself into (i.e., open) that directory. Your prompt should now resemble the below.</p><p>Execute <code>ls</code> by itself, and you should see a few files and folders:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">app.py  finance.db  helpers.py  requirements.txt  static/  templates/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you run into any trouble, follow these same steps again and see if you can determine where you went wrong!</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="running"><a href="#running">Running</a><a href="#running" class="hash-link" aria-label="Direct link to running" title="Direct link to running">​</a></h3><p>Start Flask’s built-in web server (within <code>finance/</code>):</p><p>Visit the URL outputted by <code>flask</code> to see the distribution code in action. You won’t be able to log in or register, though, just yet!</p><p>Within <code>finance/</code>, run <code>sqlite3 finance.db</code> to open <code>finance.db</code> with <code>sqlite3</code>. If you run <code>.schema</code> in the SQLite prompt, notice how <code>finance.db</code> comes with a table called <code>users</code>. Take a look at its structure (i.e., schema). Notice how, by default, new users will receive $10,000 in cash. But if you run <code>SELECT * FROM users;</code>, there aren’t (yet!) any users (i.e., rows) therein to browse.</p><p>Another way to view <code>finance.db</code> is with a program called phpLiteAdmin. Click on <code>finance.db</code> in your codespace’s file browser, then click the link shown underneath the text “Please visit the following link to authorize GitHub Preview”. You should see information about the database itself, as well as a table, <code>users</code>, just like you saw in the <code>sqlite3</code> prompt with <code>.schema</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="understanding"><a href="#understanding">Understanding</a><a href="#understanding" class="hash-link" aria-label="Direct link to understanding" title="Direct link to understanding">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="apppy"><a href="#apppy"><code>app.py</code></a><a href="#apppy" class="hash-link" aria-label="Direct link to apppy" title="Direct link to apppy">​</a></h4><p>Open up <code>app.py</code>. Atop the file are a bunch of imports, among them CS50’s SQL module and a few helper functions. More on those soon.</p><p>After configuring <a href="https://flask.pocoo.org/" target="_blank" rel="noopener noreferrer">Flask</a>, notice how this file disables caching of responses (provided you’re in debugging mode, which you are by default in your code50 codespace), lest you make a change to some file but your browser not notice. Notice next how it configures <a href="https://jinja.pocoo.org/" target="_blank" rel="noopener noreferrer">Jinja</a> with a custom “filter,” <code>usd</code>, a function (defined in <code>helpers.py</code>) that will make it easier to format values as US dollars (USD). It then further configures Flask to store <a href="https://flask.palletsprojects.com/en/1.1.x/quickstart/#sessions" target="_blank" rel="noopener noreferrer">sessions</a> on the local filesystem (i.e., disk) as opposed to storing them inside of (digitally signed) cookies, which is Flask’s default. The file then configures CS50’s SQL module to use <code>finance.db</code>.</p><p>Thereafter are a whole bunch of routes, only two of which are fully implemented: <code>login</code> and <code>logout</code>. Read through the implementation of <code>login</code> first. Notice how it uses <code>db.execute</code> (from CS50’s library) to query <code>finance.db</code>. And notice how it uses <code>check_password_hash</code> to compare hashes of users’ passwords. Also notice how <code>login</code> “remembers” that a user is logged in by storing his or her <code>user_id</code>, an INTEGER, in <code>session</code>. That way, any of this file’s routes can check which user, if any, is logged in. Finally, notice how once the user has successfully logged in, <code>login</code> will redirect to <code>&quot;/&quot;</code>, taking the user to their home page. Meanwhile, notice how <code>logout</code> simply clears <code>session</code>, effectively logging a user out.</p><p>Notice how most routes are “decorated” with <code>@login_required</code> (a function defined in <code>helpers.py</code> too). That decorator ensures that, if a user tries to visit any of those routes, he or she will first be redirected to <code>login</code> so as to log in.</p><p>Notice too how most routes support GET and POST. Even so, most of them (for now!) simply return an “apology,” since they’re not yet implemented.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="helperspy"><a href="#helperspy"><code>helpers.py</code></a><a href="#helperspy" class="hash-link" aria-label="Direct link to helperspy" title="Direct link to helperspy">​</a></h4><p>Next take a look at <code>helpers.py</code>. Ah, there’s the implementation of <code>apology</code>. Notice how it ultimately renders a template, <code>apology.html</code>. It also happens to define within itself another function, <code>escape</code>, that it simply uses to replace special characters in apologies. By defining <code>escape</code> inside of <code>apology</code>, we’ve scoped the former to the latter alone; no other functions will be able (or need) to call it.</p><p>Next in the file is <code>login_required</code>. No worries if this one’s a bit cryptic, but if you’ve ever wondered how a function can return another function, here’s an example!</p><p>Thereafter is <code>lookup</code>, a function that, given a <code>symbol</code> (e.g., NFLX), returns a stock quote for a company in the form of a <code>dict</code> with three keys: <code>name</code>, whose value is a <code>str</code>, the name of the company; <code>price</code>, whose value is a <code>float</code>; and <code>symbol</code>, whose value is a <code>str</code>, a canonicalized (uppercase) version of a stock’s symbol, irrespective of how that symbol was capitalized when passed into <code>lookup</code>.</p><p>Last in the file is <code>usd</code>, a short function that simply formats a <code>float</code> as USD (e.g., <code>1234.56</code> is formatted as <code>$1,234.56</code>).</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="requirementstxt"><a href="#requirementstxt"><code>requirements.txt</code></a><a href="#requirementstxt" class="hash-link" aria-label="Direct link to requirementstxt" title="Direct link to requirementstxt">​</a></h4><p>Next take a quick look at <code>requirements.txt</code>. That file simply prescribes the packages on which this app will depend.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="static"><a href="#static"><code>static/</code></a><a href="#static" class="hash-link" aria-label="Direct link to static" title="Direct link to static">​</a></h4><p>Glance too at <code>static/</code>, inside of which is <code>styles.css</code>. That’s where some initial CSS lives. You’re welcome to alter it as you see fit.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="templates"><a href="#templates"><code>templates/</code></a><a href="#templates" class="hash-link" aria-label="Direct link to templates" title="Direct link to templates">​</a></h4><p>Now look in <code>templates/</code>. In <code>login.html</code> is, essentially, just an HTML form, stylized with <a href="https://getbootstrap.com/" target="_blank" rel="noopener noreferrer">Bootstrap</a>. In <code>apology.html</code>, meanwhile, is a template for an apology. Recall that <code>apology</code> in <code>helpers.py</code> took two arguments: <code>message</code>, which was passed to <code>render_template</code> as the value of <code>bottom</code>, and, optionally, <code>code</code>, which was passed to <code>render_template</code> as the value of <code>top</code>. Notice in <code>apology.html</code> how those values are ultimately used! And <a href="https://github.com/jacebrowning/memegen" target="_blank" rel="noopener noreferrer">here’s why</a> 0:-)</p><p>Last up is <code>layout.html</code>. It’s a bit bigger than usual, but that’s mostly because it comes with a fancy, mobile-friendly “navbar” (navigation bar), also based on Bootstrap. Notice how it defines a block, <code>main</code>, inside of which templates (including <code>apology.html</code> and <code>login.html</code>) shall go. It also includes support for Flask’s <a href="https://flask.palletsprojects.com/en/1.1.x/quickstart/#message-flashing" target="_blank" rel="noopener noreferrer">message flashing</a> so that you can relay messages from one route to another for the user to see.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="specification"><a href="#specification">Specification</a><a href="#specification" class="hash-link" aria-label="Direct link to specification" title="Direct link to specification">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="register"><a href="#register"><code>register</code></a><a href="#register" class="hash-link" aria-label="Direct link to register" title="Direct link to register">​</a></h3><p>Complete the implementation of <code>register</code> in such a way that it allows a user to register for an account via a form.</p><ul><li>Require that a user input a username, implemented as a text field whose <code>name</code> is <code>username</code>. Render an apology if the user’s input is blank or the username already exists.</li><li>Require that a user input a password, implemented as a text field whose <code>name</code> is <code>password</code>, and then that same password again, implemented as a text field whose <code>name</code> is <code>confirmation</code>. Render an apology if either input is blank or the passwords do not match.</li><li>Submit the user’s input via <code>POST</code> to <code>/register</code>.</li><li><code>INSERT</code> the new user into <code>users</code>, storing a hash of the user’s password, not the password itself. Hash the user’s password with <a href="https://werkzeug.palletsprojects.com/en/2.3.x/utils/#werkzeug.security.generate_password_hash" target="_blank" rel="noopener noreferrer"><code>generate_password_hash</code></a> Odds are you’ll want to create a new template (e.g., <code>register.html</code>) that’s quite similar to <code>login.html</code>.</li></ul><p>Once you’ve implemented <code>register</code> correctly, you should be able to register for an account and log in (since <code>login</code> and <code>logout</code> already work)! And you should be able to see your rows via phpLiteAdmin or <code>sqlite3</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="quote"><a href="#quote"><code>quote</code></a><a href="#quote" class="hash-link" aria-label="Direct link to quote" title="Direct link to quote">​</a></h3><p>Complete the implementation of <code>quote</code> in such a way that it allows a user to look up a stock’s current price.</p><ul><li>Require that a user input a stock’s symbol, implemented as a text field whose <code>name</code> is <code>symbol</code>.</li><li>Submit the user’s input via <code>POST</code> to <code>/quote</code>.</li><li>Odds are you’ll want to create two new templates (e.g., <code>quote.html</code> and <code>quoted.html</code>). When a user visits <code>/quote</code> via GET, render one of those templates, inside of which should be an HTML form that submits to <code>/quote</code> via POST. In response to a POST, <code>quote</code> can render that second template, embedding within it one or more values from <code>lookup</code>.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="buy"><a href="#buy"><code>buy</code></a><a href="#buy" class="hash-link" aria-label="Direct link to buy" title="Direct link to buy">​</a></h3><p>Complete the implementation of <code>buy</code> in such a way that it enables a user to buy stocks.</p><ul><li>Require that a user input a stock’s symbol, implemented as a text field whose <code>name</code> is <code>symbol</code>. Render an apology if the input is blank or the symbol does not exist (as per the return value of <code>lookup</code>).</li><li>Require that a user input a number of shares, implemented as a text field whose <code>name</code> is <code>shares</code>. Render an apology if the input is not a positive integer.</li><li>Submit the user’s input via <code>POST</code> to <code>/buy</code>.</li><li>Upon completion, redirect the user to the home page.</li><li>Odds are you’ll want to call <code>lookup</code> to look up a stock’s current price.</li><li>Odds are you’ll want to <code>SELECT</code> how much cash the user currently has in <code>users</code>.</li><li>Add one or more new tables to <code>finance.db</code> via which to keep track of the purchase. Store enough information so that you know who bought what at what price and when.<ul><li>Use appropriate SQLite types.</li><li>Define <code>UNIQUE</code> indexes on any fields that should be unique.</li><li>Define (non-<code>UNIQUE</code>) indexes on any fields via which you will search (as via <code>SELECT</code> with <code>WHERE</code>).</li></ul></li><li>Render an apology, without completing a purchase, if the user cannot afford the number of shares at the current price.</li><li>You don’t need to worry about race conditions (or use transactions).</li></ul><p>Once you’ve implemented <code>buy</code> correctly, you should be able to see users’ purchases in your new table(s) via phpLiteAdmin or <code>sqlite3</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="index"><a href="#index"><code>index</code></a><a href="#index" class="hash-link" aria-label="Direct link to index" title="Direct link to index">​</a></h3><p>Complete the implementation of <code>index</code> in such a way that it displays an HTML table summarizing, for the user currently logged in, which stocks the user owns, the numbers of shares owned, the current price of each stock, and the total value of each holding (i.e., shares times price). Also display the user’s current cash balance along with a grand total (i.e., stocks’ total value plus cash).</p><ul><li>Odds are you’ll want to execute multiple <code>SELECT</code>s. Depending on how you implement your table(s), you might find <a href="https://www.google.com/search?q=SQLite+GROUP+BY," target="_blank" rel="noopener noreferrer">GROUP BY</a> <a href="https://www.google.com/search?q=SQLite+HAVING," target="_blank" rel="noopener noreferrer">HAVING</a> <a href="https://www.google.com/search?q=SQLite+SUM," target="_blank" rel="noopener noreferrer">SUM</a> and/or <a href="https://www.google.com/search?q=SQLite+WHERE" target="_blank" rel="noopener noreferrer">WHERE</a> of interest.</li><li>Odds are you’ll want to call <code>lookup</code> for each stock.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sell"><a href="#sell"><code>sell</code></a><a href="#sell" class="hash-link" aria-label="Direct link to sell" title="Direct link to sell">​</a></h3><p>Complete the implementation of <code>sell</code> in such a way that it enables a user to sell shares of a stock (that he or she owns).</p><ul><li>Require that a user input a stock’s symbol, implemented as a <code>select</code> menu whose <code>name</code> is <code>symbol</code>. Render an apology if the user fails to select a stock or if (somehow, once submitted) the user does not own any shares of that stock.</li><li>Require that a user input a number of shares, implemented as a text field whose <code>name</code> is <code>shares</code>. Render an apology if the input is not a positive integer or if the user does not own that many shares of the stock.</li><li>Submit the user’s input via <code>POST</code> to <code>/sell</code>.</li><li>Upon completion, redirect the user to the home page.</li><li>You don’t need to worry about race conditions (or use transactions).</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="history"><a href="#history"><code>history</code></a><a href="#history" class="hash-link" aria-label="Direct link to history" title="Direct link to history">​</a></h3><p>Complete the implementation of <code>history</code> in such a way that it displays an HTML table summarizing all of a user’s transactions ever, listing row by row each and every buy and every sell.</p><ul><li>For each row, make clear whether a stock was bought or sold and include the stock’s symbol, the (purchase or sale) price, the number of shares bought or sold, and the date and time at which the transaction occurred.</li><li>You might need to alter the table you created for <code>buy</code> or supplement it with an additional table. Try to minimize redundancies.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="personal-touch"><a href="#personal-touch">personal touch</a><a href="#personal-touch" class="hash-link" aria-label="Direct link to personal-touch" title="Direct link to personal-touch">​</a></h3><p>Implement at least one personal touch of your choice:</p><ul><li>Allow users to change their passwords.</li><li>Allow users to add additional cash to their account.</li><li>Allow users to buy more shares or sell shares of stocks they already own via <code>index</code> itself, without having to type stocks’ symbols manually.</li><li>Require users’ passwords to have some number of letters, numbers, and/or symbols.</li><li>Implement some other feature of comparable scope.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="walkthrough"><a href="#walkthrough">Walkthrough</a><a href="#walkthrough" class="hash-link" aria-label="Direct link to walkthrough" title="Direct link to walkthrough">​</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="testing"><a href="#testing">Testing</a><a href="#testing" class="hash-link" aria-label="Direct link to testing" title="Direct link to testing">​</a></h2><p>Be sure to test your web app manually, as by</p><ul><li>registering a new user and verifying that their portfolio page loads with the correct information,</li><li>requesting a quote using a valid stock symbol,</li><li>purchasing one stock multiple times, verifying that the portfolio displays correct totals,</li><li>selling all or some of a stock, again verifying the portfolio, and</li><li>verifying that your history page shows all transactions for your logged in user.</li></ul><p>Also test some unexpected usage, as by</p><ul><li>inputting alphabetical strings into forms when only numbers are expected,</li><li>inputting zero or negative numbers into forms when only positive numbers are expected,</li><li>inputting floating-point values into forms when only integers are expected,</li><li>trying to spend more cash than a user has,</li><li>trying to sell more shares than a user has,</li><li>inputting an invalid stock symbol, and</li><li>including potentially dangerous characters like <code>&#x27;</code> and <code>;</code> in SQL queries.</li></ul><p>Once satisfied that all parts of your app are working correctly, test your code with <code>check50</code> by executing the below.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">check50 cs50/problems/2023/x/finance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="style"><a href="#style">Style</a><a href="#style" class="hash-link" aria-label="Direct link to style" title="Direct link to style">​</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="staffs-solution"><a href="#staffs-solution">Staff’s Solution</a><a href="#staffs-solution" class="hash-link" aria-label="Direct link to staffs-solution" title="Direct link to staffs-solution">​</a></h2><p>You’re welcome to stylize your own app differently, but here’s what the staff’s solution looks like!</p><p><a href="https://finance.cs50.net/" target="_blank" rel="noopener noreferrer">https://finance.cs50.net/</a></p><p>Feel free to register for an account and play around. Do <strong>not</strong> use a password that you use on other sites.</p><p>It is <strong>reasonable</strong> to look at the staff’s HTML and CSS.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="hints"><a href="#hints">Hints</a><a href="#hints" class="hash-link" aria-label="Direct link to hints" title="Direct link to hints">​</a></h2><ul><li><p>To format a value as a US dollar value (with cents listed to two decimal places), you can use the <code>usd</code> filter in your Jinja templates (printing values as <code>{{ value | usd }}</code> instead of <code>{{ value }}</code>.</p></li><li><p>Within <code>cs50.SQL</code> is an <code>execute</code> method whose first argument should be a <code>str</code> of SQL. If that <code>str</code> contains question mark parameters to which values should be bound, those values can be provided as additional named parameters to <code>execute</code>. See the implementation of <code>login</code> for one such example. The return value of <code>execute</code> is as follows:</p><ul><li>If <code>str</code> is a <code>SELECT</code>, then <code>execute</code> returns a <code>list</code> of zero or more <code>dict</code> objects, inside of which are keys and values representing a table’s fields and cells, respectively.</li><li>If <code>str</code> is an <code>INSERT</code>, and the table into which data was inserted contains an autoincrementing <code>PRIMARY KEY</code>, then <code>execute</code> returns the value of the newly inserted row’s primary key.</li><li>If <code>str</code> is a <code>DELETE</code> or an <code>UPDATE</code>, then <code>execute</code> returns the number of rows deleted or updated by <code>str</code>.</li></ul></li><li><p>Recall that <code>cs50.SQL</code> will log to your terminal window any queries that you execute via <code>execute</code> (so that you can confirm whether they’re as intended).</p></li><li><p>Be sure to use question mark-bound parameters (i.e., a <a href="https://www.python.org/dev/peps/pep-0249/#paramstyle" target="_blank" rel="noopener noreferrer">paramstyle</a> of <code>named</code>) when calling CS50’s <code>execute</code> method, a la <code>WHERE ?</code>. Do <strong>not</strong> use f-strings, <a href="https://docs.python.org/3.6/library/functions.html#format," target="_blank" rel="noopener noreferrer"><code>format</code></a> or <code>+</code> (i.e., concatenation), lest you risk a SQL injection attack.</p></li><li><p>If (and only if) already comfortable with SQL, you’re welcome to use <a href="https://docs.sqlalchemy.org/en/latest/index.html" target="_blank" rel="noopener noreferrer">SQLAlchemy Core</a> or <a href="https://flask-sqlalchemy.pocoo.org/" target="_blank" rel="noopener noreferrer">Flask-SQLAlchemy</a> (i.e., <a href="https://docs.sqlalchemy.org/en/latest/index.html" target="_blank" rel="noopener noreferrer">SQLAlchemy ORM</a>) instead of <code>cs50.SQL</code>.</p></li><li><p>You’re welcome to add additional static files to <code>static/</code>.</p></li><li><p>Odds are you’ll want to consult <a href="https://jinja.palletsprojects.com/en/3.1.x/" target="_blank" rel="noopener noreferrer">Jinja’s documentation</a> when implementing your templates.</p></li><li><p>It is <strong>reasonable</strong> to ask others to try out (and try to trigger errors in) your site.</p></li><li><p>You’re welcome to alter the aesthetics of the sites, as via</p><ul><li><a href="https://bootswatch.com/" target="_blank" rel="noopener noreferrer">bootswatch.com</a>,</li><li><a href="https://getbootstrap.com/docs/5.1/content/" target="_blank" rel="noopener noreferrer">getbootstrap.com/docs/5.1/content</a>,</li><li><a href="https://getbootstrap.com/docs/5.1/components/" target="_blank" rel="noopener noreferrer">getbootstrap.com/docs/5.1/components</a>, and/or</li><li><a href="https://memegen.link/" target="_blank" rel="noopener noreferrer">memegen.link</a>.</li></ul></li><li><p>You may find <a href="https://flask.palletsprojects.com/en/1.1.x/quickstart/" target="_blank" rel="noopener noreferrer">Flask’s documentation</a> and <a href="https://jinja.palletsprojects.com/en/2.11.x/templates/" target="_blank" rel="noopener noreferrer">Jinja’s documentation</a> helpful!</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="faqs"><a href="#faqs">FAQs</a><a href="#faqs" class="hash-link" aria-label="Direct link to faqs" title="Direct link to faqs">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="importerror-no-module-named-application"><a href="#importerror-no-module-named-application">ImportError: No module named ‘application’</a><a href="#importerror-no-module-named-application" class="hash-link" aria-label="Direct link to importerror-no-module-named-application" title="Direct link to importerror-no-module-named-application">​</a></h3><p>By default, <code>flask</code> looks for a file called <code>app.py</code> in your current working directory (because we’ve configured the value of <code>FLASK_APP</code>, an environment variable, to be <code>app.py</code>). If seeing this error, odds are you’ve run <code>flask</code> in the wrong directory!</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="oserror-errno-98-address-already-in-use"><a href="#oserror-errno-98-address-already-in-use">OSError: <!-- -->[<!-- -->Errno 98<!-- -->]<!-- --> Address already in use</a><a href="#oserror-errno-98-address-already-in-use" class="hash-link" aria-label="Direct link to oserror-errno-98-address-already-in-use" title="Direct link to oserror-errno-98-address-already-in-use">​</a></h3><p>If, upon running <code>flask</code>, you see this error, odds are you (still) have <code>flask</code> running in another tab. Be sure to kill that other process, as with ctrl-c, before starting <code>flask</code> again. If you haven’t any such other tab, execute <code>fuser -k 8080/tcp</code> to kill any processes that are (still) listening on TCP port 8080.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-submit"><a href="#how-to-submit">How to Submit</a><a href="#how-to-submit" class="hash-link" aria-label="Direct link to how-to-submit" title="Direct link to how-to-submit">​</a></h2><p>In your terminal, execute the below to submit your work.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">submit50 cs50/problems/2023/x/finance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/curriculum-resource/cs50x/lecture10/problem set"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Problem Set</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/curriculum-resource/cs50x/lecture10/practice problems"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Practice Problem</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#background" class="table-of-contents__link toc-highlight">Background</a></li><li><a href="#getting-started" class="table-of-contents__link toc-highlight">Getting Started</a><ul><li><a href="#running" class="table-of-contents__link toc-highlight">Running</a></li><li><a href="#understanding" class="table-of-contents__link toc-highlight">Understanding</a></li></ul></li><li><a href="#specification" class="table-of-contents__link toc-highlight">Specification</a><ul><li><a href="#register" class="table-of-contents__link toc-highlight"><code>register</code></a></li><li><a href="#quote" class="table-of-contents__link toc-highlight"><code>quote</code></a></li><li><a href="#buy" class="table-of-contents__link toc-highlight"><code>buy</code></a></li><li><a href="#index" class="table-of-contents__link toc-highlight"><code>index</code></a></li><li><a href="#sell" class="table-of-contents__link toc-highlight"><code>sell</code></a></li><li><a href="#history" class="table-of-contents__link toc-highlight"><code>history</code></a></li><li><a href="#personal-touch" class="table-of-contents__link toc-highlight">personal touch</a></li></ul></li><li><a href="#walkthrough" class="table-of-contents__link toc-highlight">Walkthrough</a></li><li><a href="#testing" class="table-of-contents__link toc-highlight">Testing</a></li><li><a href="#style" class="table-of-contents__link toc-highlight">Style</a></li><li><a href="#staffs-solution" class="table-of-contents__link toc-highlight">Staff’s Solution</a></li><li><a href="#hints" class="table-of-contents__link toc-highlight">Hints</a></li><li><a href="#faqs" class="table-of-contents__link toc-highlight">FAQs</a><ul><li><a href="#importerror-no-module-named-application" class="table-of-contents__link toc-highlight">ImportError: No module named ‘application’</a></li><li><a href="#oserror-errno-98-address-already-in-use" class="table-of-contents__link toc-highlight">OSError: [Errno 98] Address already in use</a></li></ul></li><li><a href="#how-to-submit" class="table-of-contents__link toc-highlight">How to Submit</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">CS学习社区</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">路线图</a></li></ul></div><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.761676e0.js"></script>
<script src="/assets/js/main.cf349332.js"></script>
</body>
</html>