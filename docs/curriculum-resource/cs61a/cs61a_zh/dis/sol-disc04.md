---
title: Discussion 4 Solutions
---

# è®¨è®º 4 | CS 61A 2024 å¹´æ˜¥å­£å­¦æœŸ

## è®¨è®º 4ï¼šæ ‘å½¢é€’å½’

-   [disc04.pdf](/resource/cs61a/disc04.pdf)

é€‰ä½ ä»¬å°ç»„çš„ä¸€ä½æˆå‘˜åŠ å…¥ Discordã€‚ å¤šä¸ªäººåŠ å…¥ä¹Ÿè¡Œï¼Œä½†ä¸€ä¸ªäººå°±å¤Ÿäº†ã€‚

ç°åœ¨è¯·åˆ‡æ¢åˆ° Pensieveï¼š

-   **æ‰€æœ‰äºº**ï¼šè¯·å‰å¾€ [discuss.pensieve.co](http://discuss.pensieve.co/) å¹¶ä½¿ç”¨æ‚¨çš„ @berkeley.edu é‚®ç®±ç™»å½•ï¼Œç„¶åè¾“å…¥æ‚¨çš„ç»„å·ã€‚ï¼ˆæ‚¨çš„ç»„å·æ˜¯æ‚¨çš„ Discord é¢‘é“å·ã€‚ï¼‰

è¿›å…¥ Pensieve åï¼Œå°±æ— éœ€è¿”å›æ­¤é¡µé¢äº†ï¼›Pensieve å…·æœ‰æ‰€æœ‰ç›¸åŒçš„å†…å®¹ï¼ˆä½†å…·æœ‰æ›´å¤šåŠŸèƒ½ï¼‰ã€‚ å¦‚æœ Penseive å› ä¸ºæŸäº›åŸå› æ— æ³•æ­£å¸¸å·¥ä½œï¼Œè¯·è¿”å›æ­¤é¡µé¢å¹¶ç»§ç»­è®¨è®ºã€‚

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·åœ¨ Discord çš„ `#help` é¢‘é“é‡Œå‘å¸–æ±‚åŠ©ã€‚

## å¼€å§‹

ä¸ºäº†é…åˆä»Šå¤©æ ‘å½¢é€’å½’çš„ä¸»é¢˜ï¼Œè¯·è¯´å‡ºä½ çš„åå­—ï¼Œå¹¶åˆ†äº«ä½ æœ€å–œæ¬¢çš„æ ‘ï¼ˆå¯ä»¥æ˜¯å…·ä½“çš„æ ‘ï¼Œä¹Ÿå¯ä»¥æ˜¯æ ‘çš„ç§ç±»ï¼‰ã€‚ ï¼ˆæ ‘å½¢é€’å½’å‡½æ•°æ˜¯å¤šæ¬¡è°ƒç”¨è‡ªèº«çš„å‡½æ•°ã€‚ï¼‰

åœ¨æœ¬æ¬¡è®¨è®ºä¸­ï¼Œè¯·å…ˆä¸è¦ä½¿ç”¨ Python è§£é‡Šå™¨è¿è¡Œä»£ç ï¼Œé™¤éä½ ç¡®ä¿¡ä½ çš„è§£å†³æ–¹æ¡ˆæ˜¯æ­£ç¡®çš„ã€‚ é€šè¿‡_æ€è€ƒ_ä½ çš„ä»£ç ä¼šåšä»€ä¹ˆæ¥å¼„æ¸…æ¥šå¹¶æ£€æŸ¥ä½ çš„ç­”æ¡ˆã€‚ ä¸ç¡®å®šï¼Ÿ ä¸ä½ çš„å°ç»„è®¨è®ºï¼

**\[æ–°å¢]** å¦‚æœä½ ä»¬å°ç»„ä¸è¶³ 4 äººï¼Œå¯ä»¥å’ŒåŒæ•™å®¤çš„å…¶ä»–å°ç»„åˆå¹¶ã€‚

**\[æ–°å¢]** é€’å½’æ˜¯éœ€è¦ç»ƒä¹ çš„ã€‚ å¦‚æœä½ åœ¨ç¼–å†™é€’å½’å‡½æ•°æ—¶æ„Ÿåˆ°åƒåŠ›ï¼Œè¯·ä¸è¦ç°å¿ƒã€‚ ç›¸åï¼Œæ¯æ¬¡ä½ è§£å†³ä¸€é“é¢˜ï¼ˆå³ä½¿æœ‰å¸®åŠ©æˆ–è€…åœ¨å°ç»„é‡Œå®Œæˆçš„ï¼‰ï¼Œéƒ½è¯·è®°ä¸‹ä¸ºäº†å–å¾—è¿›å±•ï¼Œä½ é¢†æ‚Ÿåˆ°äº†ä»€ä¹ˆã€‚ å­¦ç”Ÿé€šè¿‡å®è·µå’Œåæ€æ¥æé«˜ã€‚

**\[æœ‰è¶£]** è¿™ä¸ªæˆ´ç‰›ä»”å¸½çš„äººçš„è¡¨æƒ…ç¬¦å·æ˜¯æœ‰æ•ˆçš„ Python ä»£ç ï¼š`o[:-D]`

```
>>> o = [2, 0, 2, 4]
>>> [ o[:-D] for D in range(1,4) ]
[[2, 0, 2], [2, 0], [2]]
```

ğŸ¤ 

## æ ‘å½¢é€’å½’

å¯¹äºä»¥ä¸‹é—®é¢˜ï¼Œä¸è¦ç«‹å³å¼€å§‹å°è¯•ç¼–å†™ä»£ç ã€‚ è€Œæ˜¯é¦–å…ˆç”¨æ–‡å­—æè¿°é€’å½’æƒ…å†µã€‚ ä¸€äº›ä¾‹å­ï¼š

-   åœ¨è®²åº§ä¸­çš„ `fib` ä¸­ï¼Œé€’å½’æƒ…å†µæ˜¯å°†å‰ä¸¤ä¸ªæ–æ³¢é‚£å¥‘æ•°ç›¸åŠ ã€‚
-   åœ¨å®éªŒä¸­çš„ `double_eights` ä¸­ï¼Œé€’å½’æƒ…å†µæ˜¯æ£€æŸ¥æ•°å­—çš„å…¶ä½™éƒ¨åˆ†ä¸­æ˜¯å¦å­˜åœ¨åŒ 8ã€‚
-   åœ¨è®²åº§ä¸­çš„ `count_partitions` ä¸­ï¼Œé€’å½’æƒ…å†µæ˜¯ä½¿ç”¨æœ€å¤§ä¸º `m` çš„éƒ¨åˆ†å¯¹ `n-m` è¿›è¡Œåˆ†åŒº**ä»¥åŠ**ä½¿ç”¨æœ€å¤§ä¸º `m-1` çš„éƒ¨åˆ†å¯¹ `n` è¿›è¡Œåˆ†åŒºã€‚

### Q1ï¼šæ˜†è™«ç»„åˆå­¦

ä¸€åªæ˜†è™«åœ¨ä¸€ä¸ª `m` ä¹˜ `n` çš„ç½‘æ ¼å†…ã€‚ æ˜†è™«ä»å·¦ä¸‹è§’ `(1, 1)` å¼€å§‹ï¼Œæƒ³è¦åˆ°è¾¾å³ä¸Šè§’ `(m, n)`ã€‚ æ˜†è™«åªèƒ½å‘ä¸Šæˆ–å‘å³ç§»åŠ¨ã€‚ ç¼–å†™ä¸€ä¸ªå‡½æ•° `paths`ï¼Œè¯¥å‡½æ•°æ¥å—ç½‘æ ¼çš„é«˜åº¦å’Œå®½åº¦ï¼Œå¹¶è¿”å›æ˜†è™«å¯ä»¥ä»èµ·ç‚¹åˆ°ç»ˆç‚¹æ‰€é‡‡å–çš„è·¯å¾„æ•°ã€‚ è¿™ä¸ªé—®é¢˜è™½ç„¶æœ‰ä¸€ä¸ª [å°é—­å½¢å¼çš„è§£](https://en.wikipedia.org/wiki/Closed-form_expression)ï¼Œä½†è¯·å°è¯•ç”¨é€’å½’æ–¹æ³•æ¥è§£å†³ã€‚

![æ˜†è™«ç½‘æ ¼ã€‚](/img/cs61a/grid.jpg)

åœ¨ `2` ä¹˜ `2` çš„ç½‘æ ¼ä¸­ï¼Œæ˜†è™«æœ‰ä¸¤æ¡ä»èµ·ç‚¹åˆ°ç»ˆç‚¹çš„è·¯å¾„ã€‚ åœ¨ `3` ä¹˜ `3` çš„ç½‘æ ¼ä¸­ï¼Œæ˜†è™«æœ‰å…­æ¡è·¯å¾„ï¼ˆä¸Šé¢ä»…æ˜¾ç¤ºäº†ä¸‰æ¡ï¼‰ã€‚

> **æç¤ºï¼š** å¦‚æœæ˜†è™«åˆ°è¾¾ç½‘æ ¼çš„ä¸Šè¾¹ç¼˜æˆ–æœ€å³è¾¹ç¼˜ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ

**ä½ çš„ç­”æ¡ˆ**

åœ¨ 61A ä»£ç ä¸­è¿è¡Œ

**è§£å†³æ–¹æ¡ˆ**

```
def paths(m, n):
    """è¿”å›ä»ä¸€ä¸ª M ä¹˜ N ç½‘æ ¼çš„æŸä¸ªè§’åˆ°å…¶å¯¹è§’çš„è·¯å¾„æ•°ã€‚

>>> paths(2, 2)
    2
    >>> paths(5, 7)
    210
    >>> paths(117, 1)
    1
    >>> paths(1, 157)
    1
    """
    if m == 1 or n == 1:
        return 1
    return paths(m - 1, n) + paths(m, n - 1)
    # Base case: Look at the two visual examples given. Since the insect
    # can only move to the right or up, once it hits either the rightmost edge
    # or the upper edge, it has a single remaining path -- the insect has
    # no choice but to go straight up or straight right (respectively) at that point.
    # There is no way for it to backtrack by going left or down.

```

é€’å½’çš„æƒ…å†µæ˜¯ï¼Œæ€»è·¯å¾„æ•°ç­‰äºä»å³è¾¹ç›¸é‚»æ ¼å­ (m, n-1) åˆ°è¾¾ç»ˆç‚¹çš„è·¯å¾„æ•°ï¼ŒåŠ ä¸Šä»ä¸Šè¾¹ç›¸é‚»æ ¼å­ (m-1, n) åˆ°è¾¾ç»ˆç‚¹çš„è·¯å¾„æ•°ã€‚

**æ¼”ç¤ºç¯èŠ‚ï¼š** å°ç»„è¾¾æˆä¸€è‡´æ–¹æ¡ˆåï¼Œè¯·ç»ƒä¹ å¦‚ä½•æ¸…æ™°åœ°é˜è¿°é€’å½’é€»è¾‘ã€‚é€‰å‡ºä¸€ä½æ¼”ç¤ºè€…ï¼Œç„¶åå‘ discuss-queue é¢‘é“å‘é€ä¸€æ¡å¸¦æœ‰ @discuss æ ‡ç­¾ã€ä½ ä»¬è®¨è®ºå°ç»„å·ç ä»¥åŠæ¶ˆæ¯ "Here's the path!" çš„æ¶ˆæ¯ï¼Œè¯¾ç¨‹å·¥ä½œäººå‘˜å°†åŠ å…¥ä½ ä»¬çš„è¯­éŸ³é¢‘é“ï¼Œå¬å–ä½ ä»¬çš„æè¿°å¹¶æä¾›åé¦ˆã€‚

## åˆ—è¡¨çš„æ ‘é€’å½’

**\[æ–°å†…å®¹]** ä½ ä»¬ä¸­çš„ä¸€äº›äººå·²ç»çŸ¥é“æˆ‘ä»¬å°šæœªæ¶µç›–çš„åˆ—è¡¨æ“ä½œï¼Œä¾‹å¦‚ `append`ã€‚ä»Šå¤©ä¸è¦ä½¿ç”¨å®ƒä»¬ã€‚åªéœ€è¦ä½¿ç”¨åˆ—è¡¨å­—é¢é‡ï¼ˆå¦‚ `[1, 2, 3]`ï¼‰ã€å…ƒç´ é€‰æ‹©ï¼ˆå¦‚ `s[0]`ï¼‰ã€åˆ—è¡¨ç›¸åŠ ï¼ˆå¦‚ `[1] + [2, 3]`ï¼‰ã€`len` å‡½æ•°å’Œåˆ‡ç‰‡æ“ä½œï¼ˆå¦‚ `s[1:]`ï¼‰ã€‚ä½¿ç”¨è¿™äº›ï¼ä¸‹å‘¨ä»‹ç»å…¶ä»–åˆ—è¡¨æ“ä½œæ—¶ï¼Œä¼šæœ‰å……è¶³çš„æ—¶é—´ã€‚

å…³äºåˆ—è¡¨ï¼Œæœ€é‡è¦çš„äº‹æƒ…æ˜¯è®°ä½ï¼Œä¸€ä¸ªéç©ºåˆ—è¡¨ `s` å¯ä»¥è¢«åˆ†æˆå®ƒçš„ç¬¬ä¸€ä¸ªå…ƒç´  `s[0]` å’Œåˆ—è¡¨çš„å…¶ä½™éƒ¨åˆ† `s[1:]`ã€‚

```
>>> s = [2, 3, 6, 4]
>>> s[0]
2
>>> s[1:]
[3, 6, 4]
```

### Q2ï¼šæœ€å¤§ä¹˜ç§¯

å®ç° `max_product`ï¼Œå®ƒæ¥å—ä¸€ä¸ªæ•°å­—åˆ—è¡¨ï¼Œå¹¶è¿”å›å¯ä»¥é€šè¿‡å°†åˆ—è¡¨ä¸­çš„éè¿ç»­å…ƒç´ ç›¸ä¹˜è€Œå½¢æˆçš„æœ€å¤§ä¹˜ç§¯ã€‚å‡è®¾è¾“å…¥åˆ—è¡¨ä¸­çš„æ‰€æœ‰æ•°å­—éƒ½å¤§äºæˆ–ç­‰äº 1ã€‚

**ä½ çš„ç­”æ¡ˆ**

åœ¨ 61A ä»£ç ä¸­è¿è¡Œ

**è§£å†³æ–¹æ¡ˆ**

```
def max_product(s):
    """è¿”å› s çš„éè¿ç»­å…ƒç´ çš„æœ€å¤§ä¹˜ç§¯ã€‚

    >>> max_product([10, 3, 1, 9, 2])   # 10 * 9
    90
    >>> max_product([5, 10, 5, 10, 5])  # 5 * 5 * 5
    125
    >>> max_product([])                 # æ²¡æœ‰æ•°å­—çš„ä¹˜ç§¯æ˜¯ 1
    1
    """
    if s == []:
        return 1
    if len(s) == 1:
        return s[0]
    else:
        return max(s[0] * max_product(s[2:]), max_product(s[1:]))
        # OR
        return max(s[0] * max_product(s[2:]), s[1] * max_product(s[3:]))

```

é¦–å…ˆå°è¯•å°†ç¬¬ä¸€ä¸ªå…ƒç´ ä¹˜ä»¥ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹åæ‰€æœ‰å…ƒç´ çš„ `max_product`ï¼ˆè·³è¿‡ç¬¬äºŒä¸ªå…ƒç´ ï¼Œå› ä¸ºå®ƒä¸ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯è¿ç»­çš„ï¼‰ï¼Œç„¶åå°è¯•è·³è¿‡ç¬¬ä¸€ä¸ªå…ƒç´ å¹¶æ‰¾åˆ°å…¶ä½™å…ƒç´ çš„ `max_product`ã€‚ä½¿ç”¨ `max` å‡½æ•°æ¥ç¡®å®šå“ªä¸ªç»“æœæ›´å¤§ã€‚

è·å¾—å¸®åŠ©çš„å¥½æ–¹æ³•æ˜¯ä¸è¯¾ç¨‹å·¥ä½œäººå‘˜äº¤è°ˆï¼

è¿™ä¸ªè§£æ³•çš„æ€è·¯æ˜¯è€ƒè™‘æ˜¯å¦åŒ…å« `s[0]` åœ¨ä¹˜ç§¯ä¸­ã€‚

-   å¦‚æœæˆ‘ä»¬åŒ…å« `s[0]`ï¼Œåˆ™ä¸èƒ½åŒ…å« `s[1]`ã€‚
-   å¦‚æœæˆ‘ä»¬ä¸åŒ…å« `s[0]`ï¼Œåˆ™å¯ä»¥åŒ…å« `s[1]`ã€‚

é€’å½’æƒ…å†µæ˜¯æˆ‘ä»¬é€‰æ‹©ä»¥ä¸‹ä¸¤è€…ä¸­è¾ƒå¤§çš„ä¸€ä¸ªï¼š

-   å°† `s[0]` ä¹˜ä»¥è·³è¿‡ `s[1]` åçš„ `s[2:]` çš„æœ€å¤§ä¹˜ç§¯ï¼Œæˆ–è€…
-   ä»…è®¡ç®—è·³è¿‡ `s[0]` åçš„ `s[1:]` çš„æœ€å¤§ä¹˜ç§¯ã€‚

ä»¥ä¸‹æ˜¯å°†è¿™äº›æ¦‚å¿µè½¬åŒ–ä¸ºä»£ç çš„ä¸€äº›å…³é”®ç‚¹ï¼š

- å†…ç½®çš„ `max` å‡½æ•°å¯ä»¥æ‰¾åˆ°ä¸¤ä¸ªæ•°å­—ä¸­è¾ƒå¤§çš„ä¸€ä¸ªï¼Œåœ¨æœ¬ä¾‹ä¸­ï¼Œè¿™ä¸¤ä¸ªæ•°å­—æ¥æºäºä¸¤æ¬¡é€’å½’è°ƒç”¨ã€‚
- åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œ`max_product` å‡½æ•°éƒ½ä¼šæ¥æ”¶ä¸€ä¸ªæ•°å­—åˆ—è¡¨ä½œä¸ºè¾“å…¥ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ•°å­—ä½œä¸ºç»“æœã€‚

è¿™ç§é€’å½’æƒ…å†µçš„è¡¨è¾¾å¼æ˜¯ï¼š

`max(s[0] * max_product(s[2:]), max_product(s[1:]))`

ç”±äºæ­¤è¡¨è¾¾å¼ä»ä¸å¼•ç”¨ `s[1]`ï¼Œå¹¶ä¸”å³ä½¿å¯¹äºå•å…ƒç´ åˆ—è¡¨ `s`ï¼Œ`s[2:]` çš„è®¡ç®—ç»“æœä¹Ÿä¸ºç©ºåˆ—è¡¨ï¼Œå› æ­¤å¦‚æœä½¿ç”¨æ­¤é€’å½’æƒ…å†µï¼Œåˆ™å¯ä»¥çœç•¥ç¬¬äºŒä¸ªåŸºæœ¬æƒ…å†µ (`len(s) == 1`)ã€‚

ä¸Šè¿°é€’å½’è§£æ³•æ¢ç´¢äº†ä¸€äº›æˆ‘ä»¬é¢„å…ˆçŸ¥é“å¹¶éæœ€ä¼˜çš„é€‰é¡¹ï¼Œä¾‹å¦‚åŒæ—¶è·³è¿‡ `s[0]` å’Œ `s[1]`ã€‚ æˆ–è€…ï¼Œé€’å½’æƒ…å†µå¯ä»¥æ˜¯åœ¨ä»¥ä¸‹ä¸¤è€…ä¸­é€‰æ‹©è¾ƒå¤§è€…ï¼š

- å°† `s[0]` ä¹˜ä»¥ `s[2:]` çš„ `max_product`ï¼ˆè·³è¿‡ `s[1]`ï¼‰ï¼›æˆ–è€…
- å°† `s[1]` ä¹˜ä»¥ `s[3:]` çš„ `max_product`ï¼ˆè·³è¿‡ `s[0]` å’Œ `s[2]`ï¼‰ã€‚

æ­¤é€’å½’æƒ…å†µçš„è¡¨è¾¾å¼ä¸ºï¼š

`max(s[0] * max_product(s[2:]), s[1] * max_product(s[3:]))`

è¯·å…±åŒå®Œæˆä»¥ä¸‹å¥å­ï¼Œå¹¶å°†ç­”æ¡ˆè¾“å…¥åˆ°ä½ ä»¬å°ç»„çš„é¢‘é“æ–‡æœ¬èŠå¤©ä¸­ã€‚â€œé€’å½’çš„æƒ…å†µæ˜¯é€‰æ‹©è¾ƒå¤§çš„â€¦â€¦å’Œâ€¦â€¦â€

### Q3ï¼šæ±‚å’Œç»„åˆ

å®ç° `sums(n, m)`ï¼Œå®ƒæ¥å—æ€»æ•° `n` å’Œæœ€å¤§å€¼ `m`ã€‚ å®ƒè¿”å›æ‰€æœ‰åˆ—è¡¨çš„åˆ—è¡¨ï¼š

1. æ€»å’Œä¸º `n`ï¼Œ
2. ä»…åŒ…å«é«˜è¾¾ `m` çš„æ­£æ•°ï¼Œå¹¶ä¸”
3. å…¶ä¸­æ²¡æœ‰ä¸¤ä¸ªç›¸é‚»çš„æ•°å­—ç›¸åŒã€‚

åº”è¯¥è¿”å›æ‰€æœ‰åŒ…å«ç›¸åŒæ•°å­—ä½†é¡ºåºä¸åŒçš„åˆ—è¡¨ã€‚

ä»¥ä¸‹æ˜¯ä¸€ç§ç¬¦åˆä»¥ä¸‹æ¨¡æ¿çš„é€’å½’æ–¹æ³•ï¼šé€šè¿‡æ„å»ºæ‰€æœ‰æ€»å’Œä¸º `n` ä¸”ä»¥ `k` å¼€å¤´çš„åˆ—è¡¨æ¥æ„å»º `result` åˆ—è¡¨ï¼Œå¯¹äºä» 1 åˆ° `m` çš„æ¯ä¸ª `k`ã€‚ ä¾‹å¦‚ï¼Œ`sums(5, 3)` çš„ç»“æœç”±ä¸‰ä¸ªåˆ—è¡¨ç»„æˆï¼š

- `[[1, 3, 1]]` ä»¥ 1 å¼€å¤´ï¼Œ
- `[[2, 1, 2], [2, 3]]` ä»¥ 2 å¼€å¤´ï¼Œå¹¶ä¸”
- `[[3, 2]]` ä»¥ 3 å¼€å¤´ã€‚

**æç¤ºï¼š** ä½¿ç”¨ `[k] + s` è¡¨ç¤ºæ•°å­— `k` å’Œåˆ—è¡¨ `s` æ¥æ„å»ºä¸€ä¸ªä»¥ `k` å¼€å¤´ç„¶åå…·æœ‰ `s` çš„æ‰€æœ‰å…ƒç´ çš„åˆ—è¡¨ã€‚

```
>>> k = 2
>>> s = [4, 3, 1]
>>> [k] + s
[2, 4, 3, 1]
```

**ä½ çš„ç­”æ¡ˆ**

åœ¨ 61A ä»£ç ä¸­è¿è¡Œ

**è§£å†³æ–¹æ¡ˆ**

```
def sums(n, m):
    """è¿”å›æ‰€æœ‰æ€»å’Œä¸º n çš„åˆ—è¡¨ï¼Œåˆ—è¡¨ä¸­çš„å…ƒç´ ä¸ºä¸è¶…è¿‡ m çš„æ­£æ•´æ•°ï¼Œä¸”ä»»æ„ä¸¤ä¸ªç›¸é‚»å…ƒç´ å‡ä¸ç›¸åŒã€‚

>>> sums(5, 1)
    []
    >>> sums(5, 2)
    [[2, 1, 2]]
    >>> sums(5, 3)
    [[1, 3, 1], [2, 1, 2], [2, 3], [3, 2]]
    >>> sums(5, 5)
    [[1, 3, 1], [1, 4], [2, 1, 2], [2, 3], [3, 2], [4, 1], [5]]
    >>> sums(6, 3)
    [[1, 2, 1, 2], [1, 2, 3], [1, 3, 2], [2, 1, 2, 1], [2, 1, 3], [2, 3, 1], [3, 1, 2], [3, 2, 1]]
    """
    if n < 0:
        return []
    if n == 0:
        sums_to_zero = []     # The only way to sum to zero using positives
        return [sums_to_zero] # Return a list of all the ways to sum to zero
    result = []
    for k in range(1, m + 1):
        result = result + [[k] + rest for rest in sums(n-k, m) if rest == [] or rest[0] != k]
    return result
```

`k` æ˜¯æ„æˆæ€»å’Œä¸º `n` çš„åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªæ•°å­—ï¼Œ`rest` æ˜¯åˆ—è¡¨çš„å‰©ä½™éƒ¨åˆ†ï¼Œæ‰€ä»¥ç›®æ ‡æ˜¯æ„å»ºè¿™æ ·ä¸€ä¸ªæ€»å’Œä¸º `n` çš„åˆ—è¡¨ã€‚

è°ƒç”¨ `sums` å‡½æ•°æ¥æ„å»ºæ‰€æœ‰æ€»å’Œä¸º `n-k` çš„åˆ—è¡¨ã€‚é€šè¿‡åœ¨è¿™äº›åˆ—è¡¨çš„å‰é¢æ·»åŠ  `k`ï¼Œå°±å¯ä»¥æ„é€ å‡ºæ€»å’Œä¸º `n` çš„åˆ—è¡¨ã€‚

è¿™é‡Œä¿è¯â€œæ²¡æœ‰ä¸¤ä¸ªç›¸é‚»çš„æ•°å­—ç›¸åŒâ€ã€‚ å› ä¸º `k` æ˜¯å½“å‰æ„å»ºçš„åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªæ•°å­—ï¼Œæ‰€ä»¥å®ƒä¸èƒ½å’Œ `rest` åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ç›¸åŒï¼ˆ`rest` åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ å°†æˆä¸ºæ–°åˆ—è¡¨çš„ç¬¬äºŒä¸ªæ•°å­—ï¼‰ã€‚

é€’å½’çš„æƒ…å†µæ˜¯ï¼šä»»ä½•æ€»å’Œä¸º `n` çš„åˆ—è¡¨ï¼Œéƒ½å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªæ•´æ•° `k` (æœ€å¤§ä¸º `m`)ï¼Œåé¢è·Ÿç€ä¸€ä¸ªæ€»å’Œä¸º `n-k` ä¸”ä¸ä»¥ `k` å¼€å¤´çš„åˆ—è¡¨ã€‚

ä»¥ä¸‹æ˜¯ä¸€äº›å°†ä¸Šè¿°é€»è¾‘è½¬åŒ–ä¸ºä»£ç çš„å…³é”®ç‚¹ï¼š

- å¦‚æœ `rest` æ˜¯ `[2, 3]`ï¼Œåˆ™ `[1] + rest` æ˜¯ `[1, 2, 3]`ã€‚
- åœ¨è¡¨è¾¾å¼ `[... for rest in sums(...) if ...]` ä¸­ï¼Œ`rest` ä¼šä¾æ¬¡è¢«èµ‹å€¼ä¸ºæ¯æ¬¡é€’å½’è°ƒç”¨ `sums(...)` æ‰€è¿”å›çš„åˆ—è¡¨ä¸­çš„æ¯ä¸€ä¸ªå­åˆ—è¡¨ã€‚ ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœè°ƒç”¨ `sums(3, 2)`ï¼Œé‚£ä¹ˆ `rest` ä¼šå…ˆè¢«èµ‹å€¼ä¸º `[1, 2]`ï¼Œç„¶åè¢«èµ‹å€¼ä¸º `[2, 1]`ã€‚

åœ¨ç»™å‡ºçš„è§£å†³æ–¹æ¡ˆä¸­ï¼Œä¸‹é¢çš„è¡¨è¾¾å¼ä¼šåˆ›å»ºä¸€ä¸ªåˆ—è¡¨çš„åˆ—è¡¨ï¼Œå…¶ä¸­æ¯ä¸ªå­åˆ—è¡¨éƒ½ä»¥ `k` å¼€å¤´ï¼Œåé¢è·Ÿç€ `rest` åˆ—è¡¨ä¸­çš„å…ƒç´ ã€‚ è¡¨è¾¾å¼é¦–å…ˆä¼šæ£€æŸ¥ `rest` åˆ—è¡¨æ˜¯å¦ä¹Ÿä»¥ `k` å¼€å¤´ï¼ˆå¦‚æœ `rest` ä»¥ `k` å¼€å¤´ï¼Œé‚£ä¹ˆæ–°ç”Ÿæˆçš„åˆ—è¡¨å°±ä¼šå‡ºç°ä¸¤ä¸ªç›¸é‚»çš„ `k`ï¼‰ã€‚

ä¾‹å¦‚ï¼Œåœ¨ `sums(5, 2)` çš„è°ƒç”¨ä¸­ï¼Œå½“ `k` ç­‰äº 2 æ—¶ï¼Œé€’å½’è°ƒç”¨ `sums(3, 2)` ä¼šé¦–å…ˆæŠŠ `rest` èµ‹å€¼ä¸º `[1, 2]`ï¼Œå› æ­¤ `[k] + rest` çš„ç»“æœæ˜¯ `[2, 1, 2]`ã€‚ æ¥ä¸‹æ¥ï¼Œ`rest` ä¼šè¢«èµ‹å€¼ä¸º `[2, 1]`ï¼Œä½†ç”±äº `if` æ¡ä»¶çš„é™åˆ¶ï¼Œè¿™ç§æƒ…å†µä¼šè¢«è·³è¿‡ï¼Œä»è€Œé¿å…ç”Ÿæˆ `[2, 2, 1]` è¿™æ ·çš„åŒ…å«ä¸¤ä¸ªç›¸é‚»çš„ 2 çš„åˆ—è¡¨ã€‚

ä½ å¯ä»¥ä½¿ç”¨é€’å½’å¯è§†åŒ–å·¥å…·æ¥é€æ­¥åˆ†æ `sums(5, 3)` çš„è°ƒç”¨è¿‡ç¨‹ã€‚

å¦‚æœé‡åˆ°å›°éš¾ï¼Œæ¬¢è¿åœ¨ Discord ä¸Šå‘å¸–æ±‚åŠ©ï¼Œæˆ‘ä»¬çš„å·¥ä½œäººå‘˜ä¼šåŠæ—¶è§£ç­”ï¼

## å®Œæˆç­¾åˆ°

è¯·å¤§å®¶å¡«å†™[å‡ºå‹¤è¡¨](https://docs.google.com/forms/d/e/1FAIpQLSeqlK8l6WkScGr-RHR-kM4p5bnR9cllYrG95fDqPJspSlll7A/viewform)ï¼ˆæ¯äººæ¯å‘¨æäº¤ä¸€æ¬¡ï¼‰ã€‚
