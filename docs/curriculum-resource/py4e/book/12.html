<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-curriculum-resource/py4e/book/12" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">12-network | CS自学社区</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.learncs.site/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://www.learncs.site/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://www.learncs.site/docs/curriculum-resource/py4e/book/12"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="baidu-site-verification" content="codeva-hJyfN2UKgo"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="12-network | CS自学社区"><meta data-rh="true" name="description" content="While many of the examples in this book have focused on reading files"><meta data-rh="true" property="og:description" content="While many of the examples in this book have focused on reading files"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://www.learncs.site/docs/curriculum-resource/py4e/book/12"><link data-rh="true" rel="alternate" href="https://www.learncs.site/docs/curriculum-resource/py4e/book/12" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.learncs.site/docs/curriculum-resource/py4e/book/12" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="CS自学社区 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="CS自学社区 Atom Feed">




<link rel="stylesheet" href="/katex/katex.min.css"><link rel="stylesheet" href="/assets/css/styles.c4382977.css">
<link rel="preload" href="/assets/js/runtime~main.1f1549d9.js" as="script">
<link rel="preload" href="/assets/js/main.2f696ece.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#fafbfc;color:#091E42" role="banner"><div class="content_knG7 announcementBarContent_xLdY">🎉️🎉️🎉️课程文档汉化工作正在进行中 🎉️🎉️ 学习交流群请到 <a href="/community">社区页面</a> 查看入群方式 🎉️🎉️🎉️</div></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="TeachYourselfCS" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="TeachYourselfCS" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">TeachYourselfCS</b></a><a class="navbar__item navbar__link" href="/docs/roadmap">路线图</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">课程资源</a><a class="navbar__item navbar__link" href="/blog">博客</a><a class="navbar__item navbar__link" href="/community">社区</a><a class="navbar__item navbar__link" href="/donate">捐赠我们</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">前言</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/roadmap">路线图</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/课程资源">课程资源</a><button aria-label="Toggle the collapsible sidebar category &#x27;课程资源&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs50x">cs50x</a><button aria-label="Toggle the collapsible sidebar category &#x27;cs50x&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61a">cs61a</a><button aria-label="Toggle the collapsible sidebar category &#x27;cs61a&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61b">cs61b</a><button aria-label="Toggle the collapsible sidebar category &#x27;cs61b&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61c">cs61c</a><button aria-label="Toggle the collapsible sidebar category &#x27;cs61c&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/18-01">MIT 18.01</a><button aria-label="Toggle the collapsible sidebar category &#x27;MIT 18.01&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/18-02">MIT 18.02</a><button aria-label="Toggle the collapsible sidebar category &#x27;MIT 18.02&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/18-06">MIT 18.06</a><button aria-label="Toggle the collapsible sidebar category &#x27;MIT 18.06&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/6-04j">MIT 6.042J</a><button aria-label="Toggle the collapsible sidebar category &#x27;MIT 6.042J&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs162">cs162</a><button aria-label="Toggle the collapsible sidebar category &#x27;cs162&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs144">cs144</a><button aria-label="Toggle the collapsible sidebar category &#x27;cs144&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/15-445">CMU 15-445</a><button aria-label="Toggle the collapsible sidebar category &#x27;CMU 15-445&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/curriculum-resource/py4e">py4e</a><button aria-label="Toggle the collapsible sidebar category &#x27;py4e&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/curriculum-resource/py4e/book/01">py4e book</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/py4e/book/01">01-intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/py4e/book/02">02-variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/py4e/book/03">02-conditional</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/py4e/book/04">04-functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/py4e/book/05">05-iterations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/py4e/book/06">06-strings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/py4e/book/07">07-files</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/py4e/book/08">08-list</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/py4e/book/09">09-dictionaries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/py4e/book/10">10-tuples</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/py4e/book/11">11-regex</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/curriculum-resource/py4e/book/12">12-network</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/py4e/book/13">13-web</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/py4e/book/14">14-objects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/py4e/book/15">15-database</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/py4e/book/16">16-visualizing-data</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/py4e/book_zh/01">py4e book 中文翻译</a></div></li></ul></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/课程资源"><span itemprop="name">课程资源</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/curriculum-resource/py4e"><span itemprop="name">py4e</span></a><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">py4e book</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">12-network</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Networked programs</h1><p>While many of the examples in this book have focused on reading files
and looking for data in those files, there are many different sources of
information when one considers the Internet.</p><p>In this chapter we will pretend to be a web browser and retrieve web
pages using the Hypertext Transfer Protocol (HTTP). Then we will read
through the web page data and parse it.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="hypertext-transfer-protocol---http">Hypertext Transfer Protocol <!-- -->-<!-- --> HTTP<a href="#hypertext-transfer-protocol---http" class="hash-link" aria-label="Direct link to hypertext-transfer-protocol---http" title="Direct link to hypertext-transfer-protocol---http">​</a></h2><p>The network protocol that powers the web is actually quite simple and
there is built-in support in Python called <code>socket</code> which
makes it very easy to make network connections and retrieve data over
those sockets in a Python program.</p><p>A <em>socket</em> is much like a file, except that a single socket
provides a two-way connection between two programs. You can both read
from and write to the same socket. If you write something to a socket,
it is sent to the application at the other end of the socket. If you
read from the socket, you are given the data which the other application
has sent.</p><p>But if you try to read a socket <a href="https://www.py4e.com/html3/12-network#fn1" target="_blank" rel="noopener noreferrer">1</a> when the program on the
other end of the socket has not sent any data, you just sit and wait. If
the programs on both ends of the socket simply wait for some data
without sending anything, they will wait for a very long time, so an
important part of programs that communicate over the Internet is to have
some sort of protocol.</p><p>A protocol is a set of precise rules that determine who is to go
first, what they are to do, and then what the responses are to that
message, and who sends next, and so on. In a sense the two applications
at either end of the socket are doing a dance and making sure not to
step on each other’s toes.</p><p>There are many documents that describe these network protocols. The
Hypertext Transfer Protocol is described in the following document:</p><p><a href="https://www.w3.org/Protocols/rfc2616/rfc2616.txt" target="_blank" rel="noopener noreferrer">https://www.w3.org/Protocols/rfc2616/rfc2616.txt</a></p><p>This is a long and complex 176-page document with a lot of detail. If
you find it interesting, feel free to read it all. But if you take a
look around page 36 of RFC2616 you will find the syntax for the GET
request. To request a document from a web server, we make a connection,
e.g. to the <code>www.pr4e.org</code> server on port 80, and then send a
line of the form</p><p><code>GET http://data.pr4e.org/romeo.txt HTTP/1.0</code></p><p>where the second parameter is the web page we are requesting, and
then we also send a blank line. The web server will respond with some
header information about the document and a blank line followed by the
document content.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-worlds-simplest-web-browser">The world’s simplest web browser<a href="#the-worlds-simplest-web-browser" class="hash-link" aria-label="Direct link to The world’s simplest web browser" title="Direct link to The world’s simplest web browser">​</a></h2><p>Perhaps the easiest way to show how the HTTP protocol works is to
write a very simple Python program that makes a connection to a web
server and follows the rules of the HTTP protocol to request a document
and display what the server sends back.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import socket</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mysock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mysock.connect((&#x27;data.pr4e.org&#x27;, 80))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cmd = &#x27;GET http://data.pr4e.org/romeo.txt HTTP/1.0\r\n\r\n&#x27;.encode()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mysock.send(cmd)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">while True:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    data = mysock.recv(512)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if len(data) &lt; 1:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        break</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    print(data.decode(),end=&#x27;&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mysock.close()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Code: https://www.py4e.com/code3/socket1.py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>First the program makes a connection to port 80 on the server <a href="http://www.pr4e.com/" target="_blank" rel="noopener noreferrer">www.pr4e.com</a>. Since our program is
playing the role of the “web browser”, the HTTP protocol says we must
send the GET command followed by a blank line. <code>\r\n</code>
signifies an EOL (end of line), so <code>\r\n\r\n</code> signifies
nothing between two EOL sequences. That is the equivalent of a blank
line.</p><p><img loading="lazy" alt="A Socket Connection" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bD0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIxNiAxNiAzOTEgMjAyIiB3aWR0aD0iMzkxcHQiIGhlaWdodD0iMjAycHQiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyI+PG1ldGFkYXRhPiBQcm9kdWNlZCBieSBPbW5pR3JhZmZsZSA2LjYgPGRjOmRhdGU+MjAxNi0wOS0yMyAxOTo0ODo1OCArMDAwMDwvZGM6ZGF0ZT48L21ldGFkYXRhPjxkZWZzPjxmb250LWZhY2UgZm9udC1mYW1pbHk9IkhlbHZldGljYSBOZXVlIiBmb250LXNpemU9IjE2IiBwYW5vc2UtMT0iMiAwIDUgMyAwIDAgMCAyIDAgNCIgdW5pdHMtcGVyLWVtPSIxMDAwIiB1bmRlcmxpbmUtcG9zaXRpb249Ii0xMDAiIHVuZGVybGluZS10aGlja25lc3M9IjUwIiBzbG9wZT0iMCIgeC1oZWlnaHQ9IjUxNyIgY2FwLWhlaWdodD0iNzE0IiBhc2NlbnQ9Ijk1MS45OTU4NSIgZGVzY2VudD0iLTIxMi45OTc0NCIgZm9udC13ZWlnaHQ9IjUwMCI+PGZvbnQtZmFjZS1zcmM+PGZvbnQtZmFjZS1uYW1lIG5hbWU9IkhlbHZldGljYU5ldWUiLz48L2ZvbnQtZmFjZS1zcmM+PC9mb250LWZhY2U+PGZvbnQtZmFjZSBmb250LWZhbWlseT0iSGVsdmV0aWNhIE5ldWUiIGZvbnQtc2l6ZT0iMTQiIHBhbm9zZS0xPSIyIDAgNSAzIDAgMCAwIDIgMCA0IiB1bml0cy1wZXItZW09IjEwMDAiIHVuZGVybGluZS1wb3NpdGlvbj0iLTEwMCIgdW5kZXJsaW5lLXRoaWNrbmVzcz0iNTAiIHNsb3BlPSIwIiB4LWhlaWdodD0iNTE3IiBjYXAtaGVpZ2h0PSI3MTQiIGFzY2VudD0iOTUxLjk5NTg1IiBkZXNjZW50PSItMjEyLjk5NzQ0IiBmb250LXdlaWdodD0iNTAwIj48Zm9udC1mYWNlLXNyYz48Zm9udC1mYWNlLW5hbWUgbmFtZT0iSGVsdmV0aWNhTmV1ZSIvPjwvZm9udC1mYWNlLXNyYz48L2ZvbnQtZmFjZT48L2RlZnM+PGcgc3Ryb2tlPSJub25lIiBzdHJva2Utb3BhY2l0eT0iMSIgc3Ryb2tlLWRhc2hhcnJheT0ibm9uZSIgZmlsbD0ibm9uZSIgZmlsbC1vcGFjaXR5PSIxIj48dGl0bGU+Q2FudmFzIDE8L3RpdGxlPjxyZWN0IGZpbGw9IndoaXRlIiB3aWR0aD0iNTQ1IiBoZWlnaHQ9IjQ5NSIvPjxnPjx0aXRsZT5MYXllciAxPC90aXRsZT48cmVjdCB4PSIxOCIgeT0iMTgiIHdpZHRoPSIxMzUiIGhlaWdodD0iMTgwIiBmaWxsPSJ3aGl0ZSIvPjxyZWN0IHg9IjE4IiB5PSIxOCIgd2lkdGg9IjEzNSIgaGVpZ2h0PSIxODAiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIxIi8+PHRleHQgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjMgMjMpIiBmaWxsPSJibGFjayI+PHRzcGFuIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EgTmV1ZSIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9IjUwMCIgeD0iNDYuNSIgeT0iMTUiIHRleHRMZW5ndGg9IjEwLjM2OCI+WTwvdHNwYW4+PHRzcGFuIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EgTmV1ZSIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9IjUwMCIgeD0iNTUuMDkyIiB5PSIxNSIgdGV4dExlbmd0aD0iMjMuNDA4Ij5vdXI8L3RzcGFuPjx0c3BhbiBmb250LWZhbWlseT0iSGVsdmV0aWNhIE5ldWUiIGZvbnQtc2l6ZT0iMTYiIGZvbnQtd2VpZ2h0PSI1MDAiIHg9IjMxLjgyOCIgeT0iMzMuNDQ3OTk4IiB0ZXh0TGVuZ3RoPSIxNS42OTYiPlByPC90c3Bhbj48dHNwYW4gZm9udC1mYW1pbHk9IkhlbHZldGljYSBOZXVlIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iNTAwIiB4PSI0Ny4yMzYiIHk9IjMzLjQ0Nzk5OCIgdGV4dExlbmd0aD0iNDUuOTM2Ij5vZ3JhbTwvdHNwYW4+PC90ZXh0PjxyZWN0IHg9IjEzNSIgeT0iNzIiIHdpZHRoPSIyNyIgaGVpZ2h0PSIxMDgiIGZpbGw9IiMwMGJmYzAiLz48cmVjdCB4PSIxMzUiIHk9IjcyIiB3aWR0aD0iMjciIGhlaWdodD0iMTA4IiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMSIvPjx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDE0MCA3Ni44MjQwMDUpIiBmaWxsPSJibGFjayI+PHRzcGFuIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EgTmV1ZSIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9IjUwMCIgeD0iMy45NjQiIHk9IjEzIiB0ZXh0TGVuZ3RoPSI5LjA3MiI+UzwvdHNwYW4+PHRzcGFuIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EgTmV1ZSIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9IjUwMCIgeD0iMy4xOCIgeT0iMjkuMzkxOTk4IiB0ZXh0TGVuZ3RoPSIxMC42NCI+TzwvdHNwYW4+PHRzcGFuIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EgTmV1ZSIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9IjUwMCIgeD0iMy40NDYiIHk9IjQ1Ljc4Mzk5NyIgdGV4dExlbmd0aD0iMTAuMTA4Ij5DPC90c3Bhbj48dHNwYW4gZm9udC1mYW1pbHk9IkhlbHZldGljYSBOZXVlIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iNTAwIiB4PSIzLjgzMSIgeT0iNjIuMTc1OTk1IiB0ZXh0TGVuZ3RoPSI5LjMzOCI+SzwvdHNwYW4+PHRzcGFuIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EgTmV1ZSIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9IjUwMCIgeD0iNC4yMjMiIHk9Ijc4LjU2Nzk5MyIgdGV4dExlbmd0aD0iOC41NTQiPkU8L3RzcGFuPjx0c3BhbiBmb250LWZhbWlseT0iSGVsdmV0aWNhIE5ldWUiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSI1MDAiIHg9IjQuNDgyIiB5PSI5NC45NTk5OSIgdGV4dExlbmd0aD0iOC4wMzYiPlQ8L3RzcGFuPjwvdGV4dD48cmVjdCB4PSI2MyIgeT0iNzIiIHdpZHRoPSI3MiIgaGVpZ2h0PSIyNyIgZmlsbD0id2hpdGUiLz48cmVjdCB4PSI2MyIgeT0iNzIiIHdpZHRoPSI3MiIgaGVpZ2h0PSIyNyIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjEiLz48dGV4dCB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2OCA3Ni4yNzYpIiBmaWxsPSJibGFjayI+PHRzcGFuIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EgTmV1ZSIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9IjUwMCIgeD0iNy4xNDQiIHk9IjE1IiB0ZXh0TGVuZ3RoPSI0Ny43MTIiPnNvY2tldDwvdHNwYW4+PC90ZXh0PjxyZWN0IHg9IjYzIiB5PSI5OSIgd2lkdGg9IjcyIiBoZWlnaHQ9IjI3IiBmaWxsPSJ3aGl0ZSIvPjxyZWN0IHg9IjYzIiB5PSI5OSIgd2lkdGg9IjcyIiBoZWlnaHQ9IjI3IiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMSIvPjx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDY4IDEwMy4yNzYpIiBmaWxsPSJibGFjayI+PHRzcGFuIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EgTmV1ZSIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9IjUwMCIgeD0iMi4xMDQiIHk9IjE1IiB0ZXh0TGVuZ3RoPSI1Ny43OTIiPmNvbm5lY3Q8L3RzcGFuPjwvdGV4dD48cmVjdCB4PSI2MyIgeT0iMTI2IiB3aWR0aD0iNzIiIGhlaWdodD0iMjciIGZpbGw9IndoaXRlIi8+PHJlY3QgeD0iNjMiIHk9IjEyNiIgd2lkdGg9IjcyIiBoZWlnaHQ9IjI3IiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMSIvPjx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDY4IDEzMC4yNzYpIiBmaWxsPSJibGFjayI+PHRzcGFuIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EgTmV1ZSIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9IjUwMCIgeD0iMTMuNTEyIiB5PSIxNSIgdGV4dExlbmd0aD0iMzQuOTc2Ij5zZW5kPC90c3Bhbj48L3RleHQ+PHJlY3QgeD0iNjMiIHk9IjE1MyIgd2lkdGg9IjcyIiBoZWlnaHQ9IjI3IiBmaWxsPSJ3aGl0ZSIvPjxyZWN0IHg9IjYzIiB5PSIxNTMiIHdpZHRoPSI3MiIgaGVpZ2h0PSIyNyIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjEiLz48dGV4dCB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2OCAxNTcuMjc2KSIgZmlsbD0iYmxhY2siPjx0c3BhbiBmb250LWZhbWlseT0iSGVsdmV0aWNhIE5ldWUiIGZvbnQtc2l6ZT0iMTYiIGZvbnQtd2VpZ2h0PSI1MDAiIHg9IjE1Ljg4OCIgeT0iMTUiIHRleHRMZW5ndGg9IjUuMzI4Ij5yPC90c3Bhbj48dHNwYW4gZm9udC1mYW1pbHk9IkhlbHZldGljYSBOZXVlIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iNTAwIiB4PSIyMC45MjgiIHk9IjE1IiB0ZXh0TGVuZ3RoPSIyNS4xODQiPmVjdjwvdHNwYW4+PC90ZXh0PjxwYXRoIGQ9Ik0gMjI0Ljk4NjU5IDEyNy42MzQ1OCBDIDE5MS41MzEyNSAxMTcgMjA0Ljg3MjQgMjcuNDc0MyAyNTguMjQxMTQgNDIuNzUgQyAyNjMuMTkyNTggMTIuOTcyNzggMzI1LjI1MzI1IDE3LjgwNTk2IDMyNC44NDc1MyA0Mi43NSBDIDM2My43NjE0NiAxMC44NDYyNiA0MTMuNDkxMTQgNzQuNDYxNjggMzgwLjEzNTE2IDEwNi4zNjU0MiBDIDQyMC4xNjA2OCAxMjEuODMzMTggMzc5LjYzMDA4IDIwNS4xNzEzOCAzNDYuNzgxMjUgMTkxLjI1IEMgMzQ0LjE1MjM1IDIxNC40NTM2MiAyODUuNDI4NTIgMjIyLjU3MzYgMjgwLjI3NDIyIDE5MS4yNSBDIDI0Ny4wMjE3NCAyMjQuNzAyMSAxNzcuNjg1MDIgMTczLjI2NzY0IDIyNC45ODY1OSAxMjcuNjM0NTggWiIgZmlsbD0id2hpdGUiLz48cGF0aCBkPSJNIDIyNC45ODY1OSAxMjcuNjM0NTggQyAxOTEuNTMxMjUgMTE3IDIwNC44NzI0IDI3LjQ3NDMgMjU4LjI0MTE0IDQyLjc1IEMgMjYzLjE5MjU4IDEyLjk3Mjc4IDMyNS4yNTMyNSAxNy44MDU5NiAzMjQuODQ3NTMgNDIuNzUgQyAzNjMuNzYxNDYgMTAuODQ2MjYgNDEzLjQ5MTE0IDc0LjQ2MTY4IDM4MC4xMzUxNiAxMDYuMzY1NDIgQyA0MjAuMTYwNjggMTIxLjgzMzE4IDM3OS42MzAwOCAyMDUuMTcxMzggMzQ2Ljc4MTI1IDE5MS4yNSBDIDM0NC4xNTIzNSAyMTQuNDUzNjIgMjg1LjQyODUyIDIyMi41NzM2IDI4MC4yNzQyMiAxOTEuMjUgQyAyNDcuMDIxNzQgMjI0LjcwMjEgMTc3LjY4NTAyIDE3My4yNjc2NCAyMjQuOTg2NTkgMTI3LjYzNDU4IFoiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIxIi8+PHRleHQgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjEyIDU4LjM4MDAwNSkiIGZpbGw9ImJsYWNrIj48dHNwYW4gZm9udC1mYW1pbHk9IkhlbHZldGljYSBOZXVlIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iNTAwIiB4PSIzNC4xIiB5PSIxNSIgdGV4dExlbmd0aD0iMzYuMzg0Ij53d3c8L3RzcGFuPjx0c3BhbiBmb250LWZhbWlseT0iSGVsdmV0aWNhIE5ldWUiIGZvbnQtc2l6ZT0iMTYiIGZvbnQtd2VpZ2h0PSI1MDAiIHg9IjY5LjYwNCIgeT0iMTUiIHRleHRMZW5ndGg9Ijc1LjI5NiI+LnB5NGUuY29tPC90c3Bhbj48dHNwYW4gZm9udC1mYW1pbHk9IkhlbHZldGljYSBOZXVlIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iNTAwIiB4PSI0OC45MTYiIHk9IjUxLjQ0Nzk5OCIgdGV4dExlbmd0aD0iMTQuODE2Ij5XPC90c3Bhbj48dHNwYW4gZm9udC1mYW1pbHk9IkhlbHZldGljYSBOZXVlIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iNTAwIiB4PSI2Mi44MiIgeT0iNTEuNDQ3OTk4IiB0ZXh0TGVuZ3RoPSI2Ny4yNjQiPmViIFBhZ2VzPC90c3Bhbj48dHNwYW4gZm9udC1mYW1pbHk9IkhlbHZldGljYSBOZXVlIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iNTAwIiB4PSI4Ny4yNzYiIHk9IjY5Ljg5NTk5NiIgdGV4dExlbmd0aD0iNC40NDgiPi48L3RzcGFuPjx0c3BhbiBmb250LWZhbWlseT0iSGVsdmV0aWNhIE5ldWUiIGZvbnQtc2l6ZT0iMTYiIGZvbnQtd2VpZ2h0PSI1MDAiIHg9Ijg3LjI3NiIgeT0iODguMzQzOTk0IiB0ZXh0TGVuZ3RoPSI0LjQ0OCI+LjwvdHNwYW4+PHRzcGFuIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EgTmV1ZSIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9IjUwMCIgeD0iODcuMjc2IiB5PSIxMDYuNzkxOTkiIHRleHRMZW5ndGg9IjQuNDQ4Ij4uPC90c3Bhbj48L3RleHQ+PHJlY3QgeD0iMTYyIiB5PSIxMDgiIHdpZHRoPSI4MSIgaGVpZ2h0PSIyNyIgZmlsbD0iIzAwYmZjMCIvPjxyZWN0IHg9IjE2MiIgeT0iMTA4IiB3aWR0aD0iODEiIGhlaWdodD0iMjciIHN0cm9rZT0iYmxhY2siIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIxIi8+PHRleHQgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTY3IDExMi4yNzYpIiBmaWxsPSJibGFjayI+PHRzcGFuIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EgTmV1ZSIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9IjUwMCIgeD0iMTguODQiIHk9IjE1IiB0ZXh0TGVuZ3RoPSI1Mi4xNiI+UG9ydCA4MDwvdHNwYW4+PC90ZXh0PjwvZz48L2c+PC9zdmc+Cg==" width="521" height="269" class="img_ev3q">
A Socket Connection</p><p>Once we send that blank line, we write a loop that receives data in
512-character chunks from the socket and prints the data out until there
is no more data to read (i.e., the recv() returns an empty string).</p><p>The program produces the following output:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Date: Wed, 11 Apr 2018 18:52:55 GMT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Server: Apache/2.4.7 (Ubuntu)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Last-Modified: Sat, 13 May 2017 11:22:22 GMT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ETag: &quot;a7-54f6609245537&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Accept-Ranges: bytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Length: 167</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Cache-Control: max-age=0, no-cache, no-store, must-revalidate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Pragma: no-cache</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Expires: Wed, 11 Jan 1984 05:00:00 GMT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Connection: close</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: text/plain</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">But soft what light through yonder window breaks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">It is the east and Juliet is the sun</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Arise fair sun and kill the envious moon</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Who is already sick and pale with grief</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The output starts with headers which the web server sends to describe
the document. For example, the <code>Content-Type</code> header
indicates that the document is a plain text document
( <code>text/plain</code>).</p><p>After the server sends us the headers, it adds a blank line to
indicate the end of the headers, and then sends the actual data of the
file <em>romeo.txt</em>.</p><p>This example shows how to make a low-level network connection with
sockets. Sockets can be used to communicate with a web server or with a
mail server or many other kinds of servers. All that is needed is to
find the document which describes the protocol and write the code to
send and receive the data according to the protocol.</p><p>However, since the protocol that we use most commonly is the HTTP web
protocol, Python has a special library specifically designed to support
the HTTP protocol for the retrieval of documents and data over the
web.</p><p>One of the requirements for using the HTTP protocol is the need to
send and receive data as bytes objects, instead of strings. In the
preceding example, the <code>encode()</code> and <code>decode()</code>
methods convert strings into bytes objects and back again.</p><p>The next example uses <code>b&#x27;&#x27;</code> notation to specify that a
variable should be stored as a bytes object. <code>encode()</code> and
<code>b&#x27;&#x27;</code> are equivalent.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt; b&#x27;Hello world&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b&#x27;Hello world&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt; &#x27;Hello world&#x27;.encode()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b&#x27;Hello world&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="retrieving-an-image-over-http">Retrieving an image over HTTP<a href="#retrieving-an-image-over-http" class="hash-link" aria-label="Direct link to Retrieving an image over HTTP" title="Direct link to Retrieving an image over HTTP">​</a></h2><p>In the above example, we retrieved a plain text file which had
newlines in the file and we simply copied the data to the screen as the
program ran. We can use a similar program to retrieve an image across
using HTTP. Instead of copying the data to the screen as the program
runs, we accumulate the data in a string, trim off the headers, and then
save the image data to a file as follows:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import socket</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import time</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HOST = &#x27;data.pr4e.org&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PORT = 80</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mysock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mysock.connect((HOST, PORT))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mysock.sendall(b&#x27;GET http://data.pr4e.org/cover3.jpg HTTP/1.0\r\n\r\n&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">count = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">picture = b&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">while True:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    data = mysock.recv(5120)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if len(data) &lt; 1: break</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    #time.sleep(0.25)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    count = count + len(data)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    print(len(data), count)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    picture = picture + data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mysock.close()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Look for the end of the header (2 CRLF)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pos = picture.find(b&quot;\r\n\r\n&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">print(&#x27;Header length&#x27;, pos)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">print(picture[:pos].decode())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Skip past the header and save the picture data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">picture = picture[pos+4:]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fhand = open(&quot;stuff.jpg&quot;, &quot;wb&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fhand.write(picture)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fhand.close()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Code: https://www.py4e.com/code3/urljpeg.py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When the program runs, it produces the following output:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ python urljpeg.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5120 5120</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5120 10240</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4240 14480</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5120 19600</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5120 214000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3200 217200</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5120 222320</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5120 227440</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3167 230607</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Header length 393</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Date: Wed, 11 Apr 2018 18:54:09 GMT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Server: Apache/2.4.7 (Ubuntu)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Last-Modified: Mon, 15 May 2017 12:27:40 GMT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ETag: &quot;38342-54f8f2e5b6277&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Accept-Ranges: bytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Length: 230210</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Vary: Accept-Encoding</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Cache-Control: max-age=0, no-cache, no-store, must-revalidate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Pragma: no-cache</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Expires: Wed, 11 Jan 1984 05:00:00 GMT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Connection: close</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: image/jpeg</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can see that for this url, the <code>Content-Type</code> header
indicates that body of the document is an image
( <code>image/jpeg</code>). Once the program completes, you can view the
image data by opening the file <code>stuff.jpg</code> in an image
viewer.</p><p>As the program runs, you can see that we don’t get 5120 characters
each time we call the <code>recv()</code> method. We get as many
characters as have been transferred across the network to us by the web
server at the moment we call <code>recv()</code>. In this example, we
either get as few as 3200 characters each time we request up to 5120
characters of data.</p><p>Your results may be different depending on your network speed. Also
note that on the last call to <code>recv()</code> we get 3167 bytes,
which is the end of the stream, and in the next call to
<code>recv()</code> we get a zero-length string that tells us that the
server has called <code>close()</code> on its end of the socket and
there is no more data forthcoming.</p><p>We can slow down our successive <code>recv()</code> calls by
uncommenting the call to <code>time.sleep()</code>. This way, we wait a
quarter of a second after each call so that the server can “get ahead”
of us and send more data to us before we call <code>recv()</code> again.
With the delay, in place the program executes as follows:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ python urljpeg.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5120 5120</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5120 10240</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5120 15360</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5120 225280</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5120 230400</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">207 230607</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Header length 393</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Date: Wed, 11 Apr 2018 21:42:08 GMT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Server: Apache/2.4.7 (Ubuntu)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Last-Modified: Mon, 15 May 2017 12:27:40 GMT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ETag: &quot;38342-54f8f2e5b6277&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Accept-Ranges: bytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Length: 230210</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Vary: Accept-Encoding</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Cache-Control: max-age=0, no-cache, no-store, must-revalidate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Pragma: no-cache</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Expires: Wed, 11 Jan 1984 05:00:00 GMT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Connection: close</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: image/jpeg</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now other than the first and last calls to <code>recv()</code>, we
now get 5120 characters each time we ask for new data.</p><p>There is a buffer between the server making <code>send()</code>
requests and our application making <code>recv()</code> requests. When
we run the program with the delay in place, at some point the server
might fill up the buffer in the socket and be forced to pause until our
program starts to empty the buffer. The pausing of either the sending
application or the receiving application is called “flow control.”</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="retrieving-web-pages-with-urllib">Retrieving web pages with <code>urllib</code><a href="#retrieving-web-pages-with-urllib" class="hash-link" aria-label="Direct link to retrieving-web-pages-with-urllib" title="Direct link to retrieving-web-pages-with-urllib">​</a></h2><p>While we can manually send and receive data over HTTP using the
socket library, there is a much simpler way to perform this common task
in Python by using the <code>urllib</code> library.</p><p>Using <code>urllib</code>, you can treat a web page much like a file.
You simply indicate which web page you would like to retrieve and
<code>urllib</code> handles all of the HTTP protocol and header
details.</p><p>The equivalent code to read the <em>romeo.txt</em> file from the web
using <code>urllib</code> is as follows:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import urllib.request</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fhand = urllib.request.urlopen(&#x27;http://data.pr4e.org/romeo.txt&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">for line in fhand:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    print(line.decode().strip())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Code: https://www.py4e.com/code3/urllib1.py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Once the web page has been opened with
<code>urllib.request.urlopen</code>, we can treat it like a file and
read through it using a <code>for</code> loop.</p><p>When the program runs, we only see the output of the contents of the
file. The headers are still sent, but the <code>urllib</code> code
consumes the headers and only returns the data to us.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">But soft what light through yonder window breaks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">It is the east and Juliet is the sun</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Arise fair sun and kill the envious moon</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Who is already sick and pale with grief</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>As an example, we can write a program to retrieve the data for
<code>romeo.txt</code> and compute the frequency of each word in the
file as follows:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import urllib.request, urllib.parse, urllib.error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fhand = urllib.request.urlopen(&#x27;http://data.pr4e.org/romeo.txt&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">counts = dict()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">for line in fhand:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    words = line.decode().split()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for word in words:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        counts[word] = counts.get(word, 0) + 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">print(counts)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Code: https://www.py4e.com/code3/urlwords.py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Again, once we have opened the web page, we can read it like a local
file.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="reading-binary-files-using-urllib">Reading binary files using <code>urllib</code><a href="#reading-binary-files-using-urllib" class="hash-link" aria-label="Direct link to reading-binary-files-using-urllib" title="Direct link to reading-binary-files-using-urllib">​</a></h2><p>Sometimes you want to retrieve a non-text (or binary) file such as an
image or video file. The data in these files is generally not useful to
print out, but you can easily make a copy of a URL to a local file on
your hard disk using <code>urllib</code>.</p><p>The pattern is to open the URL and use <code>read</code> to download
the entire contents of the document into a string variable
( <code>img</code>) then write that information to a local file as
follows:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import urllib.request, urllib.parse, urllib.error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">img = urllib.request.urlopen(&#x27;http://data.pr4e.org/cover3.jpg&#x27;).read()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fhand = open(&#x27;cover3.jpg&#x27;, &#x27;wb&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fhand.write(img)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fhand.close()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Code: https://www.py4e.com/code3/curl1.py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This program reads all of the data in at once across the network and
stores it in the variable <code>img</code> in the main memory of your
computer, then opens the file <code>cover.jpg</code> and writes the data
out to your disk. The <code>wb</code> argument for <code>open()</code>
opens a binary file for writing only. This program will work if the size
of the file is less than the size of the memory of your computer.</p><p>However if this is a large audio or video file, this program may
crash or at least run extremely slowly when your computer runs out of
memory. In order to avoid running out of memory, we retrieve the data in
blocks (or buffers) and then write each block to your disk before
retrieving the next block. This way the program can read any size file
without using up all of the memory you have in your computer.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import urllib.request, urllib.parse, urllib.error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">img = urllib.request.urlopen(&#x27;http://data.pr4e.org/cover3.jpg&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fhand = open(&#x27;cover3.jpg&#x27;, &#x27;wb&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">size = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">while True:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    info = img.read(100000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if len(info) &lt; 1: break</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    size = size + len(info)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fhand.write(info)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">print(size, &#x27;characters copied.&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fhand.close()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Code: https://www.py4e.com/code3/curl2.py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this example, we read only 100,000 characters at a time and then
write those characters to the <code>cover3.jpg</code> file before
retrieving the next 100,000 characters of data from the web.</p><p>This program runs as follows:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python curl2.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">230210 characters copied.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="parsing-html-and-scraping-the-web">Parsing HTML and scraping the web<a href="#parsing-html-and-scraping-the-web" class="hash-link" aria-label="Direct link to Parsing HTML and scraping the web" title="Direct link to Parsing HTML and scraping the web">​</a></h2><p>One of the common uses of the <code>urllib</code> capability in
Python is to <em>scrape</em> the web. Web scraping is when we write a
program that pretends to be a web browser and retrieves pages, then
examines the data in those pages looking for patterns.</p><p>As an example, a search engine such as Google will look at the source
of one web page and extract the links to other pages and retrieve those
pages, extracting links, and so on. Using this technique, Google
<em>spiders</em> its way through nearly all of the pages on the web.</p><p>Google also uses the frequency of links from pages it finds to a
particular page as one measure of how “important” a page is and how high
the page should appear in its search results.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="parsing-html-using-regular-expressions">Parsing HTML using regular expressions<a href="#parsing-html-using-regular-expressions" class="hash-link" aria-label="Direct link to Parsing HTML using regular expressions" title="Direct link to Parsing HTML using regular expressions">​</a></h2><p>One simple way to parse HTML is to use regular expressions to
repeatedly search for and extract substrings that match a particular
pattern.</p><p>Here is a simple web page:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;h1&gt;The First Page&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;p&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">If you like, you can switch to the</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;a href=&quot;http://www.dr-chuck.com/page2.htm&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Second Page&lt;/a&gt;.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/p&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We can construct a well-formed regular expression to match and
extract the link values from the above text as follows:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">href=&quot;http[s]?://.+?&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Our regular expression looks for strings that start with
“href=&quot;http://” or “href=&quot;https://”, followed by one or more characters
( <code>.+?</code>), followed by another double quote. The question mark
behind the <code>[s]?</code> indicates to search for the string “http”
followed by zero or one “s”.</p><p>The question mark added to the <code>.+?</code> indicates that the
match is to be done in a “non-greedy” fashion instead of a “greedy”
fashion. A non-greedy match tries to find the <em>smallest</em> possible
matching string and a greedy match tries to find the <em>largest</em>
possible matching string.</p><p>We add parentheses to our regular expression to indicate which part
of our matched string we would like to extract, and produce the
following program:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Search for link values within URL input</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import urllib.request, urllib.parse, urllib.error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import re</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import ssl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Ignore SSL certificate errors</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ctx = ssl.create_default_context()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ctx.check_hostname = False</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ctx.verify_mode = ssl.CERT_NONE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">url = input(&#x27;Enter - &#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">html = urllib.request.urlopen(url, context=ctx).read()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">links = re.findall(b&#x27;href=&quot;(http[s]?://.*?)&quot;&#x27;, html)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">for link in links:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    print(link.decode())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Code: https://www.py4e.com/code3/urlregex.py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>ssl</code> library allows this program to access web sites
that strictly enforce HTTPS. The <code>read</code> method returns HTML
source code as a bytes object instead of returning an HTTPResponse
object. The <code>findall</code> regular expression method will give us
a list of all of the strings that match our regular expression,
returning only the link text between the double quotes.</p><p>When we run the program and input a URL, we get the following
output:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Enter - https://docs.python.org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://docs.python.org/3/index.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://www.python.org/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://docs.python.org/3.8/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://docs.python.org/3.7/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://docs.python.org/3.5/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://docs.python.org/2.7/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://www.python.org/doc/versions/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://www.python.org/dev/peps/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://wiki.python.org/moin/BeginnersGuide</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://wiki.python.org/moin/PythonBooks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://www.python.org/doc/av/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://www.python.org/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://www.python.org/psf/donations/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http://sphinx.pocoo.org/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Regular expressions work very nicely when your HTML is well formatted
and predictable. But since there are a lot of “broken” HTML pages out
there, a solution only using regular expressions might either miss some
valid links or end up with bad data.</p><p>This can be solved by using a robust HTML parsing library.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="parsing-html-using-beautifulsoup">Parsing HTML using BeautifulSoup<a href="#parsing-html-using-beautifulsoup" class="hash-link" aria-label="Direct link to Parsing HTML using BeautifulSoup" title="Direct link to Parsing HTML using BeautifulSoup">​</a></h2><p>Even though HTML looks like XML <a href="https://www.py4e.com/html3/12-network#fn2" target="_blank" rel="noopener noreferrer">2</a> and some pages are
carefully constructed to be XML, most HTML is generally broken in ways
that cause an XML parser to reject the entire page of HTML as improperly
formed.</p><p>There are a number of Python libraries which can help you parse HTML
and extract data from the pages. Each of the libraries has its strengths
and weaknesses and you can pick one based on your needs.</p><p>As an example, we will simply parse some HTML input and extract links
using the <em>BeautifulSoup</em> library. BeautifulSoup tolerates highly
flawed HTML and still lets you easily extract the data you need. You can
download and install the BeautifulSoup code from:</p><p><a href="https://pypi.python.org/pypi/beautifulsoup4" target="_blank" rel="noopener noreferrer">https://pypi.python.org/pypi/beautifulsoup4</a></p><p>Information on installing BeautifulSoup with the Python Package Index
tool <code>pip</code> is available at:</p><p><a href="https://packaging.python.org/tutorials/installing-packages/" target="_blank" rel="noopener noreferrer">https://packaging.python.org/tutorials/installing-packages/</a></p><p>We will use <code>urllib</code> to read the page and then use
<code>BeautifulSoup</code> to extract the <code>href</code> attributes
from the anchor ( <code>a</code>) tags.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># To run this, download the BeautifulSoup zip file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># http://www.py4e.com/code3/bs4.zip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># and unzip it in the same directory as this file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import urllib.request, urllib.parse, urllib.error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">from bs4 import BeautifulSoup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import ssl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Ignore SSL certificate errors</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ctx = ssl.create_default_context()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ctx.check_hostname = False</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ctx.verify_mode = ssl.CERT_NONE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">url = input(&#x27;Enter - &#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">html = urllib.request.urlopen(url, context=ctx).read()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">soup = BeautifulSoup(html, &#x27;html.parser&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Retrieve all of the anchor tags</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tags = soup(&#x27;a&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">for tag in tags:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    print(tag.get(&#x27;href&#x27;, None))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Code: https://www.py4e.com/code3/urllinks.py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The program prompts for a web address, then opens the web page, reads
the data and passes the data to the BeautifulSoup parser, and then
retrieves all of the anchor tags and prints out the <code>href</code>
attribute for each tag.</p><p>When the program runs, it produces the following output:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Enter - https://docs.python.org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">genindex.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">py-modindex.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://www.python.org/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">whatsnew/3.6.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">whatsnew/index.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tutorial/index.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">library/index.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">reference/index.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using/index.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">howto/index.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">installing/index.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">distributing/index.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">extending/index.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c-api/index.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">faq/index.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">py-modindex.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">genindex.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">glossary.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">search.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">contents.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bugs.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">about.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">license.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">copyright.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">download.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://docs.python.org/3.8/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://docs.python.org/3.7/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://docs.python.org/3.5/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://docs.python.org/2.7/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://www.python.org/doc/versions/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://www.python.org/dev/peps/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://wiki.python.org/moin/BeginnersGuide</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://wiki.python.org/moin/PythonBooks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://www.python.org/doc/av/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">genindex.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">py-modindex.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://www.python.org/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">copyright.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://www.python.org/psf/donations/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bugs.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http://sphinx.pocoo.org/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This list is much longer because some HTML anchor tags are relative
paths (e.g., tutorial/index.html) or in-page references (e.g., ‘#’) that
do not include “http://” or “https://”, which was a requirement in our
regular expression.</p><p>You can use also BeautifulSoup to pull out various parts of each
tag:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># To run this, download the BeautifulSoup zip file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># http://www.py4e.com/code3/bs4.zip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># and unzip it in the same directory as this file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">from urllib.request import urlopen</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">from bs4 import BeautifulSoup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import ssl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Ignore SSL certificate errors</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ctx = ssl.create_default_context()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ctx.check_hostname = False</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ctx.verify_mode = ssl.CERT_NONE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">url = input(&#x27;Enter - &#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">html = urlopen(url, context=ctx).read()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">soup = BeautifulSoup(html, &quot;html.parser&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Retrieve all of the anchor tags</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tags = soup(&#x27;a&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">for tag in tags:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # Look at the parts of a tag</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    print(&#x27;TAG:&#x27;, tag)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    print(&#x27;URL:&#x27;, tag.get(&#x27;href&#x27;, None))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    print(&#x27;Contents:&#x27;, tag.contents[0])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    print(&#x27;Attrs:&#x27;, tag.attrs)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Code: https://www.py4e.com/code3/urllink2.py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python urllink2.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Enter - http://www.dr-chuck.com/page1.htm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TAG: &lt;a href=&quot;http://www.dr-chuck.com/page2.htm&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Second Page&lt;/a&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">URL: http://www.dr-chuck.com/page2.htm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content: [&#x27;\nSecond Page&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Attrs: [(&#x27;href&#x27;, &#x27;http://www.dr-chuck.com/page2.htm&#x27;)]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>html.parser</code> is the HTML parser included in the standard
Python 3 library. Information on other HTML parsers is available at:</p><p><a href="http://www.crummy.com/software/BeautifulSoup/bs4/doc/#installing-a-parser" target="_blank" rel="noopener noreferrer">http://www.crummy.com/software/BeautifulSoup/bs4/doc/#installing-a-parser</a></p><p>These examples only begin to show the power of BeautifulSoup when it
comes to parsing HTML.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bonus-section-for-unix--linux-users">Bonus section for Unix / Linux users<a href="#bonus-section-for-unix--linux-users" class="hash-link" aria-label="Direct link to Bonus section for Unix / Linux users" title="Direct link to Bonus section for Unix / Linux users">​</a></h2><p>If you have a Linux, Unix, or Macintosh computer, you probably have
commands built in to your operating system that retrieves both plain
text and binary files using the HTTP or File Transfer (FTP) protocols.
One of these commands is <code>curl</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ curl -O http://www.py4e.com/cover.jpg</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The command <code>curl</code> is short for “copy URL” and so the two
examples listed earlier to retrieve binary files with
<code>urllib</code> are cleverly named <code>curl1.py</code> and
<code>curl2.py</code> on <a href="https://www.py4e.com/code3" target="_blank" rel="noopener noreferrer">www.py4e.com/code3</a> as they
implement similar functionality to the <code>curl</code> command. There
is also a <code>curl3.py</code> sample program that does this task a
little more effectively, in case you actually want to use this pattern
in a program you are writing.</p><p>A second command that functions very similarly is
<code>wget</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ wget http://www.py4e.com/cover.jpg</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Both of these commands make retrieving webpages and remote files a
simple task.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="glossary">Glossary<a href="#glossary" class="hash-link" aria-label="Direct link to Glossary" title="Direct link to Glossary">​</a></h2><p>BeautifulSoup
A Python library for parsing HTML documents and extracting data from
HTML documents that compensates for most of the imperfections in the
HTML that browsers generally ignore. You can download the BeautifulSoup
code from <a href="http://www.crummy.com/" target="_blank" rel="noopener noreferrer">www.crummy.com</a>.
port
A number that generally indicates which application you are contacting
when you make a socket connection to a server. As an example, web
traffic usually uses port 80 while email traffic uses port 25.
scrape
When a program pretends to be a web browser and retrieves a web page,
then looks at the web page content. Often programs are following the
links in one page to find the next page so they can traverse a network
of pages or a social network.
socket
A network connection between two applications where the applications can
send and receive data in either direction.
spider
The act of a web search engine retrieving a page and then all the pages
linked from a page and so on until they have nearly all of the pages on
the Internet which they use to build their search index.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="exercises">Exercises<a href="#exercises" class="hash-link" aria-label="Direct link to Exercises" title="Direct link to Exercises">​</a></h2><p><strong>Exercise 1:</strong> Change the socket program
<code>socket1.py</code> to prompt the user for the URL so it can read
any web page.</p><p>You can use <code>split(&#x27;/&#x27;)</code> to break the URL into its
component parts so you can extract the host name for the socket
<code>connect</code> call. Add error checking using <code>try</code> and
<code>except</code> to handle the condition where the user enters an
improperly formatted or non-existent URL.</p><p><strong>Exercise 2:</strong> Change your socket program so that it
counts the number of characters it has received and stops displaying any
text after it has shown 3000 characters. The program should retrieve the
entire document and count the total number of characters and display the
count of the number of characters at the end of the document.</p><p><strong>Exercise 3:</strong> Use <code>urllib</code> to replicate the
previous exercise of (1) retrieving the document from a URL, (2)
displaying up to 3000 characters, and (3) counting the overall number of
characters in the document. Don’t worry about the headers for this
exercise, simply show the first 3000 characters of the document
contents.</p><p><strong>Exercise 4:</strong> Change the <code>urllinks.py</code>
program to extract and count paragraph (p) tags from the retrieved HTML
document and display the count of the paragraphs as the output of your
program. Do not display the paragraph text, only count them. Test your
program on several small web pages as well as some larger web pages.</p><p><strong>Exercise 5:</strong> (Advanced) Change the socket program so
that it only shows data after the headers and a blank line have been
received. Remember that <code>recv</code> receives characters (newlines
and all), not lines.</p><hr><ol><li><p>If you want to learn more about sockets, protocols or
how web servers are developed, you can explore the course at
<a href="https://www.dj4e.com." target="_blank" rel="noopener noreferrer">https://www.dj4e.com.</a> <a href="https://www.py4e.com/html3/12-network#fnref1" target="_blank" rel="noopener noreferrer">↩︎</a></p></li><li><p>The XML format is described in the next chapter. <a href="https://www.py4e.com/html3/12-network#fnref2" target="_blank" rel="noopener noreferrer">↩︎</a></p></li></ol><hr><p>If you find a mistake in this book, feel free to send me a fix using
<a href="https://github.com/csev/py4e/tree/master/book3" target="_blank" rel="noopener noreferrer">Github</a>.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/curriculum-resource/py4e/book/11"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">11-regex</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/curriculum-resource/py4e/book/13"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">13-web</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#hypertext-transfer-protocol---http" class="table-of-contents__link toc-highlight">Hypertext Transfer Protocol - HTTP</a></li><li><a href="#the-worlds-simplest-web-browser" class="table-of-contents__link toc-highlight">The world’s simplest web browser</a></li><li><a href="#retrieving-an-image-over-http" class="table-of-contents__link toc-highlight">Retrieving an image over HTTP</a></li><li><a href="#retrieving-web-pages-with-urllib" class="table-of-contents__link toc-highlight">Retrieving web pages with <code>urllib</code></a></li><li><a href="#reading-binary-files-using-urllib" class="table-of-contents__link toc-highlight">Reading binary files using <code>urllib</code></a></li><li><a href="#parsing-html-and-scraping-the-web" class="table-of-contents__link toc-highlight">Parsing HTML and scraping the web</a></li><li><a href="#parsing-html-using-regular-expressions" class="table-of-contents__link toc-highlight">Parsing HTML using regular expressions</a></li><li><a href="#parsing-html-using-beautifulsoup" class="table-of-contents__link toc-highlight">Parsing HTML using BeautifulSoup</a></li><li><a href="#bonus-section-for-unix--linux-users" class="table-of-contents__link toc-highlight">Bonus section for Unix / Linux users</a></li><li><a href="#glossary" class="table-of-contents__link toc-highlight">Glossary</a></li><li><a href="#exercises" class="table-of-contents__link toc-highlight">Exercises</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">CS学习社区</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">路线图</a></li></ul></div><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/WqwvTrEQmA" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">捐赠</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/donate">捐赠我们</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyleft © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.1f1549d9.js"></script>
<script src="/assets/js/main.2f696ece.js"></script>
</body>
</html>