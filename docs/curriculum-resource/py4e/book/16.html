<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-curriculum-resource/py4e/book/16" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">16-visualizing-data | CS自学社区</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.learncs.site/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://www.learncs.site/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://www.learncs.site/docs/curriculum-resource/py4e/book/16"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="baidu-site-verification" content="codeva-hJyfN2UKgo"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="16-visualizing-data | CS自学社区"><meta data-rh="true" name="description" content="So far we have been learning the Python language and then learning"><meta data-rh="true" property="og:description" content="So far we have been learning the Python language and then learning"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://www.learncs.site/docs/curriculum-resource/py4e/book/16"><link data-rh="true" rel="alternate" href="https://www.learncs.site/docs/curriculum-resource/py4e/book/16" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.learncs.site/docs/curriculum-resource/py4e/book/16" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="CS自学社区 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="CS自学社区 Atom Feed">




<link rel="stylesheet" href="/katex/katex.min.css"><link rel="stylesheet" href="/assets/css/styles.c4382977.css">
<link rel="preload" href="/assets/js/runtime~main.1f1549d9.js" as="script">
<link rel="preload" href="/assets/js/main.2f696ece.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#fafbfc;color:#091E42" role="banner"><div class="content_knG7 announcementBarContent_xLdY">🎉️🎉️🎉️课程文档汉化工作正在进行中 🎉️🎉️ 学习交流群请到 <a href="/community">社区页面</a> 查看入群方式 🎉️🎉️🎉️</div></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="TeachYourselfCS" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="TeachYourselfCS" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">TeachYourselfCS</b></a><a class="navbar__item navbar__link" href="/docs/roadmap">路线图</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">课程资源</a><a class="navbar__item navbar__link" href="/blog">博客</a><a class="navbar__item navbar__link" href="/community">社区</a><a class="navbar__item navbar__link" href="/donate">捐赠我们</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">前言</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/roadmap">路线图</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/课程资源">课程资源</a><button aria-label="Toggle the collapsible sidebar category &#x27;课程资源&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs50x">cs50x</a><button aria-label="Toggle the collapsible sidebar category &#x27;cs50x&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61a">cs61a</a><button aria-label="Toggle the collapsible sidebar category &#x27;cs61a&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61b">cs61b</a><button aria-label="Toggle the collapsible sidebar category &#x27;cs61b&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs61c">cs61c</a><button aria-label="Toggle the collapsible sidebar category &#x27;cs61c&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/18-01">MIT 18.01</a><button aria-label="Toggle the collapsible sidebar category &#x27;MIT 18.01&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/18-02">MIT 18.02</a><button aria-label="Toggle the collapsible sidebar category &#x27;MIT 18.02&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/18-06">MIT 18.06</a><button aria-label="Toggle the collapsible sidebar category &#x27;MIT 18.06&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/6-04j">MIT 6.042J</a><button aria-label="Toggle the collapsible sidebar category &#x27;MIT 6.042J&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs162">cs162</a><button aria-label="Toggle the collapsible sidebar category &#x27;cs162&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/cs144">cs144</a><button aria-label="Toggle the collapsible sidebar category &#x27;cs144&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/15-445">CMU 15-445</a><button aria-label="Toggle the collapsible sidebar category &#x27;CMU 15-445&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/curriculum-resource/py4e">py4e</a><button aria-label="Toggle the collapsible sidebar category &#x27;py4e&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/curriculum-resource/py4e/book/01">py4e book</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/py4e/book/01">01-intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/py4e/book/02">02-variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/py4e/book/03">02-conditional</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/py4e/book/04">04-functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/py4e/book/05">05-iterations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/py4e/book/06">06-strings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/py4e/book/07">07-files</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/py4e/book/08">08-list</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/py4e/book/09">09-dictionaries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/py4e/book/10">10-tuples</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/py4e/book/11">11-regex</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/py4e/book/12">12-network</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/py4e/book/13">13-web</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/py4e/book/14">14-objects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/curriculum-resource/py4e/book/15">15-database</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/curriculum-resource/py4e/book/16">16-visualizing-data</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/curriculum-resource/py4e/book_zh/01">py4e book 中文翻译</a></div></li></ul></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/课程资源"><span itemprop="name">课程资源</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/curriculum-resource/py4e"><span itemprop="name">py4e</span></a><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">py4e book</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">16-visualizing-data</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Visualizing data</h1><p>So far we have been learning the Python language and then learning
how to use Python, the network, and databases to manipulate data.</p><p>In this chapter, we take a look at three complete applications that
bring all of these things together to manage and visualize data. You
might use these applications as sample code to help get you started in
solving a real-world problem.</p><p>Each of the applications is a ZIP file that you can download and
extract onto your computer and execute.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="building-a-openstreetmap-from-geocoded-data">Building a OpenStreetMap from geocoded data<a href="#building-a-openstreetmap-from-geocoded-data" class="hash-link" aria-label="Direct link to Building a OpenStreetMap from geocoded data" title="Direct link to Building a OpenStreetMap from geocoded data">​</a></h2><p>In this project, we are using the OpenStreetMap geocoding API to
clean up some user-entered geographic locations of university names and
then placing the data on an actual OpenStreetMap.</p><p><img loading="lazy" alt="An OpenStreetMap" src="/assets/images/openstreet-map-bdb1cf047e38b81cce53165936d80a72.png" width="655" height="395" class="img_ev3q">An OpenStreetMap</p><p>To get started, download the application from:</p><p><a href="https://www.py4e.com/code3/opengeo.zip" target="_blank" rel="noopener noreferrer">www.py4e.com/code3/opengeo.zip</a></p><p>The first problem to solve is that these geocoding APIs are
rate-limited to a certain number of requests per day. If you have a lot
of data, you might need to stop and restart the lookup process several
times. So we break the problem into two phases.</p><p>In the first phase we take our input “survey” data in the file
<em>where.data</em> and read it one line at a time, and retrieve the
geocoded information from Google and store it in a database
<em>geodata.sqlite</em>. Before we use the geocoding API for each
user-entered location, we simply check to see if we already have the
data for that particular line of input. The database is functioning as a
local “cache” of our geocoding data to make sure we never ask Google for
the same data twice.</p><p>You can restart the process at any time by removing the file
<em>geodata.sqlite</em>.</p><p>Run the <em>geoload.py</em> program. This program will read the input
lines in <em>where.data</em> and for each line check to see if it is
already in the database. If we don’t have the data for the location, it
will call the geocoding API to retrieve the data and store it in the
database.</p><p>Here is a sample run after there is already some data in the
database:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Found in database AGH University of Science and Technology</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Found in database Academy of Fine Arts Warsaw Poland</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Found in database American University in Cairo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Found in database Arizona State University</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Found in database Athens Information Technology</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Retrieving https://py4e-data.dr-chuck.net/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   opengeo?q=BITS+Pilani</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Retrieved 794 characters {&quot;type&quot;:&quot;FeatureColl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Retrieving https://py4e-data.dr-chuck.net/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   opengeo?q=Babcock+University</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Retrieved 760 characters {&quot;type&quot;:&quot;FeatureColl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Retrieving https://py4e-data.dr-chuck.net/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   opengeo?q=Banaras+Hindu+University</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Retrieved 866 characters {&quot;type&quot;:&quot;FeatureColl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The first five locations are already in the database and so they are
skipped. The program scans to the point where it finds new locations and
starts retrieving them.</p><p>The <em>geoload.py</em> program can be stopped at any time, and there
is a counter that you can use to limit the number of calls to the
geocoding API for each run. Given that the <em>where.data</em> only has
a few hundred data items, you should not run into the daily rate limit,
but if you had more data it might take several runs over several days to
get your database to have all of the geocoded data for your input.</p><p>Once you have some data loaded into <em>geodata.sqlite</em>, you can
visualize the data using the <em>geodump.py</em> program. This program
reads the database and writes the file <em>where.js</em> with the
location, latitude, and longitude in the form of executable JavaScript
code.</p><p>A run of the <em>geodump.py</em> program is as follows:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">AGH University of Science and Technology, Czarnowiejska,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Czarna Wieś, Krowodrza, Kraków, Lesser Poland</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Voivodeship, 31-126, Poland 50.0657 19.91895</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Academy of Fine Arts, Krakowskie Przedmieście,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Northern Śródmieście, Śródmieście, Warsaw, Masovian</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Voivodeship, 00-046, Poland 52.239 21.0155</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">260 lines were written to where.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Open the where.html file in a web browser to view the data.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The file <em>where.html</em> consists of HTML and JavaScript to
visualize a Google map. It reads the most recent data in
<em>where.js</em> to get the data to be visualized. Here is the format
of the <em>where.js</em> file:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">myData = [\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[50.0657,19.91895,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;AGH University of Science and Technology, Czarnowiejska,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Czarna Wieś, Krowodrza, Kraków, Lesser Poland\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Voivodeship, 31-126, Poland &#x27;],\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[52.239,21.0155,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;Academy of Fine Arts, Krakowskie Przedmieściee,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Śródmieście Północne, Śródmieście, Warsaw,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Masovian Voivodeship, 00-046, Poland&#x27;],\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ...\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This is a JavaScript variable that contains a list of lists. The
syntax for JavaScript list constants is very similar to Python, so the
syntax should be familiar to you.</p><p>Simply open <em>where.html</em> in a browser to see the locations.
You can hover over each map pin to find the location that the geocoding
API returned for the user-entered input. If you cannot see any data when
you open the <em>where.html</em> file, you might want to check the
JavaScript or developer console for your browser.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="visualizing-networks-and-interconnections">Visualizing networks and interconnections<a href="#visualizing-networks-and-interconnections" class="hash-link" aria-label="Direct link to Visualizing networks and interconnections" title="Direct link to Visualizing networks and interconnections">​</a></h2><p>In this application, we will perform some of the functions of a
search engine. We will first spider a small subset of the web and run a
simplified version of the Google page rank algorithm to determine which
pages are most highly connected, and then visualize the page rank and
connectivity of our small corner of the web. We will use the D3
JavaScript visualization library <a href="http://d3js.org/" target="_blank" rel="noopener noreferrer">http://d3js.org/</a> to produce the visualization
output.</p><p>You can download and extract this application from:</p><p><a href="https://www.py4e.com/code3/pagerank.zip" target="_blank" rel="noopener noreferrer">www.py4e.com/code3/pagerank.zip</a></p><p><img loading="lazy" alt="A Page Ranking" src="/assets/images/pagerank-43a86eee6afdeb9e1dae77201da132dc.png" width="638" height="496" class="img_ev3q">
A Page Ranking</p><p>The first program ( <em>spider.py</em>) program crawls a web site and
pulls a series of pages into the database ( <em>spider.sqlite</em>),
recording the links between pages. You can restart the process at any
time by removing the <em>spider.sqlite</em> file and rerunning
<em>spider.py</em>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Enter web url or enter: http://www.dr-chuck.com/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;http://www.dr-chuck.com&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">How many pages:2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 http://www.dr-chuck.com/ 12</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2 http://www.dr-chuck.com/csev-blog/ 57</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">How many pages:</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this sample run, we told it to crawl a website and retrieve two
pages. If you restart the program and tell it to crawl more pages, it
will not re-crawl any pages already in the database. Upon restart it
goes to a random non-crawled page and starts there. So each successive
run of <em>spider.py</em> is additive.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Enter web url or enter: http://www.dr-chuck.com/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;http://www.dr-chuck.com&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">How many pages:3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3 http://www.dr-chuck.com/csev-blog 57</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4 http://www.dr-chuck.com/dr-chuck/resume/speaking.htm 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5 http://www.dr-chuck.com/dr-chuck/resume/index.htm 13</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">How many pages:</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can have multiple starting points in the same database—within the
program, these are called “webs”. The spider chooses randomly amongst
all non-visited links across all the webs as the next page to
spider.</p><p>If you want to dump the contents of the <em>spider.sqlite</em> file,
you can run <em>spdump.py</em> as follows:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">(5, None, 1.0, 3, &#x27;http://www.dr-chuck.com/csev-blog&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(3, None, 1.0, 4, &#x27;http://www.dr-chuck.com/dr-chuck/resume/speaking.htm&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(1, None, 1.0, 2, &#x27;http://www.dr-chuck.com/csev-blog/&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(1, None, 1.0, 5, &#x27;http://www.dr-chuck.com/dr-chuck/resume/index.htm&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4 rows.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This shows the number of incoming links, the old page rank, the new
page rank, the id of the page, and the url of the page. The
<em>spdump.py</em> program only shows pages that have at least one
incoming link to them.</p><p>Once you have a few pages in the database, you can run page rank on
the pages using the <em>sprank.py</em> program. You simply tell it how
many page rank iterations to run.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">How many iterations:2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 0.546848992536</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2 0.226714939664</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[(1, 0.559), (2, 0.659), (3, 0.985), (4, 2.135), (5, 0.659)]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can dump the database again to see that page rank has been
updated:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">(5, 1.0, 0.985, 3, &#x27;http://www.dr-chuck.com/csev-blog&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(3, 1.0, 2.135, 4, &#x27;http://www.dr-chuck.com/dr-chuck/resume/speaking.htm&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(1, 1.0, 0.659, 2, &#x27;http://www.dr-chuck.com/csev-blog/&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(1, 1.0, 0.659, 5, &#x27;http://www.dr-chuck.com/dr-chuck/resume/index.htm&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4 rows.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can run <em>sprank.py</em> as many times as you like and it will
simply refine the page rank each time you run it. You can even run
<em>sprank.py</em> a few times and then go spider a few more pages with
<em>spider.py</em> and then run <em>sprank.py</em> to reconverge the
page rank values. A search engine usually runs both the crawling and
ranking programs all the time.</p><p>If you want to restart the page rank calculations without respidering
the web pages, you can use <em>spreset.py</em> and then restart
<em>sprank.py</em>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">How many iterations:50</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 0.546848992536</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2 0.226714939664</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3 0.0659516187242</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4 0.0244199333</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5 0.0102096489546</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6 0.00610244329379</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">42 0.000109076928206</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">43 9.91987599002e-05</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">44 9.02151706798e-05</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">45 8.20451504471e-05</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">46 7.46150183837e-05</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">47 6.7857770908e-05</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">48 6.17124694224e-05</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">49 5.61236959327e-05</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">50 5.10410499467e-05</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[(512, 0.0296), (1, 12.79), (2, 28.93), (3, 6.808), (4, 13.46)]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For each iteration of the page rank algorithm it prints the average
change in page rank per page. The network initially is quite unbalanced
and so the individual page rank values change wildly between iterations.
But in a few short iterations, the page rank converges. You should run
<em>sprank.py</em> long enough that the page rank values converge.</p><p>If you want to visualize the current top pages in terms of page rank,
run <em>spjson.py</em> to read the database and write the data for the
most highly linked pages in JSON format to be viewed in a web
browser.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Creating JSON output on spider.json...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">How many nodes? 30</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Open force.html in a browser to view the visualization</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can view this data by opening the file <em>force.html</em> in
your web browser. This shows an automatic layout of the nodes and links.
You can click and drag any node and you can also double-click on a node
to find the URL that is represented by the node.</p><p>If you rerun the other utilities, rerun <em>spjson.py</em> and press
refresh in the browser to get the new data from
<em>spider.json</em>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="visualizing-mail-data">Visualizing mail data<a href="#visualizing-mail-data" class="hash-link" aria-label="Direct link to Visualizing mail data" title="Direct link to Visualizing mail data">​</a></h2><p>Up to this point in the book, you have become quite familiar with our
<em>mbox-short.txt</em> and <em>mbox.txt</em> data files. Now it is time
to take our analysis of email data to the next level.</p><p>In the real world, sometimes you have to pull down mail data from
servers. That might take quite some time and the data might be
inconsistent, error-filled, and need a lot of cleanup or adjustment. In
this section, we work with an application that is the most complex so
far and pull down nearly a gigabyte of data and visualize it.</p><p><img loading="lazy" alt="A Word Cloud from the Sakai Developer List" src="/assets/images/wordcloud-429c3ddae60f2ceedbdfe9633155bc82.png" width="820" height="877" class="img_ev3q">
A Word Cloud from the Sakai Developer List</p><p>You can download this application from:</p><p><a href="https://www.py4e.com/code3/gmane.zip" target="_blank" rel="noopener noreferrer">https://www.py4e.com/code3/gmane.zip</a></p><p>We will be using data from a free email list archiving service that
was called <em>gmane</em> <!-- -->-<!-- --> the service has since been shut down and for
the purposes of this course, a partial archive has been kept at <a href="http://mbox.dr-chuck.net/" target="_blank" rel="noopener noreferrer">http://mbox.dr-chuck.net</a>. The gmane
service was very popular with open source projects because it provided a
nice searchable archive of their email activity.</p><p><a href="http://mbox.dr-chuck.net/export.php" target="_blank" rel="noopener noreferrer">http://mbox.dr-chuck.net/export.php</a></p><p>When the Sakai email data was spidered using this software, it
produced nearly a Gigabyte of data and took a number of runs on several
days. The file <em>README.txt</em> in the above ZIP may have
instructions as to how you can download a pre-spidered copy of the
<em>content.sqlite</em> file for a majority of the Sakai email corpus so
you don’t have to spider for five days just to run the programs. If you
download the pre-spidered content, you should still run the spidering
process to catch up with more recent messages.</p><p>The first step is to spider the repository. The base URL is
hard-coded in the <em>gmane.py</em> and is hard-coded to the Sakai
developer list. You can spider another repository by changing that base
url. Make sure to delete the <em>content.sqlite</em> file if you switch
the base url.</p><p>The <em>gmane.py</em> file operates as a responsible caching spider
in that it runs slowly and retrieves one mail message per second so as
to avoid getting throttled. It stores all of its data in a database and
can be interrupted and restarted as often as needed. It may take many
hours to pull all the data down. So you may need to restart several
times.</p><p>Here is a run of <em>gmane.py</em> retrieving the last five messages
of the Sakai developer list:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">How many messages:10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http://mbox.dr-chuck.net/sakai.devel/51410/51411 9460</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    nealcaidin@sakaifoundation.org 2013-04-05 re: [building ...\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http://mbox.dr-chuck.net/sakai.devel/51411/51412 3379\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    samuelgutierrezjimenez@gmail.com 2013-04-06 re: [building ...\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http://mbox.dr-chuck.net/sakai.devel/51412/51413 9903\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    da1@vt.edu 2013-04-05 [building sakai] melete 2.9 oracle ...\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http://mbox.dr-chuck.net/sakai.devel/51413/51414 349265\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m.shedid@elraed-it.com 2013-04-07 [building sakai] ...\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http://mbox.dr-chuck.net/sakai.devel/51414/51415 3481\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    samuelgutierrezjimenez@gmail.com 2013-04-07 re: ...\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http://mbox.dr-chuck.net/sakai.devel/51415/51416 0\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Does not start with From\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The program scans _content.sqlite_ from one up to the first\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">message number not already spidered and starts spidering at that\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">message. It continues spidering until it has spidered the desired number\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">of messages or it reaches a page that does not appear to be a properly\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">formatted message.\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Sometimes the repository is missing a message. Perhaps administrators\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">can delete messages or perhaps they get lost. If your spider stops, and\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">it seems it has hit a missing message, go into the SQLite Manager and\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">add a row with the missing id leaving all the other fields blank and\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">restart _gmane.py_. This will unstick the spidering process and\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">allow it to continue. These empty messages will be ignored in the next\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">phase of the process.\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">One nice thing is that once you have spidered all of the messages and\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">have them in _content.sqlite_, you can run _gmane.py_\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">again to get new messages as they are sent to the list.\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The _content.sqlite_ data is pretty raw, with an inefficient\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data model, and not compressed. This is intentional as it allows you to\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">look at _content.sqlite_ in the SQLite Manager to debug problems\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">with the spidering process. It would be a bad idea to run any queries\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">against this database, as they would be quite slow.\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The second process is to run the program _gmodel.py_. This\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">program reads the raw data from _content.sqlite_ and produces a\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cleaned-up and well-modeled version of the data in the file\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_index.sqlite_. This file will be much smaller (often 10X\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">smaller) than _content.sqlite_ because it also compresses the\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">header and body text.\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Each time _gmodel.py_ runs it deletes and rebuilds\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_index.sqlite_, allowing you to adjust its parameters and edit\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">the mapping tables in _content.sqlite_ to tweak the data cleaning\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">process. This is a sample run of _gmodel.py_. It prints a line\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">out each time 250 mail messages are processed so you can see some\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">progress happening, as this program may run for a while processing\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nearly a Gigabyte of mail data.\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Loaded allsenders 1588 and mapping 28 dns mapping 1\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 2005-12-08T23:34:30-06:00 ggolden22@mac.com\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">251 2005-12-22T10:03:20-08:00 tpamsler@ucdavis.edu\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">501 2006-01-12T11:17:34-05:00 lance@indiana.edu\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">751 2006-01-24T11:13:28-08:00 vrajgopalan@ucmerced.edu\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The _gmodel.py_ program handles a number of data cleaning\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tasks.\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Domain names are truncated to two levels for .com, .org, .edu, and\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.net. Other domain names are truncated to three levels. So si.umich.edu\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">becomes umich.edu and caret.cam.ac.uk becomes cam.ac.uk. Email addresses\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">are also forced to lower case, and some of the @gmane.org address like the following\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">arwhyte-63aXycvo3TyHXe+LvDLADg@public.gmane.org\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">are converted to the real address whenever there is a matching real\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">email address elsewhere in the message corpus.\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">In the _mapping.sqlite_ database there are two tables that\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">allow you to map both domain names and individual email addresses that\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">change over the lifetime of the email list. For example, Steve Githens\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">used the following email addresses as he changed jobs over the life of\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">the Sakai developer list:\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s-githens@northwestern.edu\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sgithens@cam.ac.uk\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">swgithen@mtu.edu\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">We can add two entries to the Mapping table in\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_mapping.sqlite_ so _gmodel.py_ will map all three to one\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">address:\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s-githens@northwestern.edu -&gt;  swgithen@mtu.edu\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sgithens@cam.ac.uk -&gt; swgithen@mtu.edu\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">You can also make similar entries in the DNSMapping table if there\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">are multiple DNS names you want mapped to a single DNS. The following\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mapping was added to the Sakai data:\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">iupui.edu -&gt; indiana.edu\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">so all the accounts from the various Indiana University campuses are\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tracked together.\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">You can rerun the _gmodel.py_ over and over as you look at the\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data, and add mappings to make the data cleaner and cleaner. When you\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">are done, you will have a nicely indexed version of the email in\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_index.sqlite_. This is the file to use to do data analysis. With\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">this file, data analysis will be really quick.\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The first, simplest data analysis is to determine “who sent the most\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mail?” and “which organization sent the most mail”? This is done using\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_gbasic.py_:\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">How many to dump? 5\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Loaded messages= 51330 subjects= 25033 senders= 1584\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Top 5 Email list participants\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">steve.swinsburg@gmail.com 2657\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">azeckoski@unicon.net 1742\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ieb@tfd.co.uk 1591\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">csev@umich.edu 1304\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">david.horwitz@uct.ac.za 1184\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Top 5 Email list organizations\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gmail.com 7339\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">umich.edu 6243\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uct.ac.za 2451\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">indiana.edu 2258\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">unicon.net 2055\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Note how much more quickly _gbasic.py_ runs compared to\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_gmane.py_ or even _gmodel.py_. They are all working on\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">the same data, but _gbasic.py_ is using the compressed and\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">normalized data in _index.sqlite_. If you have a lot of data to\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">manage, a multistep process like the one in this application may take a\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">little longer to develop, but will save you a lot of time when you\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">really start to explore and visualize your data.\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">You can produce a simple visualization of the word frequency in the\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">subject lines in the file _gword.py_:\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Range of counts: 33229 129\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Output written to gword.js\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">This produces the file _gword.js_ which you can visualize\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using _gword.htm_ to produce a word cloud similar to the one at\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">the beginning of this section.\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">A second visualization is produced by _gline.py_. It computes\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">email participation by organizations over time.\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Loaded messages= 51330 senders= 1584\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Top 10 Oranizations\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;gmail.com&#x27;, &#x27;umich.edu&#x27;, &#x27;uct.ac.za&#x27;, &#x27;indiana.edu&#x27;,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;unicon.net&#x27;, &#x27;tfd.co.uk&#x27;, &#x27;berkeley.edu&#x27;, &#x27;longsight.com&#x27;,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;stanford.edu&#x27;, &#x27;ox.ac.uk&#x27;]\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Output written to gline.js\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Its output is written to _gline.js_ which is visualized using\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_gline.htm_.\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">![Sakai Mail Activity by Organization](/img/py4e/mailorg.png)Sakai Mail Activity by\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Organization\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">This is a relatively complex and sophisticated application and has\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">features to do some real data retrieval, cleaning, and\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">visualization.\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* * *\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">If you find a mistake in this book, feel free to send me a fix using\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Github](https://github.com/csev/py4e/tree/master/book3).\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/curriculum-resource/py4e/book/15"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">15-database</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/curriculum-resource/py4e/book_zh/01"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">01-intro</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#building-a-openstreetmap-from-geocoded-data" class="table-of-contents__link toc-highlight">Building a OpenStreetMap from geocoded data</a></li><li><a href="#visualizing-networks-and-interconnections" class="table-of-contents__link toc-highlight">Visualizing networks and interconnections</a></li><li><a href="#visualizing-mail-data" class="table-of-contents__link toc-highlight">Visualizing mail data</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">CS学习社区</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">路线图</a></li></ul></div><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/WqwvTrEQmA" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">捐赠</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/donate">捐赠我们</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyleft © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.1f1549d9.js"></script>
<script src="/assets/js/main.2f696ece.js"></script>
</body>
</html>