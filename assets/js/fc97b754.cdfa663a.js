"use strict";(self.webpackChunklearncs_set=self.webpackChunklearncs_set||[]).push([[8114],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>k});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),m=p(n),d=r,k=m["".concat(s,".").concat(d)]||m[d]||c[d]||l;return n?a.createElement(k,i(i({ref:t},u),{},{components:n})):a.createElement(k,i({ref:t},u))}));function k(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=d;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[m]="string"==typeof e?e:r,i[1]=o;for(var p=2;p<l;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},60747:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>c,frontMatter:()=>l,metadata:()=>o,toc:()=>p});var a=n(87462),r=(n(67294),n(3905));const l={title:"Discussion 11 SQL"},i="Discussion 11 | CS 61A Spring 2024",o={unversionedId:"curriculum-resource/cs61a/dis/disc11",id:"curriculum-resource/cs61a/dis/disc11",title:"Discussion 11 SQL",description:"Discussion 11: SQL",source:"@site/docs/curriculum-resource/cs61a/dis/disc11.md",sourceDirName:"curriculum-resource/cs61a/dis",slug:"/curriculum-resource/cs61a/dis/disc11",permalink:"/docs/curriculum-resource/cs61a/dis/disc11",draft:!1,tags:[],version:"current",frontMatter:{title:"Discussion 11 SQL"},sidebar:"tutorialSidebar",previous:{title:"Discussion 10 Interpreters",permalink:"/docs/curriculum-resource/cs61a/dis/disc10"},next:{title:"Discussion 12 Final Review",permalink:"/docs/curriculum-resource/cs61a/dis/disc12"}},s={},p=[{value:"Discussion 11: SQL",id:"discussion-11-sql",level:2},{value:"Getting Started",id:"getting-started",level:2},{value:"Select Statements",id:"select-statements",level:2},{value:"Pizza Time",id:"pizza-time",level:2},{value:"Q1: Open Early",id:"q1-open-early",level:3},{value:"Q2: Study Session",id:"q2-study-session",level:3},{value:"Q3: Late Night Snack",id:"q3-late-night-snack",level:3},{value:"Q4: Double Pizza",id:"q4-double-pizza",level:3},{value:"Document the Occasion",id:"document-the-occasion",level:2}],u={toc:p},m="wrapper";function c(e){let{components:t,...l}=e;return(0,r.kt)(m,(0,a.Z)({},u,l,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"discussion-11--cs-61a-spring-2024"},"Discussion 11 | CS 61A Spring 2024"),(0,r.kt)("h2",{id:"discussion-11-sql"},"Discussion 11: SQL"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{target:"_blank",href:n(60290).Z},"disc11.pdf"))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Reminder:")," Use Discord for voice chat with the course staff. Write to ",(0,r.kt)("inlineCode",{parentName:"p"},"@discuss")," in the ",(0,r.kt)("inlineCode",{parentName:"p"},"#discuss-queue")," channel on Discord at any time, and a member of the course staff will join your group's voice channel."),(0,r.kt)("p",null,"Pick someone in your group to ",(0,r.kt)("a",{parentName:"p",href:"https://cs61a.org/articles/discord"},"join Discord"),". It's fine if multiple people join, but one is enough."),(0,r.kt)("p",null,"Now switch to Pensieve:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Everyone"),": Go to ",(0,r.kt)("a",{parentName:"li",href:"http://discuss.pensieve.co/"},"discuss.pensieve.co")," and log in with your @berkeley.edu email, then enter your group number. (Your group number is the number of your Discord channel.)")),(0,r.kt)("p",null,"Once you're on Pensieve, you don't need to return to this page; Pensieve has all the same content (but more features). If for some reason Penseive doesn't work, return to this page and continue with the discussion."),(0,r.kt)("p",null,"Post in the ",(0,r.kt)("inlineCode",{parentName:"p"},"#help")," channel on ",(0,r.kt)("a",{parentName:"p",href:"https://cs61a.org/articles/discord/"},"Discord")," if you have trouble."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Pro tip:")," Any of you can type a question into your group's Discord ",(0,r.kt)("a",{parentName:"p",href:"https://support.discord.com/hc/en-us/articles/4412085582359-Text-Channels-Text-Chat-In-Voice-Channels#h_01FMJT412WBX1MR4HDYNR8E95X"},"channel's text chat")," with the ",(0,r.kt)("inlineCode",{parentName:"p"},"@discuss")," tag, and a member of the course staff will respond."),(0,r.kt)("h2",{id:"getting-started"},"Getting Started"),(0,r.kt)("p",null,"If you have only 1 or 2 people in your group, you can join the other group in the room with you."),(0,r.kt)("p",null,"Everybody say your name, and then share your favorite restaurant, cafe, or boba shop near campus. (Yes, Kingpin Donuts counts as a restaurant.)"),(0,r.kt)("h2",{id:"select-statements"},"Select Statements"),(0,r.kt)("p",null,"A ",(0,r.kt)("inlineCode",{parentName:"p"},"SELECT")," statement describes an output table based on input rows. To write one:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Describe the ",(0,r.kt)("strong",{parentName:"li"},"input rows")," using ",(0,r.kt)("inlineCode",{parentName:"li"},"FROM")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"WHERE")," clauses."),(0,r.kt)("li",{parentName:"ol"},"Format and order the ",(0,r.kt)("strong",{parentName:"li"},"output rows")," and columns using ",(0,r.kt)("inlineCode",{parentName:"li"},"SELECT")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"ORDER BY")," clauses.")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"SELECT")," ",(0,r.kt)("em",{parentName:"p"},"(Step 2)")," ",(0,r.kt)("inlineCode",{parentName:"p"},"FROM")," ",(0,r.kt)("em",{parentName:"p"},"(Step 1)")," ",(0,r.kt)("inlineCode",{parentName:"p"},"WHERE")," ",(0,r.kt)("em",{parentName:"p"},"(Step 1)")," ",(0,r.kt)("inlineCode",{parentName:"p"},"ORDER BY")," ",(0,r.kt)("em",{parentName:"p"},"(Step 2)"),";"),(0,r.kt)("p",null,"Step 1 may involve joining tables (using commas) to form input rows that consist of two or more rows from existing tables."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"WHERE")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"ORDER BY")," clauses are optional."),(0,r.kt)("h2",{id:"pizza-time"},"Pizza Time"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"pizzas")," table contains the names, opening, and closing hours of great pizza places in Berkeley. The ",(0,r.kt)("inlineCode",{parentName:"p"},"meals")," table contains typical meal times (for college students). A pizza place is open for a meal if the meal time is at or within the ",(0,r.kt)("inlineCode",{parentName:"p"},"open")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"close")," times."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'CREATE TABLE pizzas AS\n  SELECT "Artichoke" AS name, 12 AS open, 15 AS close UNION\n  SELECT "La Val\'s"         , 11        , 22          UNION\n  SELECT "Sliver"           , 11        , 20          UNION\n  SELECT "Cheeseboard"      , 16        , 23          UNION\n  SELECT "Emilia\'s"         , 13        , 18;\n\nCREATE TABLE meals AS\n  SELECT "breakfast" AS meal, 11 AS time UNION\n  SELECT "lunch"            , 13         UNION\n  SELECT "dinner"           , 19         UNION\n  SELECT "snack"            , 22;\n')),(0,r.kt)("h3",{id:"q1-open-early"},"Q1: Open Early"),(0,r.kt)("p",null,"You'd like to have pizza before 13 o'clock (1pm). Create a ",(0,r.kt)("inlineCode",{parentName:"p"},"opening")," table with the names of all pizza places that ",(0,r.kt)("inlineCode",{parentName:"p"},"open")," before 13 o'clock, listed in reverse alphabetical order."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"opening"))," table:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"name"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Sliver")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"La Val's")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Artichoke")))),(0,r.kt)("p",null,"Run in 61A Code"),(0,r.kt)("p",null,"To order by ",(0,r.kt)("inlineCode",{parentName:"p"},"name")," in reverse alphabitical order, write ",(0,r.kt)("inlineCode",{parentName:"p"},"ORDER BY name DESC"),"."),(0,r.kt)("h3",{id:"q2-study-session"},"Q2: Study Session"),(0,r.kt)("p",null,"You're planning to study at a pizza place from the moment it opens until 14 o'clock (2pm). Create a table ",(0,r.kt)("inlineCode",{parentName:"p"},"study")," with two columns, the ",(0,r.kt)("inlineCode",{parentName:"p"},"name")," of each pizza place and the ",(0,r.kt)("inlineCode",{parentName:"p"},"duration")," of the study session you would have if you studied there (the difference between when it opens and 14 o'clock). For pizza places that are not open before 2pm, the ",(0,r.kt)("inlineCode",{parentName:"p"},"duration")," should be zero. Order the rows by decreasing duration."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Hint:")," Use an expression of the form ",(0,r.kt)("inlineCode",{parentName:"p"},"MAX(_, 0)")," to make sure a result is not below 0."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"study"))," table:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"name"),(0,r.kt)("th",{parentName:"tr",align:null},"duration"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"La Val's"),(0,r.kt)("td",{parentName:"tr",align:null},"3")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Sliver"),(0,r.kt)("td",{parentName:"tr",align:null},"3")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Artichoke"),(0,r.kt)("td",{parentName:"tr",align:null},"2")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Emilia's"),(0,r.kt)("td",{parentName:"tr",align:null},"1")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Cheeseboard"),(0,r.kt)("td",{parentName:"tr",align:null},"0")))),(0,r.kt)("p",null,"Run in 61A Code"),(0,r.kt)("p",null,"To order by decreasing duration, first name the column with ",(0,r.kt)("inlineCode",{parentName:"p"},"SELECT ..., ... AS duration ..."),", then ",(0,r.kt)("inlineCode",{parentName:"p"},"ORDER BY duration DESC"),"."),(0,r.kt)("h3",{id:"q3-late-night-snack"},"Q3: Late Night Snack"),(0,r.kt)("p",null,"What's still open for a late night ",(0,r.kt)("inlineCode",{parentName:"p"},"snack"),"? Create a ",(0,r.kt)("inlineCode",{parentName:"p"},"late")," table with one column named ",(0,r.kt)("inlineCode",{parentName:"p"},"status")," that has a sentence describing the closing time of each pizza place that closes at or after ",(0,r.kt)("inlineCode",{parentName:"p"},"snack")," time. ",(0,r.kt)("strong",{parentName:"p"},"Important:")," Don't use any numbers in your SQL query! Instead, use a join to compare each restaurant's closing time to the time of a snack. The rows may appear in any order."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"late"))," table:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"status"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Cheeseboard closes at 23")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"La Val's closes at 22")))),(0,r.kt)("p",null,"Run in 61A Code"),(0,r.kt)("p",null,"To compare a pizza place's ",(0,r.kt)("inlineCode",{parentName:"p"},"close")," time to the time of a snack:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"join the ",(0,r.kt)("inlineCode",{parentName:"li"},"pizzas")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"meals")," tables using ",(0,r.kt)("inlineCode",{parentName:"li"},"FROM pizzas, meals")),(0,r.kt)("li",{parentName:"ul"},"use only rows where the ",(0,r.kt)("inlineCode",{parentName:"li"},"meal")," is a ",(0,r.kt)("inlineCode",{parentName:"li"},'"snack"')),(0,r.kt)("li",{parentName:"ul"},"compare the ",(0,r.kt)("inlineCode",{parentName:"li"},"time")," of the snack to the ",(0,r.kt)("inlineCode",{parentName:"li"},"close")," of the pizza place.")),(0,r.kt)("p",null,"Use ",(0,r.kt)("inlineCode",{parentName:"p"},'name || " closes at " || close')," to create the sentences in the resulting table. The ",(0,r.kt)("inlineCode",{parentName:"p"},"||")," operator concatenates values into strings."),(0,r.kt)("h3",{id:"q4-double-pizza"},"Q4: Double Pizza"),(0,r.kt)("p",null,"If two meals are more than 6 hours apart, then there's nothing wrong with going to the same pizza place for both, right? Create a ",(0,r.kt)("inlineCode",{parentName:"p"},"double")," table with three columns. The ",(0,r.kt)("inlineCode",{parentName:"p"},"first")," column is the earlier meal, the ",(0,r.kt)("inlineCode",{parentName:"p"},"second")," column is the later meal, and the ",(0,r.kt)("inlineCode",{parentName:"p"},"name")," column is the name of a pizza place. Only include rows that describe two meals that are ",(0,r.kt)("strong",{parentName:"p"},"more than 6 hours apart")," and a pizza place that is open for both of the meals. The rows may appear in any order."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"double"))," table:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"first"),(0,r.kt)("th",{parentName:"tr",align:null},"second"),(0,r.kt)("th",{parentName:"tr",align:null},"name"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"breakfast"),(0,r.kt)("td",{parentName:"tr",align:null},"dinner"),(0,r.kt)("td",{parentName:"tr",align:null},"La Val's")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"breakfast"),(0,r.kt)("td",{parentName:"tr",align:null},"dinner"),(0,r.kt)("td",{parentName:"tr",align:null},"Sliver")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"breakfast"),(0,r.kt)("td",{parentName:"tr",align:null},"snack"),(0,r.kt)("td",{parentName:"tr",align:null},"La Val's")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"lunch"),(0,r.kt)("td",{parentName:"tr",align:null},"snack"),(0,r.kt)("td",{parentName:"tr",align:null},"La Val's")))),(0,r.kt)("p",null,"Run in 61A Code"),(0,r.kt)("p",null,"Use ",(0,r.kt)("inlineCode",{parentName:"p"},"FROM meals AS a, meals AS b, pizzas")," so that each row has info about two meals and a pizza place. Then you can write a ",(0,r.kt)("inlineCode",{parentName:"p"},"WHERE")," clause that compares both ",(0,r.kt)("inlineCode",{parentName:"p"},"a.time")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"b.time")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"open")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"close")," and each other to ensure all the relevant conditions are met."),(0,r.kt)("h2",{id:"document-the-occasion"},"Document the Occasion"),(0,r.kt)("p",null,"Please all fill out the ",(0,r.kt)("a",{parentName:"p",href:"https://docs.google.com/forms/d/e/1FAIpQLSeqlK8l6WkScGr-RHR-kM4p5bnR9cllYrG95fDqPJspSlll7A/viewform"},"attendance form")," (one submission per person per week)."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Important:")," Please help put the furniture in the room back where you found it before you leave. Thanks!"),(0,r.kt)("p",null,"If you finish early, maybe go get pizza together..."))}c.isMDXComponent=!0},60290:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/files/disc11-56a5ca2a4beb2877ab91952fa5ab51a8.pdf"}}]);