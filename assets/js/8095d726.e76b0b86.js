"use strict";(self.webpackChunklearncs_set=self.webpackChunklearncs_set||[]).push([[10307],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>m});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},d=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,p=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),c=s(n),h=r,m=c["".concat(p,".").concat(h)]||c[h]||u[h]||o;return n?a.createElement(m,l(l({ref:t},d),{},{components:n})):a.createElement(m,l({ref:t},d))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=h;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i[c]="string"==typeof e?e:r,l[1]=i;for(var s=2;s<o;s++)l[s]=n[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},54444:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>s});var a=n(87462),r=(n(67294),n(3905));const o={sidebar_position:4,description:"lecture5 Data Structures Lab | \u5b9e\u9a8c",title:"Lab"},l="Lab 5: Inheritance - CS50x 2023",i={unversionedId:"curriculum-resource/cs50x/cs50x_en/lecture6/lab",id:"curriculum-resource/cs50x/cs50x_en/lecture6/lab",title:"Lab",description:"lecture5 Data Structures Lab | \u5b9e\u9a8c",source:"@site/docs/curriculum-resource/cs50x/cs50x_en/lecture6/lab.md",sourceDirName:"curriculum-resource/cs50x/cs50x_en/lecture6",slug:"/curriculum-resource/cs50x/cs50x_en/lecture6/lab",permalink:"/docs/curriculum-resource/cs50x/cs50x_en/lecture6/lab",draft:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,description:"lecture5 Data Structures Lab | \u5b9e\u9a8c",title:"Lab"},sidebar:"tutorialSidebar",previous:{title:"trie",permalink:"/docs/curriculum-resource/cs50x/cs50x_en/lecture6/practice problems/trie"},next:{title:"Python",permalink:"/docs/curriculum-resource/cs50x/cs50x_en/lecture7/"}},p={},s=[{value:"Background",id:"background",level:2},{value:"Getting Started",id:"getting-started",level:2},{value:"Understanding",id:"understanding",level:2},{value:"Implementation Details",id:"implementation-details",level:2},{value:"Walkthrough",id:"walkthrough",level:3},{value:"Hints",id:"hints",level:3},{value:"How to Test Your Code",id:"how-to-test-your-code",level:3},{value:"How to Submit",id:"how-to-submit",level:2}],d={toc:s},c="wrapper";function u(e){let{components:t,...n}=e;return(0,r.kt)(c,(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"lab-5-inheritance---cs50x-2023"},"Lab 5: Inheritance - CS50x 2023"),(0,r.kt)("p",null,"Simulate the inheritance of blood types for each member of a family."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"$ ./inheritance\nChild (Generation 0): blood type OO\n    Parent (Generation 1): blood type AO\n        Grandparent (Generation 2): blood type OA\n        Grandparent (Generation 2): blood type BO\n    Parent (Generation 1): blood type OB\n        Grandparent (Generation 2): blood type AO\n        Grandparent (Generation 2): blood type BO\n\n\n")),(0,r.kt)("h2",{id:"background"},"Background"),(0,r.kt)("p",null,"A person\u2019s blood type is determined by two alleles (i.e., different forms of a gene). The three possible alleles are A, B, and O, of which each person has two (possibly the same, possibly different). Each of a child\u2019s parents randomly passes one of their two blood type alleles to their child. The possible blood type combinations, then, are: OO, OA, OB, AO, AA, AB, BO, BA, and BB."),(0,r.kt)("p",null,"For example, if one parent has blood type AO and the other parent has blood type BB, then the child\u2019s possible blood types would be AB and OB, depending on which allele is received from each parent. Similarly, if one parent has blood type AO and the other OB, then the child\u2019s possible blood types would be AO, OB, AB, and OO."),(0,r.kt)("h2",{id:"getting-started"},"Getting Started"),(0,r.kt)("p",null,"Open ",(0,r.kt)("a",{parentName:"p",href:"https://cs50.dev/"},"VS Code"),"."),(0,r.kt)("p",null,"Start by clicking inside your terminal window, then execute ",(0,r.kt)("inlineCode",{parentName:"p"},"cd")," by itself. You should find that its \u201cprompt\u201d resembles the below."),(0,r.kt)("p",null,"Click inside of that terminal window and then execute"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"wget https://cdn.cs50.net/2022/fall/labs/5/inheritance.zip\n\n")),(0,r.kt)("p",null,"followed by Enter in order to download a ZIP called ",(0,r.kt)("inlineCode",{parentName:"p"},"inheritance.zip")," in your codespace. Take care not to overlook the space between ",(0,r.kt)("inlineCode",{parentName:"p"},"wget")," and the following URL, or any other character for that matter!"),(0,r.kt)("p",null,"Now execute"),(0,r.kt)("p",null,"to create a folder called ",(0,r.kt)("inlineCode",{parentName:"p"},"inheritance"),". You no longer need the ZIP file, so you can execute"),(0,r.kt)("p",null,"and respond with \u201cy\u201d followed by Enter at the prompt to remove the ZIP file you downloaded."),(0,r.kt)("p",null,"Now type"),(0,r.kt)("p",null,"followed by Enter to move yourself into (i.e., open) that directory. Your prompt should now resemble the below."),(0,r.kt)("p",null,"If all was successful, you should execute"),(0,r.kt)("p",null,"and you should see ",(0,r.kt)("inlineCode",{parentName:"p"},"inheritance.c"),"."),(0,r.kt)("p",null,"If you run into any trouble, follow these same steps again and see if you can determine where you went wrong!"),(0,r.kt)("h2",{id:"understanding"},"Understanding"),(0,r.kt)("p",null,"Take a look at the distribution code in ",(0,r.kt)("inlineCode",{parentName:"p"},"inheritance.c"),"."),(0,r.kt)("p",null,"Notice the definition of a type called ",(0,r.kt)("inlineCode",{parentName:"p"},"person"),". Each person has an array of two ",(0,r.kt)("inlineCode",{parentName:"p"},"parents"),", each of which is a pointer to another ",(0,r.kt)("inlineCode",{parentName:"p"},"person")," struct. Each person also has an array of two ",(0,r.kt)("inlineCode",{parentName:"p"},"alleles"),", each of which is a ",(0,r.kt)("inlineCode",{parentName:"p"},"char")," (either ",(0,r.kt)("inlineCode",{parentName:"p"},"'A'"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"'B'"),", or ",(0,r.kt)("inlineCode",{parentName:"p"},"'O'"),")."),(0,r.kt)("p",null,"Now, take a look at the ",(0,r.kt)("inlineCode",{parentName:"p"},"main")," function. The function begins by \u201cseeding\u201d (i.e., providing some initial input to) a random number generator, which we\u2019ll use later to generate random alleles. The ",(0,r.kt)("inlineCode",{parentName:"p"},"main")," function then calls the ",(0,r.kt)("inlineCode",{parentName:"p"},"create_family")," function to simulate the creation of ",(0,r.kt)("inlineCode",{parentName:"p"},"person")," structs for a family of 3 generations (i.e. a person, their parents, and their grandparents). We then call ",(0,r.kt)("inlineCode",{parentName:"p"},"print_family")," to print out each of those family members and their blood types. Finally, the function calls ",(0,r.kt)("inlineCode",{parentName:"p"},"free_family")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"free")," any memory that was previously allocated with ",(0,r.kt)("inlineCode",{parentName:"p"},"malloc"),"."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"create_family")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"free_family")," functions are left to you to write!"),(0,r.kt)("h2",{id:"implementation-details"},"Implementation Details"),(0,r.kt)("p",null,"Complete the implementation of ",(0,r.kt)("inlineCode",{parentName:"p"},"inheritance.c"),", such that it creates a family of a specified generation size and assigns blood type alleles to each family member. The oldest generation will have alleles assigned randomly to them."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The ",(0,r.kt)("inlineCode",{parentName:"li"},"create_family")," function takes an integer (",(0,r.kt)("inlineCode",{parentName:"li"},"generations"),") as input and should allocate (as via ",(0,r.kt)("inlineCode",{parentName:"li"},"malloc"),") one ",(0,r.kt)("inlineCode",{parentName:"li"},"person")," for each member of the family of that number of generations, returning a pointer to the ",(0,r.kt)("inlineCode",{parentName:"li"},"person")," in the youngest generation.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"For example, ",(0,r.kt)("inlineCode",{parentName:"li"},"create_family(3)")," should return a pointer to a person with two parents, where each parent also has two parents."),(0,r.kt)("li",{parentName:"ul"},"Each ",(0,r.kt)("inlineCode",{parentName:"li"},"person")," should have ",(0,r.kt)("inlineCode",{parentName:"li"},"alleles")," assigned to them. The oldest generation should have alleles randomly chosen (as by calling the ",(0,r.kt)("inlineCode",{parentName:"li"},"random_allele")," function), and younger generations should inherit one allele (chosen at random) from each parent."),(0,r.kt)("li",{parentName:"ul"},"Each ",(0,r.kt)("inlineCode",{parentName:"li"},"person")," should have ",(0,r.kt)("inlineCode",{parentName:"li"},"parents")," assigned to them. The oldest generation should have both ",(0,r.kt)("inlineCode",{parentName:"li"},"parents")," set to ",(0,r.kt)("inlineCode",{parentName:"li"},"NULL"),", and younger generations should have ",(0,r.kt)("inlineCode",{parentName:"li"},"parents")," be an array of two pointers, each pointing to a different parent.")))),(0,r.kt)("p",null,"We\u2019ve divided the ",(0,r.kt)("inlineCode",{parentName:"p"},"create_family")," function into a few ",(0,r.kt)("inlineCode",{parentName:"p"},"TODO"),"s for you to complete."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"First, you should allocate memory for a new person. Recall that you can use ",(0,r.kt)("inlineCode",{parentName:"li"},"malloc")," to allocate memory, and ",(0,r.kt)("inlineCode",{parentName:"li"},"sizeof(person)")," to get the number of bytes to allocate."),(0,r.kt)("li",{parentName:"ul"},"Next, we\u2019ve included a condition to check if ",(0,r.kt)("inlineCode",{parentName:"li"},"generations > 1"),".",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"If ",(0,r.kt)("inlineCode",{parentName:"li"},"generations > 1"),", then there are more generations that still need to be allocated. We\u2019ve already created two new ",(0,r.kt)("inlineCode",{parentName:"li"},"parents"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"parent0")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"parent1"),", by recursively calling ",(0,r.kt)("inlineCode",{parentName:"li"},"create_family"),". Your ",(0,r.kt)("inlineCode",{parentName:"li"},"create_family")," function should then set the parent pointers of the new person you created. Finally, assign both ",(0,r.kt)("inlineCode",{parentName:"li"},"alleles")," for the new person by randomly choosing one allele from each parent."),(0,r.kt)("li",{parentName:"ul"},"Otherwise (if ",(0,r.kt)("inlineCode",{parentName:"li"},"generations == 1"),"), then there will be no parent data for this person. Both ",(0,r.kt)("inlineCode",{parentName:"li"},"parents")," of your new person should be set to ",(0,r.kt)("inlineCode",{parentName:"li"},"NULL"),", and each ",(0,r.kt)("inlineCode",{parentName:"li"},"allele")," should be generated randomly."))),(0,r.kt)("li",{parentName:"ul"},"Finally, your function should return a pointer for the ",(0,r.kt)("inlineCode",{parentName:"li"},"person")," that was allocated.")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"free_family")," function should accept as input a pointer to a ",(0,r.kt)("inlineCode",{parentName:"p"},"person"),", free memory for that person, and then recursively free memory for all of their ancestors."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Since this is a recursive function, you should first handle the base case. If the input to the function is ",(0,r.kt)("inlineCode",{parentName:"li"},"NULL"),", then there\u2019s nothing to free, so your function can return immediately."),(0,r.kt)("li",{parentName:"ul"},"Otherwise, you should recursively ",(0,r.kt)("inlineCode",{parentName:"li"},"free")," both of the person\u2019s parents before ",(0,r.kt)("inlineCode",{parentName:"li"},"free"),"ing the child.")),(0,r.kt)("h3",{id:"walkthrough"},"Walkthrough"),(0,r.kt)("h3",{id:"hints"},"Hints"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"You might find the ",(0,r.kt)("inlineCode",{parentName:"li"},"rand()")," function useful for randomly assigning alleles. This function returns an integer between ",(0,r.kt)("inlineCode",{parentName:"li"},"0")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"RAND_MAX"),", or ",(0,r.kt)("inlineCode",{parentName:"li"},"2147483647"),".",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"In particular, to generate a pseudorandom number that is either ",(0,r.kt)("inlineCode",{parentName:"li"},"0")," or ",(0,r.kt)("inlineCode",{parentName:"li"},"1"),", you can use the expression ",(0,r.kt)("inlineCode",{parentName:"li"},"rand() % 2"),"."))),(0,r.kt)("li",{parentName:"ul"},"Remember, to allocate memory for a particular person, we can use ",(0,r.kt)("inlineCode",{parentName:"li"},"malloc(n)"),", which takes a size as argument and will allocate ",(0,r.kt)("inlineCode",{parentName:"li"},"n")," bytes of memory."),(0,r.kt)("li",{parentName:"ul"},"Remember, to access a variable via a pointer, we can use arrow notation.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"For example, if ",(0,r.kt)("inlineCode",{parentName:"li"},"p")," is a pointer to a person, then a pointer to this person\u2019s first parent can be accessed by ",(0,r.kt)("inlineCode",{parentName:"li"},"p->parents[0]"),".")))),(0,r.kt)("p",null,"Not sure how to solve?"),(0,r.kt)("h3",{id:"how-to-test-your-code"},"How to Test Your Code"),(0,r.kt)("p",null,"Upon running ",(0,r.kt)("inlineCode",{parentName:"p"},"./inheritance"),", your program should adhere to the rules described in the background. The child should have two alleles, one from each parent. The parents should each have two alleles, one from each of their parents."),(0,r.kt)("p",null,"For example, in the example below, the child in Generation 0 received an O allele from both Generation 1 parents. The first parent received an A from the first grandparent and a O from the second grandparent. Similarly, the second parent received an O and a B from their grandparents."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"$ ./inheritance\nChild (Generation 0): blood type OO\n    Parent (Generation 1): blood type AO\n        Grandparent (Generation 2): blood type OA\n        Grandparent (Generation 2): blood type BO\n    Parent (Generation 1): blood type OB\n        Grandparent (Generation 2): blood type AO\n        Grandparent (Generation 2): blood type BO\n\n\n")),(0,r.kt)("p",null,"Execute the below to evaluate the correctness of your code using ",(0,r.kt)("inlineCode",{parentName:"p"},"check50"),". But be sure to compile and test it yourself as well!"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"check50 cs50/labs/2023/x/inheritance\n\n")),(0,r.kt)("p",null,"Execute the below to evaluate the style of your code using ",(0,r.kt)("inlineCode",{parentName:"p"},"style50"),"."),(0,r.kt)("h2",{id:"how-to-submit"},"How to Submit"),(0,r.kt)("p",null,"In your terminal, execute the below to submit your work."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"submit50 cs50/labs/2023/x/inheritance\n\n")))}u.isMDXComponent=!0}}]);