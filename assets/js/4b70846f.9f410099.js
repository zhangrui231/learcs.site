"use strict";(self.webpackChunklearncs_set=self.webpackChunklearncs_set||[]).push([[29150],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>h});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,d=r(e,["components","mdxType","originalType","parentName"]),u=p(n),m=i,h=u["".concat(s,".").concat(m)]||u[m]||c[m]||o;return n?a.createElement(h,l(l({ref:t},d),{},{components:n})):a.createElement(h,l({ref:t},d))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,l=new Array(o);l[0]=m;var r={};for(var s in t)hasOwnProperty.call(t,s)&&(r[s]=t[s]);r.originalType=e,r[u]="string"==typeof e?e:i,l[1]=r;for(var p=2;p<o;p++)l[p]=n[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},17959:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>c,frontMatter:()=>o,metadata:()=>r,toc:()=>p});var a=n(87462),i=(n(67294),n(3905));const o={sidebar_position:1,description:"cs50x problem set speller",title:"speller"},l="Speller - CS50x 2023",r={unversionedId:"curriculum-resource/cs50x/cs50x_en/lecture6/problem set/speller",id:"curriculum-resource/cs50x/cs50x_en/lecture6/problem set/speller",title:"speller",description:"cs50x problem set speller",source:"@site/docs/curriculum-resource/cs50x/cs50x_en/lecture6/problem set/speller.md",sourceDirName:"curriculum-resource/cs50x/cs50x_en/lecture6/problem set",slug:"/curriculum-resource/cs50x/cs50x_en/lecture6/problem set/speller",permalink:"/docs/curriculum-resource/cs50x/cs50x_en/lecture6/problem set/speller",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,description:"cs50x problem set speller",title:"speller"},sidebar:"tutorialSidebar",previous:{title:"Problem Set",permalink:"/docs/curriculum-resource/cs50x/cs50x_en/lecture6/problem set/"},next:{title:"Practice Problem",permalink:"/docs/curriculum-resource/cs50x/cs50x_en/lecture6/practice problems/"}},s={},p=[{value:"Getting Started",id:"getting-started",level:2},{value:"Distribution",id:"distribution",level:2},{value:"Understanding",id:"understanding",level:3},{value:"<code>dictionary.h</code>",id:"dictionaryh",level:4},{value:"<code>dictionary.c</code>",id:"dictionaryc",level:4},{value:"<code>speller.c</code>",id:"spellerc",level:4},{value:"<code>texts/</code>",id:"texts",level:4},{value:"<code>Makefile</code>",id:"makefile",level:4},{value:"Specification",id:"specification",level:2},{value:"Walkthroughs",id:"walkthroughs",level:2},{value:"Hints",id:"hints",level:2},{value:"Testing",id:"testing",level:2},{value:"<code>check50</code>",id:"check50",level:3},{value:"style50",id:"style50",level:3},{value:"Staff\u2019s Solution",id:"staffs-solution",level:2},{value:"How to Submit",id:"how-to-submit",level:2}],d={toc:p},u="wrapper";function c(e){let{components:t,...n}=e;return(0,i.kt)(u,(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"speller---cs50x-2023"},"Speller - CS50x 2023"),(0,i.kt)("p",null,"For this problem, you\u2019ll implement a program that spell-checks a file, a la the below, using a hash table."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"$ ./speller texts/lalaland.txt\nMISSPELLED WORDS\n\n[...]\nAHHHHHHHHHHHHHHHHHHHHHHHHHHHT\n[...]\nShangri\n[...]\nfianc\n[...]\nSebastian's\n[...]\n\nWORDS MISSPELLED:\nWORDS IN DICTIONARY:\nWORDS IN TEXT:\nTIME IN load:\nTIME IN check:\nTIME IN size:\nTIME IN unload:\nTIME IN TOTAL:\n\n")),(0,i.kt)("h2",{id:"getting-started"},(0,i.kt)("a",{parentName:"h2",href:"#getting-started"},"Getting Started")),(0,i.kt)("p",null,"Log into ",(0,i.kt)("a",{parentName:"p",href:"https://cs50.dev/"},"cs50.dev"),", click on your terminal window, and execute ",(0,i.kt)("inlineCode",{parentName:"p"},"cd")," by itself. You should find that your terminal window\u2019s prompt resembles the below:"),(0,i.kt)("p",null,"Next execute"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"wget https://cdn.cs50.net/2022/fall/psets/5/speller.zip\n\n")),(0,i.kt)("p",null,"in order to download a ZIP called ",(0,i.kt)("inlineCode",{parentName:"p"},"speller.zip")," into your codespace."),(0,i.kt)("p",null,"Then execute"),(0,i.kt)("p",null,"to create a folder called ",(0,i.kt)("inlineCode",{parentName:"p"},"speller"),". You no longer need the ZIP file, so you can execute"),(0,i.kt)("p",null,"and respond with \u201cy\u201d followed by Enter at the prompt to remove the ZIP file you downloaded."),(0,i.kt)("p",null,"Now type"),(0,i.kt)("p",null,"followed by Enter to move yourself into (i.e., open) that directory. Your prompt should now resemble the below."),(0,i.kt)("p",null,"Execute ",(0,i.kt)("inlineCode",{parentName:"p"},"ls")," by itself, and you should see a few files and folders:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"dictionaries/  dictionary.c  dictionary.h  keys/  Makefile  speller.c  speller50  texts/\n\n")),(0,i.kt)("p",null,"If you run into any trouble, follow these same steps again and see if you can determine where you went wrong!"),(0,i.kt)("h2",{id:"distribution"},(0,i.kt)("a",{parentName:"h2",href:"#distribution"},"Distribution")),(0,i.kt)("h3",{id:"understanding"},(0,i.kt)("a",{parentName:"h3",href:"#understanding"},"Understanding")),(0,i.kt)("p",null,"Theoretically, on input of size ",(0,i.kt)("em",{parentName:"p"},"n"),", an algorithm with a running time of ",(0,i.kt)("em",{parentName:"p"},"n")," is \u201casymptotically equivalent,\u201d in terms of ",(0,i.kt)("em",{parentName:"p"},"O"),", to an algorithm with a running time of ",(0,i.kt)("em",{parentName:"p"},"2n"),". Indeed, when describing the running time of an algorithm, we typically focus on the dominant (i.e., most impactful) term (i.e., ",(0,i.kt)("em",{parentName:"p"},"n")," in this case, since ",(0,i.kt)("em",{parentName:"p"},"n")," could be much larger than 2). In the real world, though, the fact of the matter is that ",(0,i.kt)("em",{parentName:"p"},"2n")," feels twice as slow as ",(0,i.kt)("em",{parentName:"p"},"n"),"."),(0,i.kt)("p",null,"The challenge ahead of you is to implement the fastest spell checker you can! By \u201cfastest,\u201d though, we\u2019re talking actual \u201cwall-clock,\u201d not asymptotic, time."),(0,i.kt)("p",null,"In ",(0,i.kt)("inlineCode",{parentName:"p"},"speller.c"),", we\u2019ve put together a program that\u2019s designed to spell-check a file after loading a dictionary of words from disk into memory. That dictionary, meanwhile, is implemented in a file called ",(0,i.kt)("inlineCode",{parentName:"p"},"dictionary.c"),". (It could just be implemented in ",(0,i.kt)("inlineCode",{parentName:"p"},"speller.c"),", but as programs get more complex, it\u2019s often convenient to break them into multiple files.) The prototypes for the functions therein, meanwhile, are defined not in ",(0,i.kt)("inlineCode",{parentName:"p"},"dictionary.c")," itself but in ",(0,i.kt)("inlineCode",{parentName:"p"},"dictionary.h")," instead. That way, both ",(0,i.kt)("inlineCode",{parentName:"p"},"speller.c")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"dictionary.c")," can ",(0,i.kt)("inlineCode",{parentName:"p"},"#include")," the file. Unfortunately, we didn\u2019t quite get around to implementing the loading part. Or the checking part. Both (and a bit more) we leave to you! But first, a tour."),(0,i.kt)("h4",{id:"dictionaryh"},(0,i.kt)("a",{parentName:"h4",href:"#dictionaryh"},(0,i.kt)("inlineCode",{parentName:"a"},"dictionary.h"))),(0,i.kt)("p",null,"Open up ",(0,i.kt)("inlineCode",{parentName:"p"},"dictionary.h"),", and you\u2019ll see some new syntax, including a few lines that mention ",(0,i.kt)("inlineCode",{parentName:"p"},"DICTIONARY_H"),". No need to worry about those, but, if curious, those lines just ensure that, even though ",(0,i.kt)("inlineCode",{parentName:"p"},"dictionary.c")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"speller.c")," (which you\u2019ll see in a moment) ",(0,i.kt)("inlineCode",{parentName:"p"},"#include")," this file, ",(0,i.kt)("inlineCode",{parentName:"p"},"clang")," will only compile it once."),(0,i.kt)("p",null,"Next notice how we ",(0,i.kt)("inlineCode",{parentName:"p"},"#include")," a file called ",(0,i.kt)("inlineCode",{parentName:"p"},"stdbool.h"),". That\u2019s the file in which ",(0,i.kt)("inlineCode",{parentName:"p"},"bool")," itself is defined. You\u2019ve not needed it before, since the CS50 Library used to ",(0,i.kt)("inlineCode",{parentName:"p"},"#include")," that for you."),(0,i.kt)("p",null,"Also notice our use of ",(0,i.kt)("inlineCode",{parentName:"p"},"#define"),", a \u201cpreprocessor directive\u201d that defines a \u201cconstant\u201d called ",(0,i.kt)("inlineCode",{parentName:"p"},"LENGTH")," that has a value of ",(0,i.kt)("inlineCode",{parentName:"p"},"45"),". It\u2019s a constant in the sense that you can\u2019t (accidentally) change it in your own code. In fact, ",(0,i.kt)("inlineCode",{parentName:"p"},"clang")," will replace any mentions of ",(0,i.kt)("inlineCode",{parentName:"p"},"LENGTH")," in your own code with, literally, ",(0,i.kt)("inlineCode",{parentName:"p"},"45"),". In other words, it\u2019s not a variable, just a find-and-replace trick."),(0,i.kt)("p",null,"Finally, notice the prototypes for five functions: ",(0,i.kt)("inlineCode",{parentName:"p"},"check"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"hash"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"load"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"size"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"unload"),". Notice how three of those take a pointer as an argument, per the ",(0,i.kt)("inlineCode",{parentName:"p"},"*"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"bool check(const char *word);\nunsigned int hash(const char *word);\nbool load(const char *dictionary);\n\n")),(0,i.kt)("p",null,"Recall that ",(0,i.kt)("inlineCode",{parentName:"p"},"char *")," is what we used to call ",(0,i.kt)("inlineCode",{parentName:"p"},"string"),". So those three prototypes are essentially just:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"bool check(const string word);\nunsigned int hash(const string word);\nbool load(const string dictionary);\n\n")),(0,i.kt)("p",null,"And ",(0,i.kt)("inlineCode",{parentName:"p"},"const"),", meanwhile, just says that those strings, when passed in as arguments, must remain constant; you won\u2019t be able to change them, accidentally or otherwise!"),(0,i.kt)("h4",{id:"dictionaryc"},(0,i.kt)("a",{parentName:"h4",href:"#dictionaryc"},(0,i.kt)("inlineCode",{parentName:"a"},"dictionary.c"))),(0,i.kt)("p",null,"Now open up ",(0,i.kt)("inlineCode",{parentName:"p"},"dictionary.c"),". Notice how, atop the file, we\u2019ve defined a ",(0,i.kt)("inlineCode",{parentName:"p"},"struct")," called ",(0,i.kt)("inlineCode",{parentName:"p"},"node")," that represents a node in a hash table. And we\u2019ve declared a global pointer array, ",(0,i.kt)("inlineCode",{parentName:"p"},"table"),", which will (soon) represent the hash table you will use to keep track of words in the dictionary. The array contains ",(0,i.kt)("inlineCode",{parentName:"p"},"N")," node pointers, and we\u2019ve set ",(0,i.kt)("inlineCode",{parentName:"p"},"N")," equal to ",(0,i.kt)("inlineCode",{parentName:"p"},"26")," for now, to match with the default ",(0,i.kt)("inlineCode",{parentName:"p"},"hash")," function as described below. You will likely want to increase this depending on your own implementation of ",(0,i.kt)("inlineCode",{parentName:"p"},"hash"),"."),(0,i.kt)("p",null,"Next, notice that we\u2019ve implemented ",(0,i.kt)("inlineCode",{parentName:"p"},"load"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"check"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"size"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"unload"),", but only barely, just enough for the code to compile. Notice too that we\u2019ve implemented ",(0,i.kt)("inlineCode",{parentName:"p"},"hash")," with a sample algorithm based on the first letter of the word. Your job, ultimately, is to re-implement those functions as cleverly as possible so that this spell checker works as advertised. And fast!"),(0,i.kt)("h4",{id:"spellerc"},(0,i.kt)("a",{parentName:"h4",href:"#spellerc"},(0,i.kt)("inlineCode",{parentName:"a"},"speller.c"))),(0,i.kt)("p",null,"Okay, next open up ",(0,i.kt)("inlineCode",{parentName:"p"},"speller.c")," and spend some time looking over the code and comments therein. You won\u2019t need to change anything in this file, and you don\u2019t need to understand its entirety, but do try to get a sense of its functionality nonetheless. Notice how, by way of a function called ",(0,i.kt)("inlineCode",{parentName:"p"},"getrusage"),", we\u2019ll be \u201cbenchmarking\u201d (i.e., timing the execution of) your implementations of ",(0,i.kt)("inlineCode",{parentName:"p"},"check"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"load"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"size"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"unload"),". Also notice how we go about passing ",(0,i.kt)("inlineCode",{parentName:"p"},"check"),", word by word, the contents of some file to be spell-checked. Ultimately, we report each misspelling in that file along with a bunch of statistics."),(0,i.kt)("p",null,"Notice, incidentally, that we have defined the usage of ",(0,i.kt)("inlineCode",{parentName:"p"},"speller")," to be"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"Usage: speller [dictionary] text\n\n")),(0,i.kt)("p",null,"where ",(0,i.kt)("inlineCode",{parentName:"p"},"dictionary")," is assumed to be a file containing a list of lowercase words, one per line, and ",(0,i.kt)("inlineCode",{parentName:"p"},"text")," is a file to be spell-checked. As the brackets suggest, provision of ",(0,i.kt)("inlineCode",{parentName:"p"},"dictionary")," is optional; if this argument is omitted, ",(0,i.kt)("inlineCode",{parentName:"p"},"speller")," will use ",(0,i.kt)("inlineCode",{parentName:"p"},"dictionaries/large")," by default. In other words, running"),(0,i.kt)("p",null,"will be equivalent to running"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"./speller dictionaries/large text\n\n")),(0,i.kt)("p",null,"where ",(0,i.kt)("inlineCode",{parentName:"p"},"text")," is the file you wish to spell-check. Suffice it to say, the former is easier to type! (Of course, ",(0,i.kt)("inlineCode",{parentName:"p"},"speller")," will not be able to load any dictionaries until you implement ",(0,i.kt)("inlineCode",{parentName:"p"},"load")," in ",(0,i.kt)("inlineCode",{parentName:"p"},"dictionary.c"),"! Until then, you\u2019ll see ",(0,i.kt)("inlineCode",{parentName:"p"},"Could not load"),".)"),(0,i.kt)("p",null,"Within the default dictionary, mind you, are 143,091 words, all of which must be loaded into memory! In fact, take a peek at that file to get a sense of its structure and size. Notice that every word in that file appears in lowercase (even, for simplicity, proper nouns and acronyms). From top to bottom, the file is sorted lexicographically, with only one word per line (each of which ends with ",(0,i.kt)("inlineCode",{parentName:"p"},"\\n"),"). No word is longer than 45 characters, and no word appears more than once. During development, you may find it helpful to provide ",(0,i.kt)("inlineCode",{parentName:"p"},"speller")," with a ",(0,i.kt)("inlineCode",{parentName:"p"},"dictionary")," of your own that contains far fewer words, lest you struggle to debug an otherwise enormous structure in memory. In ",(0,i.kt)("inlineCode",{parentName:"p"},"dictionaries/small")," is one such dictionary. To use it, execute"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"./speller dictionaries/small text\n\n")),(0,i.kt)("p",null,"where ",(0,i.kt)("inlineCode",{parentName:"p"},"text")," is the file you wish to spell-check. Don\u2019t move on until you\u2019re sure you understand how ",(0,i.kt)("inlineCode",{parentName:"p"},"speller")," itself works!"),(0,i.kt)("p",null,"Odds are, you didn\u2019t spend enough time looking over ",(0,i.kt)("inlineCode",{parentName:"p"},"speller.c"),". Go back one square and walk yourself through it again!"),(0,i.kt)("h4",{id:"texts"},(0,i.kt)("a",{parentName:"h4",href:"#texts"},(0,i.kt)("inlineCode",{parentName:"a"},"texts/"))),(0,i.kt)("p",null,"So that you can test your implementation of ",(0,i.kt)("inlineCode",{parentName:"p"},"speller"),", we\u2019ve also provided you with a whole bunch of texts, among them the script from ",(0,i.kt)("em",{parentName:"p"},"La La Land"),", the text of the Affordable Care Act, three million bytes from Tolstoy, some excerpts from ",(0,i.kt)("em",{parentName:"p"},"The Federalist Papers")," and Shakespeare, and more. So that you know what to expect, open and skim each of those files, all of which are in a directory called ",(0,i.kt)("inlineCode",{parentName:"p"},"texts")," within your ",(0,i.kt)("inlineCode",{parentName:"p"},"pset5")," directory."),(0,i.kt)("p",null,"Now, as you should know from having read over ",(0,i.kt)("inlineCode",{parentName:"p"},"speller.c")," carefully, the output of ",(0,i.kt)("inlineCode",{parentName:"p"},"speller"),", if executed with, say,"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"./speller texts/lalaland.txt\n\n")),(0,i.kt)("p",null,"will eventually resemble the below."),(0,i.kt)("p",null,"Below\u2019s some of the output you\u2019ll see. For information\u2019s sake, we\u2019ve excerpted some examples of \u201cmisspellings.\u201d And lest we spoil the fun, we\u2019ve omitted our own statistics for now."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"MISSPELLED WORDS\n\n[...]\nAHHHHHHHHHHHHHHHHHHHHHHHHHHHT\n[...]\nShangri\n[...]\nfianc\n[...]\nSebastian's\n[...]\n\nWORDS MISSPELLED:\nWORDS IN DICTIONARY:\nWORDS IN TEXT:\nTIME IN load:\nTIME IN check:\nTIME IN size:\nTIME IN unload:\nTIME IN TOTAL:\n\n")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"TIME IN load")," represents the number of seconds that ",(0,i.kt)("inlineCode",{parentName:"p"},"speller")," spends executing your implementation of ",(0,i.kt)("inlineCode",{parentName:"p"},"load"),". ",(0,i.kt)("inlineCode",{parentName:"p"},"TIME IN check")," represents the number of seconds that ",(0,i.kt)("inlineCode",{parentName:"p"},"speller")," spends, in total, executing your implementation of ",(0,i.kt)("inlineCode",{parentName:"p"},"check"),". ",(0,i.kt)("inlineCode",{parentName:"p"},"TIME IN size")," represents the number of seconds that ",(0,i.kt)("inlineCode",{parentName:"p"},"speller")," spends executing your implementation of ",(0,i.kt)("inlineCode",{parentName:"p"},"size"),". ",(0,i.kt)("inlineCode",{parentName:"p"},"TIME IN unload")," represents the number of seconds that ",(0,i.kt)("inlineCode",{parentName:"p"},"speller")," spends executing your implementation of ",(0,i.kt)("inlineCode",{parentName:"p"},"unload"),". ",(0,i.kt)("inlineCode",{parentName:"p"},"TIME IN TOTAL")," is the sum of those four measurements."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Note that these times may vary somewhat across executions of ",(0,i.kt)("inlineCode",{parentName:"strong"},"speller"),", depending on what else your codespace is doing, even if you don\u2019t change your code.")),(0,i.kt)("p",null,"Incidentally, to be clear, by \u201cmisspelled\u201d we simply mean that some word is not in the ",(0,i.kt)("inlineCode",{parentName:"p"},"dictionary")," provided."),(0,i.kt)("h4",{id:"makefile"},(0,i.kt)("a",{parentName:"h4",href:"#makefile"},(0,i.kt)("inlineCode",{parentName:"a"},"Makefile"))),(0,i.kt)("p",null,"And, lastly, recall that ",(0,i.kt)("inlineCode",{parentName:"p"},"make")," automates compilation of your code so that you don\u2019t have to execute ",(0,i.kt)("inlineCode",{parentName:"p"},"clang")," manually along with a whole bunch of switches. However, as your programs grow in size, ",(0,i.kt)("inlineCode",{parentName:"p"},"make")," won\u2019t be able to infer from context anymore how to compile your code; you\u2019ll need to start telling ",(0,i.kt)("inlineCode",{parentName:"p"},"make")," how to compile your program, particularly when they involve multiple source (i.e., ",(0,i.kt)("inlineCode",{parentName:"p"},".c"),") files, as in the case of this problem. And so we\u2019ll utilize a ",(0,i.kt)("inlineCode",{parentName:"p"},"Makefile"),", a configuration file that tells ",(0,i.kt)("inlineCode",{parentName:"p"},"make")," exactly what to do. Open up ",(0,i.kt)("inlineCode",{parentName:"p"},"Makefile"),", and you should see four lines:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"The first line tells ",(0,i.kt)("inlineCode",{parentName:"li"},"make")," to execute the subsequent lines whenever you yourself execute ",(0,i.kt)("inlineCode",{parentName:"li"},"make speller")," (or just ",(0,i.kt)("inlineCode",{parentName:"li"},"make"),")."),(0,i.kt)("li",{parentName:"ol"},"The second line tells ",(0,i.kt)("inlineCode",{parentName:"li"},"make")," how to compile ",(0,i.kt)("inlineCode",{parentName:"li"},"speller.c")," into machine code (i.e., ",(0,i.kt)("inlineCode",{parentName:"li"},"speller.o"),")."),(0,i.kt)("li",{parentName:"ol"},"The third line tells ",(0,i.kt)("inlineCode",{parentName:"li"},"make")," how to compile ",(0,i.kt)("inlineCode",{parentName:"li"},"dictionary.c")," into machine code (i.e., ",(0,i.kt)("inlineCode",{parentName:"li"},"dictionary.o"),")."),(0,i.kt)("li",{parentName:"ol"},"The fourth line tells ",(0,i.kt)("inlineCode",{parentName:"li"},"make")," to link ",(0,i.kt)("inlineCode",{parentName:"li"},"speller.o")," and ",(0,i.kt)("inlineCode",{parentName:"li"},"dictionary.o")," in a file called ",(0,i.kt)("inlineCode",{parentName:"li"},"speller"),".")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Be sure to compile ",(0,i.kt)("inlineCode",{parentName:"strong"},"speller")," by executing ",(0,i.kt)("inlineCode",{parentName:"strong"},"make speller")," (or just ",(0,i.kt)("inlineCode",{parentName:"strong"},"make"),"). Executing ",(0,i.kt)("inlineCode",{parentName:"strong"},"make dictionary")," won\u2019t work!")),(0,i.kt)("h2",{id:"specification"},(0,i.kt)("a",{parentName:"h2",href:"#specification"},"Specification")),(0,i.kt)("p",null,"Alright, the challenge now before you is to implement, in order, ",(0,i.kt)("inlineCode",{parentName:"p"},"load"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"hash"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"size"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"check"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"unload")," as efficiently as possible using a hash table in such a way that ",(0,i.kt)("inlineCode",{parentName:"p"},"TIME IN load"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"TIME IN check"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"TIME IN size"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"TIME IN unload")," are all minimized. To be sure, it\u2019s not obvious what it even means to be minimized, inasmuch as these benchmarks will certainly vary as you feed ",(0,i.kt)("inlineCode",{parentName:"p"},"speller")," different values for ",(0,i.kt)("inlineCode",{parentName:"p"},"dictionary")," and for ",(0,i.kt)("inlineCode",{parentName:"p"},"text"),". But therein lies the challenge, if not the fun, of this problem. This problem is your chance to design. Although we invite you to minimize space, your ultimate enemy is time. But before you dive in, some specifications from us."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"You may not alter ",(0,i.kt)("inlineCode",{parentName:"li"},"speller.c")," or ",(0,i.kt)("inlineCode",{parentName:"li"},"Makefile"),"."),(0,i.kt)("li",{parentName:"ul"},"You may alter ",(0,i.kt)("inlineCode",{parentName:"li"},"dictionary.c")," (and, in fact, must in order to complete the implementations of ",(0,i.kt)("inlineCode",{parentName:"li"},"load"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"hash"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"size"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"check"),", and ",(0,i.kt)("inlineCode",{parentName:"li"},"unload"),"), but you may not alter the declarations (i.e., prototypes) of ",(0,i.kt)("inlineCode",{parentName:"li"},"load"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"hash"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"size"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"check"),", or ",(0,i.kt)("inlineCode",{parentName:"li"},"unload"),". You may, though, add new functions and (local or global) variables to ",(0,i.kt)("inlineCode",{parentName:"li"},"dictionary.c"),"."),(0,i.kt)("li",{parentName:"ul"},"You may change the value of ",(0,i.kt)("inlineCode",{parentName:"li"},"N")," in ",(0,i.kt)("inlineCode",{parentName:"li"},"dictionary.c"),", so that your hash table can have more buckets."),(0,i.kt)("li",{parentName:"ul"},"You may alter ",(0,i.kt)("inlineCode",{parentName:"li"},"dictionary.h"),", but you may not alter the declarations of ",(0,i.kt)("inlineCode",{parentName:"li"},"load"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"hash"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"size"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"check"),", or ",(0,i.kt)("inlineCode",{parentName:"li"},"unload"),"."),(0,i.kt)("li",{parentName:"ul"},"Your implementation of ",(0,i.kt)("inlineCode",{parentName:"li"},"check")," must be case-insensitive. In other words, if ",(0,i.kt)("inlineCode",{parentName:"li"},"foo")," is in dictionary, then ",(0,i.kt)("inlineCode",{parentName:"li"},"check")," should return true given any capitalization thereof; none of ",(0,i.kt)("inlineCode",{parentName:"li"},"foo"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"foO"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"fOo"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"fOO"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"fOO"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"Foo"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"FoO"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"FOo"),", and ",(0,i.kt)("inlineCode",{parentName:"li"},"FOO")," should be considered misspelled."),(0,i.kt)("li",{parentName:"ul"},"Capitalization aside, your implementation of ",(0,i.kt)("inlineCode",{parentName:"li"},"check")," should only return ",(0,i.kt)("inlineCode",{parentName:"li"},"true")," for words actually in ",(0,i.kt)("inlineCode",{parentName:"li"},"dictionary"),". Beware hard-coding common words (e.g., ",(0,i.kt)("inlineCode",{parentName:"li"},"the"),"), lest we pass your implementation a ",(0,i.kt)("inlineCode",{parentName:"li"},"dictionary")," without those same words. Moreover, the only possessives allowed are those actually in ",(0,i.kt)("inlineCode",{parentName:"li"},"dictionary"),". In other words, even if ",(0,i.kt)("inlineCode",{parentName:"li"},"foo")," is in ",(0,i.kt)("inlineCode",{parentName:"li"},"dictionary"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"check")," should return ",(0,i.kt)("inlineCode",{parentName:"li"},"false")," given ",(0,i.kt)("inlineCode",{parentName:"li"},"foo's")," if ",(0,i.kt)("inlineCode",{parentName:"li"},"foo's")," is not also in ",(0,i.kt)("inlineCode",{parentName:"li"},"dictionary"),"."),(0,i.kt)("li",{parentName:"ul"},"You may assume that any ",(0,i.kt)("inlineCode",{parentName:"li"},"dictionary")," passed to your program will be structured exactly like ours, alphabetically sorted from top to bottom with one word per line, each of which ends with ",(0,i.kt)("inlineCode",{parentName:"li"},"\\n"),". You may also assume that ",(0,i.kt)("inlineCode",{parentName:"li"},"dictionary")," will contain at least one word, that no word will be longer than ",(0,i.kt)("inlineCode",{parentName:"li"},"LENGTH")," (a constant defined in ",(0,i.kt)("inlineCode",{parentName:"li"},"dictionary.h"),") characters, that no word will appear more than once, that each word will contain only lowercase alphabetical characters and possibly apostrophes, and that no word will start with an apostrophe."),(0,i.kt)("li",{parentName:"ul"},"You may assume that ",(0,i.kt)("inlineCode",{parentName:"li"},"check")," will only be passed words that contain (uppercase or lowercase) alphabetical characters and possibly apostrophes."),(0,i.kt)("li",{parentName:"ul"},"Your spell checker may only take ",(0,i.kt)("inlineCode",{parentName:"li"},"text")," and, optionally, ",(0,i.kt)("inlineCode",{parentName:"li"},"dictionary")," as input. Although you might be inclined (particularly if among those more comfortable) to \u201cpre-process\u201d our default dictionary in order to derive an \u201cideal hash function\u201d for it, you may not save the output of any such pre-processing to disk in order to load it back into memory on subsequent runs of your spell checker in order to gain an advantage."),(0,i.kt)("li",{parentName:"ul"},"Your spell checker must not leak any memory. Be sure to check for leaks with ",(0,i.kt)("inlineCode",{parentName:"li"},"valgrind"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"The hash function you write should ultimately be your own, not one you search for online.")," There are many ways to implement a hash function beyond using the first character (or characters) of a word. Consider a hash function that uses a sum of ASCII values or the length of a word. A good hash function tends to reduce \u201ccollisions\u201d and has a fairly even distribution across hash table \u201cbuckets\u201d.")),(0,i.kt)("p",null,"Alright, ready to go?"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Implement ",(0,i.kt)("inlineCode",{parentName:"li"},"load"),"."),(0,i.kt)("li",{parentName:"ul"},"Implement ",(0,i.kt)("inlineCode",{parentName:"li"},"hash"),"."),(0,i.kt)("li",{parentName:"ul"},"Implement ",(0,i.kt)("inlineCode",{parentName:"li"},"size"),"."),(0,i.kt)("li",{parentName:"ul"},"Implement ",(0,i.kt)("inlineCode",{parentName:"li"},"check"),"."),(0,i.kt)("li",{parentName:"ul"},"Implement ",(0,i.kt)("inlineCode",{parentName:"li"},"unload"),".")),(0,i.kt)("h2",{id:"walkthroughs"},(0,i.kt)("a",{parentName:"h2",href:"#walkthroughs"},"Walkthroughs")),(0,i.kt)("p",null,"Note that there are 6 videos in the below playlist."),(0,i.kt)("h2",{id:"hints"},(0,i.kt)("a",{parentName:"h2",href:"#hints"},"Hints")),(0,i.kt)("p",null,"To compare two strings case-insensitively, you may find ",(0,i.kt)("a",{parentName:"p",href:"https://man.cs50.io/3/strcasecmp"},(0,i.kt)("inlineCode",{parentName:"a"},"strcasecmp"))," (declared in ",(0,i.kt)("inlineCode",{parentName:"p"},"strings.h"),") useful! You\u2019ll likely also want to ensure that your hash function is case-insensitive, such that ",(0,i.kt)("inlineCode",{parentName:"p"},"foo")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"FOO")," have the same hash value."),(0,i.kt)("p",null,"Ultimately, be sure to ",(0,i.kt)("inlineCode",{parentName:"p"},"free")," in ",(0,i.kt)("inlineCode",{parentName:"p"},"unload")," any memory that you allocated in ",(0,i.kt)("inlineCode",{parentName:"p"},"load"),"! Recall that ",(0,i.kt)("inlineCode",{parentName:"p"},"valgrind")," is your newest best friend. Know that ",(0,i.kt)("inlineCode",{parentName:"p"},"valgrind")," watches for leaks while your program is actually running, so be sure to provide command-line arguments if you want ",(0,i.kt)("inlineCode",{parentName:"p"},"valgrind")," to analyze ",(0,i.kt)("inlineCode",{parentName:"p"},"speller")," while you use a particular ",(0,i.kt)("inlineCode",{parentName:"p"},"dictionary")," and/or text, as in the below. Best to use a small text, though, else ",(0,i.kt)("inlineCode",{parentName:"p"},"valgrind")," could take quite a while to run."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"valgrind ./speller texts/cat.txt\n\n")),(0,i.kt)("p",null,"If you run ",(0,i.kt)("inlineCode",{parentName:"p"},"valgrind")," without specifying a ",(0,i.kt)("inlineCode",{parentName:"p"},"text")," for ",(0,i.kt)("inlineCode",{parentName:"p"},"speller"),", your implementations of ",(0,i.kt)("inlineCode",{parentName:"p"},"load")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"unload")," won\u2019t actually get called (and thus analyzed)."),(0,i.kt)("p",null,"If unsure how to interpret the output of ",(0,i.kt)("inlineCode",{parentName:"p"},"valgrind"),", do just ask ",(0,i.kt)("inlineCode",{parentName:"p"},"help50")," for help:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"help50 valgrind ./speller texts/cat.txt\n\n")),(0,i.kt)("h2",{id:"testing"},(0,i.kt)("a",{parentName:"h2",href:"#testing"},"Testing")),(0,i.kt)("p",null,"How to check whether your program is outting the right misspelled words? Well, you\u2019re welcome to consult the \u201canswer keys\u201d that are inside of the ",(0,i.kt)("inlineCode",{parentName:"p"},"keys")," directory that\u2019s inside of your ",(0,i.kt)("inlineCode",{parentName:"p"},"speller")," directory. For instance, inside of ",(0,i.kt)("inlineCode",{parentName:"p"},"keys/lalaland.txt")," are all of the words that your program ",(0,i.kt)("em",{parentName:"p"},"should")," think are misspelled."),(0,i.kt)("p",null,"You could therefore run your program on some text in one window, as with the below."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"./speller texts/lalaland.txt\n\n")),(0,i.kt)("p",null,"And you could then run the staff\u2019s solution on the same text in another window, as with the below."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"./speller50 texts/lalaland.txt\n\n")),(0,i.kt)("p",null,"And you could then compare the windows visually side by side. That could get tedious quickly, though. So you might instead want to \u201credirect\u201d your program\u2019s output to a file, as with the below."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"./speller texts/lalaland.txt > student.txt\n./speller50 texts/lalaland.txt > staff.txt\n\n")),(0,i.kt)("p",null,"You can then compare both files side by side in the same window with a program like ",(0,i.kt)("inlineCode",{parentName:"p"},"diff"),", as with the below."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"diff -y student.txt staff.txt\n\n")),(0,i.kt)("p",null,"Alternatively, to save time, you could just compare your program\u2019s output (assuming you redirected it to, e.g., ",(0,i.kt)("inlineCode",{parentName:"p"},"student.txt"),") against one of the answer keys without running the staff\u2019s solution, as with the below."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"diff -y student.txt keys/lalaland.txt\n\n")),(0,i.kt)("p",null,"If your program\u2019s output matches the staff\u2019s, ",(0,i.kt)("inlineCode",{parentName:"p"},"diff")," will output two columns that should be identical except for, perhaps, the running times at the bottom. If the columns differ, though, you\u2019ll see a ",(0,i.kt)("inlineCode",{parentName:"p"},">")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"|")," where they differ. For instance, if you see"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"MISSPELLED WORDS                                                MISSPELLED WORDS\n\nTECHNO                                                          TECHNO\nL                                                               L\n                                                              > Thelonious\nPrius                                                           Prius\n                                                              > MIA\nL                                                               L\n\n")),(0,i.kt)("p",null,"that means your program (whose output is on the left) does not think that ",(0,i.kt)("inlineCode",{parentName:"p"},"Thelonious")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"MIA")," is misspelled, even though the staff\u2019s output (on the right) does, as is implied by the absence of, say, ",(0,i.kt)("inlineCode",{parentName:"p"},"Thelonious")," in the lefthand column and the presence of ",(0,i.kt)("inlineCode",{parentName:"p"},"Thelonious")," in the righthand column."),(0,i.kt)("p",null,"Finally, be sure to test with both the default large and small dictionaries. Be careful not to assume that if your solution runs successfully with the large dictionary it will also run successfully with the small one. Here\u2019s how to try the small dictionary:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"./speller dictionaries/small texts/cat.txt \n\n")),(0,i.kt)("h3",{id:"check50"},(0,i.kt)("a",{parentName:"h3",href:"#check50"},(0,i.kt)("inlineCode",{parentName:"a"},"check50"))),(0,i.kt)("p",null,"To test your code less manually (though still not exhaustively), you may also execute the below."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"check50 cs50/problems/2023/x/speller\n\n")),(0,i.kt)("p",null,"Note that ",(0,i.kt)("inlineCode",{parentName:"p"},"check50")," will also check for memory leaks, so be sure you\u2019ve run ",(0,i.kt)("inlineCode",{parentName:"p"},"valgrind")," as well."),(0,i.kt)("h3",{id:"style50"},(0,i.kt)("a",{parentName:"h3",href:"#style50"},"style50")),(0,i.kt)("p",null,"Execute the below to evaluate the style of your code using ",(0,i.kt)("inlineCode",{parentName:"p"},"style50"),"."),(0,i.kt)("h2",{id:"staffs-solution"},(0,i.kt)("a",{parentName:"h2",href:"#staffs-solution"},"Staff\u2019s Solution")),(0,i.kt)("p",null,"How to assess just how fast (and correct) your code is? Well, as always, feel free to play with the staff\u2019s solution, as with the below, and compare its numbers against yours."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"./speller50 texts/lalaland.txt\n\n")),(0,i.kt)("h2",{id:"how-to-submit"},(0,i.kt)("a",{parentName:"h2",href:"#how-to-submit"},"How to Submit")),(0,i.kt)("p",null,"In your terminal, execute the below to submit your work."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"submit50 cs50/problems/2023/x/speller\n\n")))}c.isMDXComponent=!0}}]);